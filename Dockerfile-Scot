FROM scot_perl

#Create log directory
RUN mkdir -p /var/log/scot
RUN mkdir -p /opt/scot

#copy config files
COPY install/src/scot/ /opt/scot/etc/  
COPY install/src/scot/scot.service /etc/systemd/system/scot.service
COPY script/ /opt/scot/script/
COPY public/ /opt/scot/public
COPY t/ /opt/scot/t/
COPY templates/ /opt/scot/templates/ 
COPY docker-configs/scot/scot.cfg.pl /opt/scot/etc/
COPY docker-configs/scot/Scot.pm /opt/scot/lib/

EXPOSE 3000 

ENTRYPOINT /usr/local/bin/hypnotoad -f /opt/scot/script/Scot
