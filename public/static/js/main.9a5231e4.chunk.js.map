{"version":3,"sources":["images/scot_logo_473x473.png","utils/userConfig.js","components/local_storage.js","components/dashboard/dazzle/widgetWrapper.js","components/dashboard/dazzle/widgetPicker.js","components/dashboard/dazzle/dashboard.js","components/dashboard/status.js","components/dashboard/gamification.js","utils/session_storage.js","utils/time.js","components/dashboard/activity.js","utils/timesince.js","components/dashboard/report_heatmap.js","utils/debounce.js","components/dashboard/report_art.js","components/dashboard/report_alertpower.js","components/dashboard/report_created.js","components/dashboard/report.js","list/LoadingContainer/index.js","components/dashboard/thinglist.js","components/dashboard/dazzle/widgets.js","main/home.js","utils/cookies.js","components/esearch.js","debug-components/wall.js","modal/login.js","components/TagInput/index.js","list/tableConfig.js","utils/constants.js","utils/list-columns.js","components/detail_data_status.js","components/promote.js","components/marker.js","modal/entity_detail.js","components/traffic_light_protocol.js","detail/selected_header_options.js","modal/delete.js","modal/owner.js","modal/entities.js","modal/change_history.js","modal/viewed_by_history.js","components/permission.js","components/add_entry.js","components/frame.js","components/file_upload.js","components/summary.js","components/task.js","components/add_flair.js","modal/link_warning.js","components/signature_table.js","components/autocomplete_input.js","modal/entity_create.js","components/custom_metadata_table.js","detail/selected_entry.js","components/badge.js","modal/links.js","modal/mark.js","detail/selected_header.js","list/list-view.js","modal/export_event.js","modal/promoted_data.js","detail/selected_container.js","components/admin/usergroupform.js","components/admin/areyousure.js","components/admin/usergroupcontainer.js","components/admin/api.js","components/admin/undelete.js","components/admin/index.js","main/index.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","UserConfigKeyShape","key","PropTypes","string","isRequired","default","any","UserConfigContextTypes","getUserConfig","func","setUserConfig","UserConfigProvider","_PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","userConfig","loading","update","bind","assertThisInitialized","inherits","createClass","value","Promise","resolve","reject","json","localStorage","JSON","parse","config","_this2","name","stringify","setItem","then","_this3","setState","react_default","a","createElement","react_broadcast","channel","children","PureComponent","childContextTypes","shape","bool","PanelHeader","title","onRemove","style","position","className","Button","onClick","bsSize","Wrapper","_ref","editable","concat","Panel","header","React","cloneElement","editMode","WidgetPicker","widgets","layout","isOpen","onClose","onSelect","activeWidgets","Set","rows","forEach","row","columns","col","widget","add","widgetItems","keys","filter","has","map","widgetObj","description","length","Modal","show","onHide","Header","closeButton","Title","Body","Footer","defaultLayout","Dashboard","saveDashboard","isNew","widgetPicker","newWidgetOptions","onAdd","updateLayout","updateTitle","reset","toggleEdit","togglePicker","selectWidget","rowIndex","columnIndex","target","errorToggle","_this$state$newWidget","addWidget","dashboard_TitleBar","onEdit","onSave","onCancel","handleTitleChange","Grid","fluid","lib_default","onMove","frameComponent","WidgetWrapper","defaultProps","TitleBar","onSubmit","type","placeholder","onChange","bsStyle","disabled","Status","statusData","error","updateData","fetchError","$","ajax","url","success","_isMounted","response","_this$props$className","services","Array","isArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","service","status","push","status_Service","err","return","classes","join","Service","Gamification","gameData","gameCategories","categoryIndex","updateCategory","categoryInterval","setInterval","clearInterval","nextIndex","data","categories","category","gamification_Category","Well","Category","str","charAt","toUpperCase","slice","tooltip","username","es_Badge","count","setLocalStorage","getLocalStorage","setSessionStorage","removeSessionStorage","removeItem","getSessionStorage","moment","extendMoment","Moment","timeOlderThan","timestamp","secondsAgo","Date","now","todayRange","start","Math","floor","setHours","end","lastWeekRange","DAY","epochRangeToFilter","range","epochRangeToString","NOTIFICATION_LEVEL","wall","create","delete","NOTIFICATION_TYPES","NOTIFICATION_TIME","ACTIVITY_TYPE","Activity","users","notifications","loadWall","updateActivity","updateUsers","wallMessage","notification","refreshTimer","createCallback","pruned","time","action","persistWall","records","user","who","timeago","last_activity","walls","SessionStorage","message","activemqwhen","activemqwho","activemqmessage","level","includes","activemqwall","activemqtype","activemqstate","activemqid","arguments","i","item","epoch","badge","seconds","interval","timeSince","text","activity_ActivityItem","items","sort","b","buildActivityItem","stopped","marquee","well","marqueeValues","window","getComputedStyle","parseInt","width","paddingLeft","offsetWidth","ref","ReactDOM","findDOMNode","Component","ActivityItem","_ref$badge","_ref$style","Label","ReportHeatmap","collection","year","collectionChange","yearChange","loadHeatMap","margin","height","gridSize","legendElementWidth","colors","container","d3","graph","select","empty","append","attr","selectAll","enter","d","remove","colorScale","domain","buckets","cards","day","hour","merge","transition","duration","exit","legend","quantiles","round","event","svgString","XMLSerializer","serializeToString","document","querySelector","canvas","ctx","getContext","DOMURL","self","URL","webkitURL","img","Image","svg","Blob","createObjectURL","onload","drawImage","png","toDataURL","innerHTML","revokeObjectURL","appendTo","click","src","formDisabled","htmlFor","display","textAlign","id","min","step","exportToPNG","viewBox","hidden","debounce","callback","timeout","wait","immediate","_len","args","_key","clearTimeout","setTimeout","apply","formatTime","days","hours","minutes","output","barColors","All","Promoted","Incident","ReportArt","today","toISOString","date","unit","chartData","dates","lines","loadArt","unitChange","lengthChange","dateChange","initChart","xAxisEl","yAxisEl","chartInit","barNames","values","lineNames","maxValue","dateScale","padding","rangeRound","barScale","from","bandwidth","yScale","clamp","nice","xAxis","scale","yAxis","ticks","tickFormat","formatTickTime","AvgHolder","averages","AvgHolderBox","node","getBBox","x","y","borderOffset","transform","baseVal","initialize","getItem","LegendHolder","legendHeight","widthSums","legendWidth","opts","_this4","_this5","updateChart","pattern","wrapText","each","getComputedTextLength","words","split","reverse","word","line","lineCount","dy","parseFloat","pop","yOffset","ReportAlertpower","displayMode","chartResults","chartSort","chartSortDir","chartFilter","loadData","dataChange","displayModeChange","xScale","dataset","dataTypes","replace","score","curStart","curEnd","total","max","stackedMax","groupedMax","alerts","alertTypes","bars","transitionGrouped","transitionStacked","delay","tween","prec","pow","t","initialDuration","displayModeChanged","encodeURIComponent","defineProperty","preventDefault","stopPropagation","preventSubmit","background","border","checked","ReportCreated","statusLine","curve","lineHolder","shown","on","newData","genData","reduce","e","console","log","dataMaxes","alertgroups","entries","events","intel","incidents","lineData","getTime","random","reportByType","reportType","reportTitleByType","reportDescriptionByType","reportPanelHeader","expandButton","backButton","Link","to","aria-hidden","ReportPage","overflow","report_heatmap","report_alertpower","report_art","report_created","SingleReport","_ref$reportType","reportComponentByType","withStyles","theme","progress","spacing","CircularProgress_default","ThingList","extend","queryOptions","objectSpread","newBadge","ajaxSetup","traditional","thingType","processData","fetchData","thing","getLink","getSummary","created","things","genThingItem","emptyStyle","emptyString","list_LoadingContainer","ListGroup","limit","offset","subject","configKey","RecentIntel","RecentEvents","RecentIncidents","OpenTasks","tasks","updated","metadata.task.status","body_plain","substr","YourTasks","yourTasks","owner","UnviewedAlerts","unviewedAlerts","views","TopEvents","topEvents","has_tasks","ViewedEvents","viewedEvents","EntryEvents","entryEvents","entry_count","Widgets","widgetTypes","_i","ReportWidgets","HomeDashboard","switchTab","closeTab","saveTab","dashboard_Dashboard","dashboardConfig","tabs","toConsumableArray","updateDashboardConfig","curTab","tabConfig","index","tabLayout","newTabConfig","splice","newTab","newConfig","loggedIn","dashboardHeader","dashboard_status","gamification","activity","removeCallback","tabsConfig","defaultTab","buildTab","tabHeaders","tab","_tab$title","objectWithoutProperties","es_NavItem","eventKey","cursor","tabContent","Tab","Pane","assign","Container","activeKey","Row","Col","sm","es_Nav","Content","mountOnEnter","unmountOnExit","withUserConfig","checkPropTypes","WrappedComponent","UserConfigSubscriber","_PureComponent2","setUserSubConfig","subConfig","context","_this$props","restProps","userConfigProps","contextTypes","displayName","getDisplayName","checkCookie","cookie","getCookie","cname","ca","c","substring","indexOf","deleteCookie","setCookie","cvalue","exdays","setTime","expires","toUTCString","Search","componentDidMount","keyup","keyCode","closeSearch","showSearchToolbar","searchString","doSearch","qstring","results","searching","handleEnterKey","componentDidUpdate","render","tableRows","esearch_SearchDataEachRows","dataOne","zIndex","marginTop","float","color","charSet","onKeyPress","flexFlow","right","top","borderStyle","esearch_SearchDataEachHeader","overflowY","maxHeight","componentWillUnmount","off","searchResults","entityHeight","SearchDataEachHeader","flexGrow","textOverflow","whiteSpace","SearchDataEachRows","entryid","highlight","rowEvenOdd","rowClassName","href","_React$createElement","search_string_array","main_default","activeClassName","styles","Active","highlightClassName","searchWords","autoEscape","textToHighlight","Highlight","backgroundColor","borderColor","borderWidth","overflowX","wordWrap","require","Wall","sendWallMessage","alert","buttonStatus","buttonText","buttonLoading","msg","inputChange","input","margin-left","wall_Button","Login","pass","SSO","NormalAuth","isEnterPressed","mounted","origurl","dialogClassName","modalActive","ScotImage","alt","marginBottom","marginRight","marginLeft","defaultValue","crossDomain","WhoAmIQuery","GetHandler","loginToggle","refs","csrf","responseText","TagInput","tags","maxTags","suggestions","handleDelete","handleAdd","handleInputChange","showHideInput","tag","arr","result","obj","hide","ReactTags_default","handleAddition","autoresize","autofocus","allowBackspace","allowNew","tagComponent","Tag","classNames","onDelete","selectedTag","selectedTagName","customFilters","numberFilter","react_debounce_input_lib_default","debounceTimeout","minLength","stringFilter","_ref2","dropdownFilter","options","align","_ref3","OverlayTrigger","trigger","placement","overlay","Popover","maxWidth","ButtonGroup","vertical","option","active","textTransform","block","readOnly","dateRange","_ref4","rootClose","DateRangePicker_default","numberOfCalendars","selectionType","showLegend","singleDateRange","states","momentRangeToEpoch","dispatchEvent","MouseEvent","tagFilter","_ref5","components_TagInput","customCellRenderers","dateFormater","toLocaleString","alertStatus","_row$value$split$map","trim","_row$value$split$map2","slicedToArray","open","closed","textStatus","columnDefinitions","Id","accessor","Filter","AlertStatus","open_count","closed_count","promoted_count","column","Cell","EventStatus","IncidentStatus","SigStatus","TaskStatus","metadata","task","TaskSummary","minWidth","Subject","Location","Created","Updated","Occurred","Sources","Tags","TaskOwner","Owner","Entries","Views","DOE","IncidentType","AppliesTo","Value","Name","Group","signature_group","Type","EntityType","Description","TargetType","TargetId","filterable","defaultColumnSettings","typeColumns","alertgroup","incident","signature","guide","entity","buildTypeColumns","hasOwnProperty","colOptions","listColumnsJSON","columnsDisplay","columnsClassName","ButtonToolbar","MenuItem","DropdownButton","DetailDataStatus","keydown","is","ctrlKey","metaKey","statusAjax","unbind","trackAll","untrackAll","closeAll","openAll","enableAll","disableAll","newStatus","contentType","buttonStyle","classStatus","promotion_id","detail_data_status_OverlayTrigger","detail_data_status_Popover","detail_data_status_MenuItem","fontSize","detail_data_status_Link","role","Promote","newType","newURL","promote","location","pid","promote_Button","eventkey","Marker","isMarked","removeMarkedItemsHandler","getMarkedItemsHandler","setMarkedItemsHandler","getSelectedAlerts","nextProps","isAlert","es_MenuItem","Tooltip","markedItems","getMarkedItems","selectedAlerts","removeMarkedItems","setMarkedItems","array","tr","currentMarked","nextMarked","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","startX","startY","startWidth","startHeight","DropdownToggle","DropdownMenu","TrafficLightProtocol","selectColor","tlp","serverRequest","traffic_light_protocol_OverlayTrigger","traffic_light_protocol_Tooltip","Dropdown_default","r","cx","cy","fill","stroke","strokeWidth","traffic_light_protocol_MenuItem","divider","SelectedHeaderOptions","toggleFlair","newGlobalFlairState","globalFlairState","ifr","contentDocument","ifrContents","contents","find","addClass","removeClass","alertOpenSelected","ToggleProcessingMessage","alertCloseSelected","alertPromoteSelected","promoteTo","_loop","alertSelectExisting","prompt","isNumeric","selectExisting","alertExportCSV","csv","storearray","copy","clone","data_uri","alertDeleteSelected","PrintPrepare","css","max-height","pre","word-wrap","forceUpdate","Print","print","guideToggle","flairToolbarToggle","guideID","left","sourceToggle","createGuide","applies_to","subjectName","reparseFlair","parsed","createLinkSignature","manualUpdate","subjectType","headerData","body","showPromote","Button_default","entryToggle","fileUploadToggle","viewedByHistoryToggle","changeHistoryToggle","permissionsToggle","traffic_light_protocol_TrafficLightProtocol","entitiesToggle","guideRedirectToAlertListWithFilter","linksModalToggle","promote_Promote","showSignatureOptionsToggle","exportToggle","deleteToggle","ButtonGroup_default","marker_Marker","markModalToggle","aIndex","promoteRemaining","customStyles","content","bottom","ACTION_BUTTONS","READY","LOADING","SUCCESS","ERROR","DeleteEvent","toggle","history","react_modal_lib_default","onRequestClose","DeleteEntry","DeleteModal","deleteButton","deleteAll","when","deleteAjax","always","confirmText","whoami","componentWillReceiveProps","currentOwner","ownerToggle","ownerToolbar","DropdownButton_default","MenuItem_default","Badge_default","Entities","entities_Modal","entitiesBody","entities_EntitiesData","entityData","entities_Button","EntitiesData","originalobj","entities","prop","subobj","entities_EntitiesDataHeaderIterator","EntitiesDataHeaderIterator","eachValue","entityId","entityValue","entities_EntitiesDataValueIterator","fontWeight","EntitiesDataValueIterator","ChangeHistory","historyBody","change_history_ChangeHistoryData","ChangeHistoryData","change_history_ChangeHistoryDataIterator","ChangeHistoryDataIterator","react_time_lib_default","format","what","ViewedByHistory","viewed_by_history_ViewedByHistoryData","ViewedByHistoryData","view_history","viewed_by_history_ViewedByHistoryDataIterator","ViewedByHistoryDataIterator","where","ReactTags","WithContext","SelectedPermission","toggleNewReadPermission","readPermissionEntry","toggleNewModifyPermission","modifyPermissionEntry","permissionsfunc","permissionData","groups","writepermissionsarr","readpermissionsarr","readwritepermissionsarr","fullprop","modifyRows","readRows","permission_PermissionIterator","dataRead","dataModify","updateid","read_modify","permission_NewPermission","readUpdate","modifyUpdate","paddingTop","paddingRight","PermissionIterator","permissionDelete","newPermission","tempArr","read","modify","j","NewPermission","handleDrag","permission_ReactTags","minQueryLength","customCSS","TinyMCE","Prompt","AddEntryModal","entryAction","asyncContentLoaded","recentlyUpdated","scrollTop","shouldComponentUpdate","not_saved_entry_id","add_entry_Link","add_entry_Button","exportContent","submit","tinyID","auto_focus","selector","plugins","table_clone_elements","paste_retain_style_properties","paste_data_images","paste_preprocess","plugin","relative_urls","remove_script_host","link_assume_external_targets","toolbar1","content_css","verify_html","setup","editor","addButton","onclick","insertContent","leaveCatch","addedentry","change","startsWith","set","dataURL","parent","Number","html","target_id","targetid","target_type","dataType","forEdit","Confirm","launch","confirm","icon","confirmButtonClass","cancelButtonClass","confirmButton","cancelButton","backgroundDismiss","cancel","recipients","exportResponse","Frame","updateStylesheets","styleSheets","links","head","querySelectorAll","l","link","parentNode","removeChild","setAttribute","appendChild","renderFrame","frame","root","_children","getElementById","unmountComponentAtNode","leftover","frameBorder","onLoad","EntityDetail","componentWillMount","readyState","ifrContentsHead","rel","contentWindow","requestAnimationFrame","newheight","scrollHeight","isMounted","currentTabArray","valueClicked","entityvalue","entitytype","entityid","isNaN","entityidsarray","currentKey","initialLoad","processedIds","flairToolbarOff","containerHeightAdjust","addEventListener","checkForInitialLoadComplete","addNewEntity","watcher","nextPropsEntityIdInt","addEntity","currentTabArrayIndex","checkFlairHover","linkWarningToggle","initDrag","hasClass","elem","clientX","clientY","defaultView","documentElement","doDrag","stopDrag","blockiFrameMouseEvent","removeEventListener","allowiFrameMouseEvent","moveDivInit","moveDivStop","handleSelectTab","positionRightBoundsCheck","defaultEntityOffset","entityWidthint","fullScreen","defaultOffsetX","tabsArr","DragmeClass","z","Tab_default","entity_detail_TabContents","form","entityobj","Tabs_default","defaultActiveKey","animation","react_draggable_default","handle","onMouseDown","entityWidth","flex","borderTop","borderBottom","entityMaxHeight","entityoffset","TabContents","entity_detail_EntityValue","minHeight","entity_detail_EntityBody","guideurl","entity_detail_GuideBody","entity_detail_SourceBody","EntityValue","entityurl","detail_data_status_DetailDataStatus","EntityBody","updateAppearances","appearancesNumber","newAppearancesNumber","appearances","entryToolbar","showFullEntityButton","linkOnClickIntercept","entityEnrichmentDataArr","entityEnrichmentLinkArr","entityEnrichmentGeoArr","enrichmentEventKey","entity_detail_GeoView","entity_detail_EntityEnrichmentButtons","dataSource","entity_detail_EntityReferences","add_entry_AddEntryModal","selected_entry_SelectedEntry","isPopUp","GeoView","copyToEntry","copyToEntryToolbar","copyToEntity","copyToEntityToolbar","trArr","copyArr","EntityEnrichmentButtons","react_inspector_lib_default","expandLevel","EntityReferences","_this6","alertRequest","recordNumber","arrPromoted","arrClosed","arrOpen","maxRecords","entity_detail_ReferencesBody","entityDataAlertGroup","loadingAlerts","loadingEvents","loadingIncidents","loadingIntel","loadingSignature","eventRequest","entityDataEvent","guidesRequest","entityDataIncident","incidentRequest","intelRequest","entityDataIntel","signatureRequest","entityDataSignature","tablesorter","updateAll","ReferencesBody","_this7","trId","tdId","aHref","promotedHref","statusColor","daysSince","updatedTime","updatedTimeHumanReadable","alert_name","verticalAlign","lineHeight","showSummary","summaryExists","entryResult","summary","class","summaryData","qtip","my","at","ready","GuideBody","_this8","SourceBody","frame_Frame","_this9","sandbox","dangerouslySetInnerHTML","__html","finalfiles","FileUpload","file_upload_Link","file_upload_Button","dist_es","onDrop","border-width","border-color","border-radius","border-style","text-align","background-color","files","file","list-style-type","line-height","Close","FormData","xhr","XMLHttpRequest","uploadProgress","uploadComplete","uploadFailed","uploadCancelled","send","edit","stagecolor","enable","addentry","saved","enablesave","Summary","newClass","summaryDisplay","Task","makeTask","make_task","closeTask","close_task","takeTask","take_task","taskDisplay","taskData","abbreviateNumber","num","fixed","toPrecision","k","toFixed","abs","AddFlair","entityUpdate","scrollTo","entityResult","currentEntityValue","entityMatched","toLowerCase","entityCount","entitydata","entityEntryCount","entry","circle","geoip","isocode","country_code","isp","flag","sidd","blocklist","firewall","watch","whitelist","blackhole","proxy_block","entityEntry","subtable","wrap","LinkWarning","proceed","myDomain","reg","RegExp","linkRegResult","match","myDomainRegResult","SignatureTable","submitSigBody","viewVersionid","ajaxType","viewSigBodyid","signature_id","revision","cursorEnabledDisabled","signatureData","editSigBody","lastViewVersionid","createNewSigBody","createNewSigBodyFromSig","Cancel","version","constructor","prod_sigbody_id","viewSigBody","keyboardHandlerUpdate","Cookies","currentKeyboardHandler","languageModeUpdate","currentLanguageMode","editorThemeUpdate","currentEditorTheme","versionsArray","keyboardHandlersArray","languageModesArray","editorThemesArray","not_saved_signature_entry_id","currentKeyboardHandlerApplied","highestVersionid","versionidrevision","versionidrevisionprodqual","versionidSigBodyid","qual_sigbody_id","keyboardHandlers","languageModes","editorThemes","loaded","signature_table_SignatureMetaData","showSignatureOptions","react_ace_lib_default","mode","editorProps","$blockScrolling","keyboardHandler","maxLines","minLines","showPrintMargin","SignatureMetaData","submitMetaData","v","optionsType","onOptionsChange","optionsValue","AutoCompleteInput","HandleAdd","HandleInputChange","OnChange","label","Autocomplete_default","getItemValue","renderItem","isHighlighted","menuStyle","borderRadius","boxShadow","inputProps","wrapperProps","EntityCreateModal","HasSpacesCheck","test","multiword","GetCount","countLoading","Confirmation","confirmation","Submit","ToggleCreateEntity","responseJSON","error_msg","OnChangeMatch","OnChangeValue","userdef","autocomplete_input","CustomMetaDataTable","nextState","multiSelectArr","dropdownArr","datesArr","inputArr","textAreaArr","inputMultiArr","booleanArr","formType","o","custom_metadata_table_DropdownComponent","referenceKey","dropdownValues","help","fetchURL","dynamic","custom_metadata_table_InputComponent","onBlur","calendarValue","custom_metadata_table_Calendar","typeTitle","typeLower","custom_metadata_table_TextAreaComponent","custom_metadata_table_InputMultiComponent","mainType","mainId","custom_metadata_table_BooleanComponent","custom_metadata_table_MultiSelectComponent","DropdownComponent","getDynamic","selected","bsClass","InputComponent","inputOnChange","Calendar","data_string","_d","showCalendar","DateTime_default","TextAreaComponent","InputMultiComponent","group","groupArr","inputValue","InputChange","clickedThing","bsType","BooleanComponent","MultiSelectComponent","makeForm","FormControl","componentClass","multiple","size","SelectedEntry","showEntryData","entryData","updatedCB","Watcher","showEntityData","waitForEntry","waitEntry","resize","runWatcher","flairToolbar","newEntityDetailKey","entityDetailKey","linkWarningToolbar","containerid","intervalID","not","ListViewTableHeight","getElementsByClassName","divid","divClass","custom_metadata_table_CustomMetaDataTable","signature_table_SignatureTable","selected_entry_EntryIterator","alertSelected","alertPreSelectedId","aType","aID","fileUploadToolbar","flairOff","isAlertSelected","file_upload_FileUpload","entity_detail_EntityDetail","link_warning_LinkWarning","notificationType","notificationMessage","EntryIterator","selected_entry_EntryParent","selected_entry_AlertParent","AlertParent","filterOption","widgetOption","widgetOptions","sortTbody_primaryRow","sortTbody_sortRows","sortTbody_noSort","scroller_jumpToHeader","scroller_upAfterSort","filter_childRows","rowClicked","getSelection","toString","tableSorterUpdateType","aProps","getOwnPropertyNames","bProps","propName","clickType","activeIndex","activeIdArray","activeId","allSelected","keyObj","lastId","q","lastIndex","search","linkToSearch","col_names","unshift","selected_entry_AlertHeader","colName","dataFlair","data_with_flair","selected_entry_AlertBody","ahrefs","AlertHeader","AlertBody","shiftKey","toggleEntry","showEntry","toggleOnAddEntry","showAddEntryToolbar","toggleOffAddEntry","toggleFileUpload","showFileUpload","toggleOnFileUpload","showFileUploadToolbar","toggleOffFileUpload","navigateTo","promotedNumber","promoteFetch","rowReturn","selected_entry_AlertRow","onMouseUp","textDecoration","selected_entry_AlertRowBlank","AlertRow","AlertRowBlank","DisplayValue","colSpan","EntryParent","refreshButton","editEntryToggle","editEntryToolbar","replyEntryToggle","replyEntryToolbar","deleteToolbar","permissionsToolbar","itemarr","subitemarr","itemsClass","outerClassName","innerClassName","taskOwner","selected_entry_EntryData","subitem","childobj","childfunc","entryActions","actions","send_to_name","send_to_url","selected_entry_EntryAction","datahref","tlpBorder","tlpColorCSS","header1","header2","createdTime","entryHeaderInnerId","showEntityCreateModal","entity_create","highlightedText","body_flair","permission_SelectedPermission","SplitButton_default","pullRight","summary_Summary","task_Task","header3","delete_DeleteEntry","checkHighlight","iframe","EntryAction","_this7$state","_this$setState","data-href","EntryData","rawMarkup","entry_body_id","entry_body_inner_id","Badge","toggleBadgeEntry","badgetype","source","badgevar","badgeType","badge_BadgeDataIterator","badge_NewBadge","BadgeDataIterator","badgeDelete","newBadgeArr","newobject","NewBadge","endpoint","badge_ReactTags","labelField","Links","getLinks","handleTHeadCheckboxSelection","handleRowSelection","handleCheckboxSelection","cell","sortable","es","defaultPageSize","getTdProps","getTheadThProps","getTrProps","minRows","noDataText","links_Actions","verticeObject","linkid","vertices","memo","rowInfo","checkAllSelected","instance","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","pageRows","pageRow","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","Actions","actionSuccess","RemoveLink","RemoveLinkAjax","ToggleActionSuccess","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","newActionSuccess","Mark","currentItem","mark_Actions","deleteCallback","RemoveSelected","pendingDelete","LinkContextChange","linkContextString","ExpandLinkToggle","newState","linkPanel","StartDelete","MoveEntry","EntryAjax","CopyEntry","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","arrayToLink","currentobj","LinkAjax","Reparse","reparseButton","ReparseAjax","promoteButton","PromoteAjax","reload","removeOriginal","RemoveEntryAfterMove","numSelected","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","addToEvent","_this$state","deleteThings","collapsible","expanded","Form","horizontal","delete_DeleteModal","InitialAjaxLoad","datasource","listStartY","listStartHeight","listQuery","ExportModal","emailArray","emailField","getData","showEditor","responseSuccess","aria-describedby","export_event_PostResponse","PostResponse","PromotedData","showAllPromotedDataToolbar","showAllPromotedDataToggle","promotedFromType","fullarr","shortarr","shortforlength","SelectedHeader","delayFunction","entryType","eventResult","showEventData","isNotFound","tagData","sourceData","flairing","_type","_message","isDeleted","refreshing","eventLoaded","entryLoaded","entityLoaded","exportModal","viewedbyfunc","viewedbyarr","changeHistoryToolbar","viewedByHistoryToolbar","entitiesToolbar","promoteToggle","promoteToolbar","titleCase","aStatus","intervalID1","nicktype","summaryUpdate","taskid","escape","handleFilter","showMarkModal","processing","togglePreventClick","showLinksModal","viewedby","selected_header_EntryDataSubject","owner_Owner","selected_header_EntryDataUpdated","promoted_from","promoted_data","badge_Badge","NotificationSystem_default","export_event_ExportModal","viewed_by_history_ViewedByHistory","change_history_ChangeHistory","entities_Entities","delete_DeleteEvent","mark_Mark","links_Links","selected_header_options_SelectedHeaderOptions","EntryDataUpdated","EntryDataSubject","handleChange","keyName","newValue","calculateWidth","newWidth","isDisabled","SelectedContainer","datarows","selected_header_SelectedHeader","toggleEventDisplay","viewEvent","tabIndex","ListView","viewMode","Landscape","Portrait","ConvertAlertIdToAlertgroupId","ConvertEntryIdToType","scrollheight","sortBy","filterBy","pageLimit","activepage","pageNumber","page","idsarray","finalarray","storeKey","reloadactive","sortObj","sortInt","desc","stringArr","sourcearr","tagarr","totalPages","getPages","totalRecordCount","objectarray","totalCount","showSelectedContainer","statusText","keyNavigate","toggleView","preventClick","targetType","srcElement","tagName","curRow","nextRow","parentElement","nextElementSibling","previousElementSibling","nextId","getNewData","showClearFilter","listViewContainerDisplay","typeCapitalized","listViewKey","notificationSetting","notificationToggle","createNewThing","exportCSV","clearAll","pages","onPageChange","handlePageChange","onPageSizeChange","handlePageSizeChange","pageSize","onFilteredChange","filtered","onSortedChange","handleSort","sorted","manual","resizable","styleName","LoadingComponent","CustomTableLoader","dragdiv","selected_container_SelectedContainer","queryType","AutoScrollToId","tbody","offsetHeight","offsetTop","initialAutoScrollToId","prevProps","prevState","idReference","id2","response1","newresponse","async","startdrag","manualScrollHeight","stopdrag","onmousemove","onmouseup","onmousedown","splitter","alldetail","maxheight","differentviews","maxwidth","minwidth","scrollwidth","sizearray","listViewOrientation","classname","newListViewKey","rowid","subid","newPage","newidsarray","newarray","abort","element","searchstring","sortArr","clearall","newSortArr","sortEach","cookieName","filterObj","newFilterArr","filterEach","pageIndex","ceil","listViewSort","listViewPage","listViewFilter","selectedColor","sourcetags","startepoch","endepoch","idtext","statustext","subjecttext","viewsarrow","idarrow","subjectarrow","statusarrow","createdarrow","sourcearrow","tagsarrow","viewstext","entriestext","suggestiontags","suggestionssource","sourcetext","tagstext","viewfilter","viewevent","showevent","fsearch","initstate","fullname","password","UserGroupForm","resetState","checkBlankInputs","buildDataObj","handlePUT","enqueueSnackbar","axios","put","variant","handleClose","catch","handlePOST","_this$props2","post","nativeEvent","newval","editObject","ischecked","isChecked","_this$props3","selectedValue","Card_default","card","CardContent_default","Typography_default","component","TextField_default","helperText","fullWidth","InputLabelProps","shrink","autoComplete","CardActions_default","core_Button_default","button","withSnackbar","textField","AreYouSure","deletetext","UserGroupContainer","get","showModal","showUserDialog","showGroupDialog","handleUserClose","toggleDeleteDialog","areYouSure","handleListItemClick","getColumns","toggleAreYouSure","DeleteRounded_default","setUserGroupResults","userdata","groupdata","handleAreYouSureClose","other","Grid_default","xs","gutterBottom","index_es","flexDirection","Fab_default","aria-label","Add_default","Dialog_default","aria-labelledby","usergroupform","areyousure","Api","_React$Component","GetKeys","GetAvailableGroups","CreateKey","DeleteKey","GroupChange","ToggleActiveStatus","availableGroups","newGroup","keysArr","keyActiveStatus","keyGroups","apikey","api_GroupModal","currentGroups","allGroups","keyActiveStatusCss","Panel_default","GroupModal","Open","DeleteGroup","newGroups","textContent","currentGroupArray","currentGroupArrayEdit","Modal_default","Undelete","_Component","getDeletedItems","dataArr","undelete_Actions","Restore","Purge","notificationSystem","addNotification","autoDismiss","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","TabContainer","createMuiTheme","typography","Admin","AppBar_default","appBar","core_Tabs_default","indicatorColor","centered","core_Tab_default","usergroupcontainer","api_Api","undelete_Undelete","jQuery","App","viewModeSetting","params","listViewFilterSetting","listViewSortSetting","listViewPageSetting","handler","AMQ","register_client","create_callback_object","ee","eedraw","prepend","eeremove","eestring","path","isExact","stateProps","activemqaction","errorString","loggedin","login","pathname","LogOut","sensitivity","IH","userConfig_UserConfigProvider","Navbar_default","inverse","fixedTop","Brand","Toggle","Collapse","Nav_default","LinkContainer_default","NavItem_default","NavDropdown_default","esearch_Search","Route","exact","home","clientId","remove_callback_object","admin","list_view_ListView","isTask","report_ReportPage","report_SingleReport","wall_Wall","Amq","s4","get_guid","restart","client","destination","get_data","process_message","handle_update","cb_map","newset","callbacks","payload","activemqguid","guid","activemqhostname","hostname","activemqpid","execute_callback_function","f","amqdebug","Map","Boolean","customHistory","createBrowserHistory","HashRouter","build","Switch"],"mappings":"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","file":"static/js/main.9a5231e4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/scot_logo_473x473.981c5c79.png\";","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getDisplayName } from \"recompose\";\nimport { Broadcast, Subscriber } from \"react-broadcast\";\nimport * as LocalStorage from \"../components/local_storage\";\n\n/**\n * This file defines everything needed to use user settings\n * in components.\n *\n * This uses React's context API so that we don't need to have\n * a giant prop chain\n *\n * The provider sets everything up and is included at the top\n * of the application.\n *\n * The HOC is included with every component that wants access\n * to the object\n *\n * userConfig data format:\n * {\n *\t\tkey1: { data },\n *\t\tkey2: [ data, data, data, ],\n *\t\tkey3: true,\n *\t\t...\n * }\n * where keys and data structures are defined in the UserConfigKeys\n * object\n *\n * Currently components may only access one key of userConfig.\n *\n * WARNING: The context API is likely to change in the future\n * and this will need to be updated. Hopefully though, only\n * this file will need to be updated as nothing else directly\n * accesses context\n */\n\n// Channel name for react-broadcast\nconst UserConfigChannel = \"userConfig\";\n\nconst UserConfigKeyShape = {\n  key: PropTypes.string.isRequired,\n  default: PropTypes.any.isRequired\n};\n\n/**\n * Unique keys for the structure of userConfig\n *\n * Structure:\n *\t\tKEY_ID: {\n *\t\t\tkey: KEY_VALUE,\n *\t\t\tdefault: DEFAULT_VALUE(S),\n *\t\t}\n *\n *\tThis is how to specify the top-level key into the userConfig object\n *\tand define the shape of the data as well as the default values\n */\nexport const UserConfigKeys = {\n  DASHBOARD: {\n    key: \"dashboard\",\n    default: {\n      curTab: 0,\n      tabs: []\n    }\n  }\n};\n\nconst UserConfigContextTypes = {\n  getUserConfig: PropTypes.func,\n  setUserConfig: PropTypes.func\n};\n\n/**\n * This sets up the context provider for the userConfig object\n *\n * Only needs to be included once, somewhere at the top of the chain\n * Currently in main/index.js\n */\nexport class UserConfigProvider extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userConfig: {\n        loading: true\n      }\n    };\n\n    this.update = this.update.bind(this);\n    this.setUserConfig = this.setUserConfig.bind(this);\n  }\n\n  static childContextTypes = UserConfigContextTypes;\n\n  getChildContext() {\n    return {\n      getUserConfig: this.getUserConfig,\n      setUserConfig: this.setUserConfig\n    };\n  }\n\n  /**\n   * Load user config\n   *\n   * Return: Promise\n   */\n  getUserConfig() {\n    // Currently just uses localstorage\n    // This should be easy to change to use a backend at some point\n    return new Promise((resolve, reject) => {\n      let json = LocalStorage.getLocalStorage(UserConfigChannel);\n      if (json) {\n        resolve(JSON.parse(json));\n        return;\n      }\n\n      resolve({});\n    });\n  }\n\n  /**\n   * Save user config\n   *\n   * Return: Promise\n   */\n  setUserConfig(config) {\n    // Currently just uses localstorage\n    // This should be easy to change to use a backend at some point\n    return new Promise((resolve, reject) => {\n      LocalStorage.setLocalStorage(UserConfigChannel, JSON.stringify(config));\n\n      resolve();\n    }).then(() => {\n      this.update();\n    });\n  }\n\n  update() {\n    this.getUserConfig().then(config => {\n      this.setState({\n        userConfig: config\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.update();\n  }\n\n  render() {\n    return (\n      <Broadcast value={this.state.userConfig} channel={UserConfigChannel}>\n        <div>{this.props.children}</div>\n      </Broadcast>\n    );\n  }\n}\n\n/*\n * Defining shape for UserConfig props.\n *\n * This should be imported by wrapped components:\n * static propTypes = {\n *\t\t( all local propTypes ),\n *\t\t...UserConfigPropTypes,\n * };\n *\n * Children:\n *\t\tconfig: the actual data,\n *\t\tsetUserConfig( config ): save changes to config\n *\t\tgetUserConfig(): load the config from source again\n *\t\tloading: whether the config is currently loading\n */\nexport const UserConfigPropTypes = {\n  userConfig: PropTypes.shape({\n    config: PropTypes.any.isRequired,\n    setUserConfig: PropTypes.func.isRequired,\n    getUserConfig: PropTypes.func.isRequired,\n    loading: PropTypes.bool\n  }).isRequired\n};\n\n/**\n * Higher-order Component (HOC) for providing a subkey of userConfig\n * to a component\n *\n * Usage: (In component file)\n *\t\texport default withUserConfig( KEY ) (COMPONENT);\n * Where:\n *\t\tKEY: is one of the values above in UserConfigKeys\n *\t\tCOMPONENT: is the component needing access to userConfig\n *\n * Example:\n *\t\texport default withUserConfig( UserConfigKeys.DASHBOARD ) (HomeDashboard);\n *\n *\t\tThis gives HomeDashboard access to the dashboard portion of userConfig\n */\nexport const withUserConfig = configKey => {\n  PropTypes.checkPropTypes(\n    UserConfigKeyShape,\n    configKey,\n    \"argument\",\n    \"withUserConfig\"\n  );\n\n  return WrappedComponent => {\n    class UserConfigSubscriber extends PureComponent {\n      constructor(props) {\n        super(props);\n\n        this.state = {};\n\n        this.setUserSubConfig = this.setUserSubConfig.bind(this);\n      }\n\n      static contextTypes = UserConfigContextTypes;\n      static displayName = `withUserConfig(${getDisplayName(\n        WrappedComponent\n      )})`;\n      static propTypes = {\n        userConfig: PropTypes.object.isRequired\n      };\n\n      /**\n       * This allows the wrapped component to only have to worry about its own\n       * portion of userConfig. Its changes are automatically wrapped back into\n       * the whole object\n       */\n      setUserSubConfig(subConfig) {\n        let newConfig = {\n          ...this.props.userConfig\n        };\n        newConfig[configKey.key] = subConfig;\n\n        this.context.setUserConfig(newConfig);\n      }\n\n      render() {\n        let { userConfig, ...restProps } = this.props;\n\n        let data = userConfig[configKey.key] || configKey.default;\n        const loading = userConfig.loading;\n\n        const userConfigProps = {\n          userConfig: {\n            loading: loading === true,\n            config: data,\n            setUserConfig: this.setUserSubConfig,\n            getUserConfig: this.context.getUserConfig\n          }\n        };\n\n        return <WrappedComponent {...restProps} {...userConfigProps} />;\n      }\n    }\n\n    const UserConfigHelper = props => (\n      <Subscriber channel={UserConfigChannel}>\n        {data => <UserConfigSubscriber userConfig={data} {...props} />}\n      </Subscriber>\n    );\n    return UserConfigHelper;\n  };\n};\n","export const setLocalStorage = ( name, value ) =>{\n    localStorage.setItem( name, value );\n};\n\nexport const removeLocalStorage = ( name ) => {\n    localStorage.removeItem( name );\n};\n\nexport const getLocalStorage = ( name ) => {\n    return localStorage[ name ];\n};\n","import React from 'react';\n\nimport { Panel, Button } from 'react-bootstrap';\n\nconst PanelHeader = ( title, onRemove ) => (\n\t<div style={{ position: 'relative' }}>\n\t\t{title}\n\t\t<span className=\"panel-button right\">\n\t\t\t<Button onClick={onRemove} bsSize=\"small\"><i className=\"fa fa-close\" /></Button>\n\t\t</span>\n\t</div>\n)\n\nconst Wrapper = ( { children, onRemove, editable, title } ) => (\n\t<div className={`widget ${editable && \"editable\"}`}>\n\t\t{ !editable && children }\n\t\t{ editable &&\n\t\t\t<Panel header={PanelHeader( title, onRemove )}>\n\t\t\t\t{React.cloneElement(children, { editMode: editable })}\n\t\t\t</Panel>\n\t\t}\n\t</div>\n)\n\nexport default Wrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst WidgetPicker = ( { widgets, layout, isOpen, onClose, onSelect } ) => {\n\tlet activeWidgets = new Set();\n\tlayout.rows.forEach( row => {\n\t\trow.columns.forEach( col => {\n\t\t\tcol.widgets.forEach( widget => {\n\t\t\t\tactiveWidgets.add( widget.key );\n\t\t\t} );\n\t\t} );\n\t} );\n\n\tlet widgetItems = Object.keys(widgets)\n\t\t.filter( widget => !activeWidgets.has( widget ) )\n\t\t.map( ( widget, key ) => {\n\t\t\tconst widgetObj = widgets[widget];\n\t\t\treturn (\n\t\t\t\t<div key={key} className=\"picker-item\" onClick={() => {onSelect(widget);}}>\n\t\t\t\t\t<h3>{widgetObj.title}</h3>\n\t\t\t\t\t<p>{widgetObj.description}</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} );\n\n\tif ( !widgetItems.length ) {\n\t\twidgetItems = <h2>No available widgets</h2>;\n\t}\n\n\treturn (\n\t\t<Modal show={isOpen} onHide={onClose} className=\"WidgetPicker\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Pick a Widget</Modal.Title>\n\t\t\t</Modal.Header>\n\n\t\t\t<Modal.Body className=\"picker-grid\">{widgetItems}</Modal.Body>\n\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button onClick={onClose}>Cancel</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t)\n}\nWidgetPicker.propTypes = {\n\twidgets: PropTypes.object.isRequired,\n\tlayout: PropTypes.object.isRequired,\n\tisOpen: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func.isRequired,\n};\n\nexport default WidgetPicker;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dazzle, { addWidget } from \"react-dazzle\";\nimport { Grid, Button } from \"react-bootstrap\";\nimport WidgetWrapper from \"./widgetWrapper\";\nimport WidgetPicker from \"./widgetPicker\";\n\nexport const defaultLayout = {\n  rows: [\n    {\n      columns: [\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        },\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        },\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        }\n      ]\n    }\n  ]\n};\n\nexport default class Dashboard extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editable: props.saveDashboard != null,\n      editMode: props.isNew,\n      layout: props.layout,\n      title: props.title,\n      widgetPicker: false,\n      newWidgetOptions: {}\n    };\n\n    this.onAdd = this.onAdd.bind(this);\n    this.updateLayout = this.updateLayout.bind(this);\n    this.updateTitle = this.updateTitle.bind(this);\n    this.reset = this.reset.bind(this);\n    this.saveDashboard = this.saveDashboard.bind(this);\n    this.toggleEdit = this.toggleEdit.bind(this);\n    this.togglePicker = this.togglePicker.bind(this);\n    this.selectWidget = this.selectWidget.bind(this);\n  }\n\n  static propTypes = {\n    widgets: PropTypes.object.isRequired,\n    title: PropTypes.string,\n    saveDashboard: PropTypes.func,\n    layout: PropTypes.object,\n    isNew: PropTypes.bool,\n    errorToggle: PropTypes.func\n  };\n\n  static defaultProps = {\n    title: \"\",\n    layout: defaultLayout,\n    isNew: false\n  };\n\n  onAdd(layout, rowIndex, columnIndex) {\n    this.setState({\n      widgetPicker: true,\n      newWidgetOptions: {\n        row: rowIndex,\n        col: columnIndex\n      }\n    });\n  }\n\n  updateLayout(layout) {\n    this.setState({\n      layout: layout\n    });\n  }\n\n  updateTitle(title) {\n    this.setState({\n      title: title.target.value\n    });\n  }\n\n  toggleEdit() {\n    this.setState({\n      editMode: !this.state.editMode\n    });\n  }\n\n  saveDashboard() {\n    // Handle upstream save\n    if (!this.state.title) {\n      this.props.errorToggle(\"Please enter a dashboard title\");\n      return;\n    }\n\n    this.props.saveDashboard(this.state.title, this.state.layout);\n    this.toggleEdit();\n  }\n\n  reset() {\n    this.setState({\n      layout: this.props.layout,\n      title: this.props.title,\n      editMode: false,\n      widgetPicker: false,\n      newWidgetOptions: {}\n    });\n  }\n\n  togglePicker() {\n    this.setState({\n      widgetPicker: !this.state.widgetPicker\n    });\n  }\n\n  selectWidget(widget) {\n    let { row, col } = this.state.newWidgetOptions;\n    this.updateLayout(addWidget(this.state.layout, row, col, widget));\n    this.togglePicker();\n  }\n\n  render() {\n    return (\n      <div className=\"dashboard\">\n        <WidgetPicker\n          widgets={this.props.widgets}\n          layout={this.state.layout}\n          isOpen={this.state.widgetPicker}\n          onClose={this.togglePicker}\n          onSelect={this.selectWidget}\n        />\n        <TitleBar\n          title={this.state.title}\n          editable={this.state.editable}\n          editMode={this.state.editMode}\n          onEdit={this.toggleEdit}\n          onSave={this.saveDashboard}\n          onCancel={this.reset}\n          handleTitleChange={this.updateTitle}\n          isNew={this.props.isNew}\n        />\n        <Grid fluid>\n          <Dazzle\n            onRemove={this.updateLayout}\n            onMove={this.updateLayout}\n            onAdd={this.onAdd}\n            editable={this.state.editMode}\n            layout={this.state.layout}\n            widgets={this.props.widgets}\n            frameComponent={WidgetWrapper}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst TitleBar = ({\n  title,\n  editMode,\n  onEdit,\n  onSave,\n  onCancel,\n  handleTitleChange,\n  isNew,\n  editable\n}) => {\n  if (!editable) {\n    return null;\n  }\n  return (\n    <div className=\"titleBar clearfix\">\n      {editMode && (\n        <form onSubmit={onSave}>\n          <input\n            type=\"text\"\n            className=\"title\"\n            value={title}\n            placeholder=\"Dashboard Title\"\n            onChange={handleTitleChange}\n          />\n          <Button bsStyle=\"primary\" bsSize=\"small\" onClick={onSave}>\n            Save\n          </Button>\n          <Button\n            bsStyle=\"warning\"\n            bsSize=\"small\"\n            disabled={isNew}\n            onClick={onCancel}\n          >\n            Cancel\n          </Button>\n        </form>\n      )}\n      {!editMode && (\n        <div className=\"edit\">\n          <Button bsSize=\"xsmall\" onClick={onEdit}>\n            <i className=\"fa fa-edit\" />\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\nTitleBar.propTypes = {\n  title: PropTypes.string.isRequired,\n  editMode: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n  editable: PropTypes.bool.isRequired\n};\n","import React, { PureComponent } from \"react\";\nimport { Panel } from \"react-bootstrap\";\nimport $ from \"jquery\";\n\nclass Status extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      statusData: {},\n      error: null\n    };\n\n    this.updateData = this.updateData.bind(this);\n    this.fetchError = this.fetchError.bind(this);\n  }\n\n  componentDidMount() {\n    /*\n\t\t * Expected structure:\n\t\t * [\n\t\t *\t\t{ name: \"SERVICE\", status: \"STATUS\" },\n\t\t *\t\t...\n\t\t * ]\n\t\t *\n\t\t * Service: name of service\n\t\t * Status: [ \"ok\", \"error\", \"warn\", \"unknown\" ]\n\t\t */\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/status\",\n      success: this.updateData,\n      error: this.fetchError\n    });\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  updateData(response) {\n    if (this._isMounted) {\n      this.setState({\n        statusData: response\n      });\n    }\n  }\n\n  fetchError(error) {\n    if (this._isMounted) {\n      this.setState({\n        error: error\n      });\n    }\n  }\n\n  render() {\n    let { className = \"\" } = this.props;\n    let services = [];\n    if (Array.isArray(this.state.statusData)) {\n      for (let service of this.state.statusData) {\n        let { name, status } = service;\n        if (!status) {\n          status = \"unknown\";\n        }\n\n        services.push(<Service key={name} name={name} status={status} />);\n      }\n    }\n\n    let classes = [\"Status\", className];\n    if (services.length > 4) {\n      classes.push(\"cols-2\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        {this.state.error && (\n          <Panel bsStyle=\"danger\" header=\"Error\">\n            {this.state.error}\n          </Panel>\n        )}\n        {services}\n      </div>\n    );\n  }\n}\n\nconst Service = ({ name, status }) => (\n  <div className={`service status-${status}`} title={`Status: ${status}`}>\n    {name}\n  </div>\n);\n\nexport default Status;\n","import React, { PureComponent } from \"react\";\nimport { Well, Panel, Badge } from \"react-bootstrap\";\nimport $ from \"jquery\";\nconst titleCase = str => str.charAt(0).toUpperCase() + str.slice(1);\nconst CATEGORY_INTERVAL = 5000;\n\nclass Gamification extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameData: [],\n      gameCategories: [],\n      categoryIndex: 0,\n      error: null\n    };\n\n    this.updateData = this.updateData.bind(this);\n    this.fetchError = this.fetchError.bind(this);\n    this.updateCategory = this.updateCategory.bind(this);\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/game\",\n      success: this.updateData,\n      error: this.fetchError\n    });\n    this.categoryInterval = setInterval(this.updateCategory, CATEGORY_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    if (this.categoryInterval) {\n      clearInterval(this.categoryInterval);\n    }\n    this._isMounted = false;\n  }\n\n  updateCategory() {\n    let nextIndex =\n      (this.state.categoryIndex + 1) % this.state.gameCategories.length;\n    if (this._isMounted) {\n      this.setState({\n        categoryIndex: nextIndex\n      });\n    }\n  }\n\n  updateData(data) {\n    let categories = [];\n    for (let category in data) {\n      categories.push(<Category category={category} data={data[category]} />);\n    }\n    if (this._isMounted) {\n      this.setState({ gameData: data, gameCategories: categories });\n    }\n  }\n\n  fetchError(error) {\n    if (this._isMounted) {\n      this.setState({ error: error });\n    }\n  }\n\n  render() {\n    return (\n      <Well className=\"Gamification\">\n        <h3>Leaders</h3>\n        {this.state.error && (\n          <Panel bsStyle=\"danger\" header=\"Error\">\n            {this.state.error}\n          </Panel>\n        )}\n        {this.state.gameCategories[this.state.categoryIndex]}\n      </Well>\n    );\n  }\n}\n\nconst Category = ({ category, data }) => (\n  <Panel\n    header={`${titleCase(category)} - ${data[0].tooltip}`}\n    className=\"category\"\n  >\n    <div>\n      <div>\n        {data[0].username} <Badge>{data[0].count}</Badge>\n      </div>\n      <div>\n        {data[1].username} <Badge>{data[1].count}</Badge>\n      </div>\n      <div>\n        {data[2].username} <Badge>{data[2].count}</Badge>\n      </div>\n    </div>\n  </Panel>\n);\n\nexport default Gamification;\n","export const setLocalStorage = ( name, value ) => {\n    localStorage.setItem( name, value );\n};\n\nexport const removeLocalStorage = ( name ) =>{\n    localStorage.removeItem( name );\n};\n\nexport const getLocalStorage = ( name ) => {\n    return localStorage[ name ];\n};\n\nexport const setSessionStorage = ( name, value ) => {\n    localStorage.setItem( name, value );\n};\n\nexport const removeSessionStorage = ( name ) => {\n    localStorage.removeItem( name );\n};\n\nexport const getSessionStorage = ( name ) => {\n    return localStorage[ name ];\n};","import Moment from 'moment';\nimport { extendMoment } from 'moment-range';\nconst moment = extendMoment( Moment );\n\nconst DAY = 24 * 60 * 60 * 1000;\n\n/**\n * Calculate if a timestamp is older than a number of seconds\n *\n * timestamp: Date() object to test against\n * secondsAgo: Number of seconds to test against\n */\nexport const timeOlderThan = ( timestamp, secondsAgo ) => {\n    if ( !timestamp ) {\n        return true;\n    }\n\n    return Date.now() - timestamp > ( secondsAgo * 1000 );\n};\n\n/**\n * Calculate if a timestamp is in the past and therefore data is expired\n *\n * expires: time data expires\n */\nexport const isExpired = ( expires ) => {\n    return !expires || Date.now() >= expires;\n};\n\n/**\n * Return an Epoch Range from beginning of yesterday till end of tomorrow\n */\nexport const todayRange = () => {\n\treturn {\n\t\tstart: Math.floor( (new Date(Date.now() - DAY)).setHours(0, 0, 0, 0) / 1000 ),\n\t\tend: Math.floor( (new Date(Date.now() + DAY)).setHours(23, 59, 59, 999) / 1000 ),\n\t}\n}\n\n/**\n * Return an Epoch Range for the last week\n */\nexport const lastWeekRange = () => {\n\treturn {\n\t\tstart: Math.floor( (new Date(Date.now() - DAY * 7)).setHours(0, 0, 0, 0) / 1000 ),\n\t\tend: Math.floor( (new Date(Date.now() + DAY)).setHours(23, 59, 59, 999) / 1000 ),\n\t}\n}\n\n/**\n * Convert an epoch to seconds ago\n *\n * epoch: epoch to convert\n */\nexport const epochToTimeago = ( epoch ) => {\n\treturn ( Date.now() - epoch * 1000 ) / 1000;\n}\n\n/**\n * Convert seconds ago to epoch\n *\n * timeago: seconds ago to convert\n */\nexport const timeagoToEpoch = ( timeago ) => {\n\treturn ( Date.now() - timeago * 1000 ) / 1000;\n}\n\n/**\n * Epoch Range to filter array\n *\n * range: epoch range\n */\nexport const epochRangeToFilter = ( range ) => {\n\treturn [\n\t\trange.start,\n\t\trange.end,\n\t];\n}\n\n/**\n * Conversion Functions for DateRangeFilter\n *\n * epochRangeToString: stringify an epoch range\n * epochRangeToMoment: convert epoch range into MomentRange object\n * momentRangeToEpoch: convert MomentRange object to epoch range\n *\n * epoch range: { start: _epoch_, end: _epoch_ }\n */\nexport const epochRangeToString = range => {\n    return range.start +', '+ range.end;\n};\n\nexport const epochRangeToMoment = range => {\n    return moment.range( range.start * 1000, range.end * 1000 );\n};\n\nexport const momentRangeToEpoch = range => {\n    return {\n        start: Math.round( range.start ) / 1000,\n        end: Math.round( range.end ) / 1000,\n    };\n};\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../../utils/session_storage\";\nimport { Well, Label, Badge } from \"react-bootstrap\";\nimport timeSince from \"../../utils/timesince\";\nimport {\n    timeOlderThan,\n    epochToTimeago,\n    timeagoToEpoch\n} from \"../../utils/time\";\n\nconst REFRESH_RATE = 30 * 1000; // 30 seconds\n\n// Bootstrap styles for different notification types\nconst NOTIFICATION_LEVEL = {\n    wall: \"warning\",\n    create: \"info\",\n    delete: \"danger\"\n};\n\n// Types of notifications we're interested in\n// (used to hide normal notifications of these types)\nexport const NOTIFICATION_TYPES = [\"create\", \"delete\"];\n\n// Time notifications will stay in activity bar\nconst NOTIFICATION_TIME = {\n    create: 120,\n    delete: 60,\n    wall: 60 * 60 // 1 hour\n};\nconst ACTIVITY_TYPE = {\n    USER: 0,\n    NOTIFICATION: 1\n};\n\n// localstorage key for persisting wall messages\nconst WALL_KEY = \"walls\";\n\nclass Activity extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            users: [],\n            notifications: this.loadWall()\n        };\n\n        this.updateActivity = this.updateActivity.bind(this);\n        this.updateUsers = this.updateUsers.bind(this);\n        this.wallMessage = this.wallMessage.bind(this);\n        this.notification = this.notification.bind(this);\n        this.fetchError = this.fetchError.bind(this);\n    }\n\n    static propTypes = {};\n\n    componentDidMount() {\n        this.refreshTimer = setInterval(this.updateActivity, REFRESH_RATE);\n        this.updateActivity();\n        this.props.createCallback(\"wall\", this.wallMessage);\n    }\n\n    componentWillUnmount() {\n        if (this.refreshTimer) {\n            clearInterval(this.refreshTimer);\n        }\n    }\n\n    updateActivity() {\n        this.updateUsers();\n\n        // Clean out notifications\n        let pruned = this.state.notifications.filter(notification => {\n            return !timeOlderThan(\n                notification.time * 1000,\n                NOTIFICATION_TIME[notification.action]\n            );\n        });\n\n        this.setState(\n            {\n                notifications: pruned\n            },\n            this.persistWall\n        );\n    }\n\n    updateUsers() {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/who\",\n            success: data => {\n                this.setState({\n                    users: data.records.map(user => {\n                        return {\n                            type: ACTIVITY_TYPE.USER,\n                            who: user.username,\n                            time: timeagoToEpoch(user.last_activity)\n                        };\n                    })\n                });\n            },\n            error: this.fetchError\n        });\n    }\n\n    persistWall() {\n        let walls = this.state.notifications.filter(notification => {\n            return notification.action === \"wall\";\n        });\n\n        SessionStorage.setLocalStorage(WALL_KEY, JSON.stringify(walls));\n    }\n\n    loadWall() {\n        let json = SessionStorage.getLocalStorage(WALL_KEY);\n        if (json) {\n            return JSON.parse(json);\n        }\n        return [];\n    }\n\n    wallMessage(message) {\n        let notifications = this.state.notifications;\n        notifications.push({\n            type: ACTIVITY_TYPE.NOTIFICATION,\n            time: message.activemqwhen,\n            who: message.activemqwho,\n            message: message.activemqmessage,\n            level: NOTIFICATION_LEVEL.wall,\n            action: \"wall\"\n        });\n\n        this.setState(\n            {\n                notifications: notifications\n            },\n            this.persistWall\n        );\n    }\n\n    notification(message) {\n        const ignoredUsers = [\"scot-flair\", \"scot-alerts\", \"scot-admin\", \"\", \"api\"];\n        const interestedEvents = [\"create\", \"delete\"];\n\n        // Ignore some notifications\n        if (ignoredUsers.includes(message.activemqwho)) return;\n        if (message.activemqwall === true) return;\n        if (message.activemqtype === \"entity\") return;\n        if (!interestedEvents.includes(message.activemqstate)) return;\n\n        let notifications = this.state.notifications;\n        notifications.push({\n            type: ACTIVITY_TYPE.NOTIFICATION,\n            time: Date.now() / 1000,\n            who: message.activemqwho,\n            message: message.activemqmessage + message.activemqid,\n            level: NOTIFICATION_LEVEL[message.activemqstate],\n            action: message.activemqstate\n        });\n\n        this.setState({\n            notifications: notifications\n        });\n    }\n\n    addDebugItems(count = 10) {\n        let notifications = this.state.notifications;\n\n        for (let i = 0; i < count; i++) {\n            notifications.push({\n                type: ACTIVITY_TYPE.NOTIFICATION,\n                time: Date.now() / 1000,\n                who: \"fred\",\n                message: \"blah\",\n                level: NOTIFICATION_LEVEL.create,\n                action: \"create\"\n            });\n        }\n\n        this.setState({\n            notifications: notifications\n        });\n    }\n\n    fetchError(error) { }\n\n    buildActivityItem(item, i) {\n        let badge = timeSince(epochToTimeago(item.time));\n        let text = \"\";\n        switch (item.type) {\n            default:\n            case ACTIVITY_TYPE.USER:\n                text = item.who;\n                break;\n            case ACTIVITY_TYPE.NOTIFICATION:\n                text = `${item.who}: ${item.message}`;\n                break;\n        }\n\n        return (\n            <ActivityItem key={i} badge={badge} style={item.level}>\n                {text}\n            </ActivityItem>\n        );\n    }\n\n    render() {\n        let { className = \"\" } = this.props;\n        let classes = [\"Activity\", className];\n\n        // Build activity items\n        let items = this.state.users\n            .concat(this.state.notifications)\n            .sort((a, b) => {\n                return b.time - a.time;\n            })\n            .map(this.buildActivityItem);\n\n        // Calculate whether the marquee should scroll\n        let stopped = true;\n        if (this.marquee && this.well) {\n            let marqueeValues = window.getComputedStyle(this.marquee);\n            if (\n                parseInt(marqueeValues.width, 10) -\n                parseInt(marqueeValues.paddingLeft, 10) >\n                this.well.offsetWidth\n            ) {\n                stopped = false;\n            }\n        }\n\n        return (\n            <Well\n                bsSize=\"small\"\n                className={classes.join(\" \")}\n                ref={well => (this.well = ReactDOM.findDOMNode(well))}\n            >\n                <div\n                    className={`marquee ${stopped ? \"stopped\" : \"\"}`}\n                    ref={marquee => (this.marquee = marquee)}\n                >\n                    {items}\n                </div>\n            </Well>\n        );\n    }\n}\n\nconst ActivityItem = ({ children, badge = null, style = \"default\" }) => (\n    <div className=\"activity-item\">\n        <Label bsStyle={style}>\n            {children}\n            {badge !== null && <Badge>{badge}</Badge>}\n        </Label>\n    </div>\n);\n\nexport default Activity;\n","//Calculates and displays time since a given time in seconds\n\nexport default function timeSince(seconds) {\n  /*function timeSince(date) {\n    var seconds = Math.floor((new Date() - date) / 1000);*/\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n","import React, { PureComponent } from 'react';\nimport { Button } from 'react-bootstrap';\nimport * as d3 from 'd3'\nimport $ from 'jquery'\n\nclass ReportHeatmap extends PureComponent {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n        this.state = {\n            collection: 'event',\n            type: 'created',\n            year: '2017',\n        }\n\n\t\tthis.collectionChange = this.collectionChange.bind( this );\n\t\tthis.yearChange = this.yearChange.bind( this );\n    }\n\n    componentDidMount() {\n       this.loadHeatMap(); \n    }\n\n    componentDidUpdate() {\n        this.loadHeatMap();\n    }\n\n    loadHeatMap() {\n\t\t// Don't load if dashboard in edit mode\n\t\tif ( this.props.editMode ) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet margin = {\n\t\t\t\ttop: 30,\n\t\t\t\tbottom: 30,\n\t\t\t\tleft: 30,\n\t\t\t\tright: 0,\n\t\t\t},\n\t\t\twidth = 1000 - ( margin.left - margin.right ),\n\t\t\theight = 300 - ( margin.top - margin.bottom ),\n\t\t\tgridSize = Math.floor( width / 24 ),\n\t\t\tlegendElementWidth = gridSize * 1.5,\n\t\t\tbuckets = 9,\n\t\t\tcolors = [ '#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58' ],\n\t\t\tdays = [ 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su' ],\n\t\t\ttimes = [ '1a', '2a', '3a', '4a', '5a', '6a', '7a', '8a', '9a', '10a', '11a', '12a', '1p', '2p', '3p', '4p', '5p', '6p', '7p', '8p', '9p', '10p', '11p', '12p' ];\n\t\t\n\t\tlet container = d3.select( '#report_heatmap' );\n\t\tlet graph = container.select( 'g' );\n\t\tif ( graph.empty() ) {\n\t\t\tgraph = container.append( 'g' )\n\t\t\t\t.attr( 'transform', 'translate( '+ margin.left +', '+ margin.top +' )' );\n\t\t}\n\n\t\t// Day Labels\n\t\tgraph.selectAll( '.dayLabel' )\n\t\t\t.data( days )\n\t\t\t.enter().append( 'text' )\n\t\t\t\t.text( ( d ) => d )\n\t\t\t\t.attr( 'x', 0 )\n\t\t\t\t.attr( 'y', ( d, i ) => { return i * gridSize; } )\n\t\t\t\t.style( 'text-anchor', 'end' )\n\t\t\t\t.attr( 'transform', 'translate( -6, '+ gridSize / 1.5 +' )' )\n\t\t\t\t.attr( 'class', ( d, i ) => {\n\t\t\t\t\treturn ( i >= 0 && i <= 4 ) ? 'dayLabel axis axis-worktime' : 'dayLabel axis';\n\t\t\t\t} );\n\n\t\t// Time Labels\n\t\tgraph.selectAll( '.timeLabel' )\n\t\t\t.data( times )\n\t\t\t.enter().append( 'text' )\n\t\t\t\t.text( ( d ) => d )\n\t\t\t\t.attr( 'x', ( d, i ) => { return i * gridSize; } )\n\t\t\t\t.attr( 'y', 0 )\n\t\t\t\t.style( 'text-anchor', 'middle' )\n\t\t\t\t.attr( 'transform', 'translate( '+ gridSize / 2 +', -6 )' )\n\t\t\t\t.attr( 'class', ( d, i ) => {\n\t\t\t\t\treturn ( i >= 7 && i <= 16 ) ? 'timeLabel axis axis-worktime' : 'timeLabel axis';\n\t\t\t\t} );\n\n        var url = '/scot/api/v2/graph/dhheatmap?collection='+this.state.collection+'&type='+this.state.type+'&year='+this.state.year \n        d3.json(\n            url,\n            function(error, data) {\n\t\t\t\t/*\n\t\t\t\tcontainer.selectAll( '.hour' ).remove();\n\t\t\t\t*/\n\t\t\t\tcontainer.selectAll( '.legend' ).remove();\n\t\t\t\tcontainer.selectAll( '.legend-text' ).remove();\n\t\t\t\t\n\t\t\t\tlet colorScale = d3.scaleQuantile()\n\t\t\t\t\t.domain( [ 0, buckets - 1, d3.max( data, ( d ) => { return d.value } ) ] )\n\t\t\t\t\t.range( colors );\n\n\t\t\t\t// Cards\n\t\t\t\tlet cards = graph.selectAll( '.hour' )\n\t\t\t\t\t.data( data, ( d ) => { return d.day +':'+ d.hour; } );\n\t\t\t\tcards.append( 'title' );\n\t\t\t\tcards.enter().append( 'rect' )\n\t\t\t\t\t.style( 'fill', colors[0] )\n\t\t\t\t\t.merge( cards )\n\t\t\t\t\t.attr( 'x', ( d ) => ( d.hour - 1 ) * gridSize )\n\t\t\t\t\t.attr( 'y', ( d ) => ( d.day - 1 ) * gridSize )\n\t\t\t\t\t.attr( 'rx', 4 )\n\t\t\t\t\t.attr( 'ry', 4 )\n\t\t\t\t\t.attr( 'class', 'hour' )\n\t\t\t\t\t.attr( 'width', gridSize )\n\t\t\t\t\t.attr( 'height', gridSize )\n\t\t\t\t\t.transition().duration( 1000 )\n\t\t\t\t\t\t.style( 'fill', ( d ) => { return colorScale( d.value ); } );\n\t\t\t\tcards.select( 'title' ).text( ( d ) => d.value );\n\t\t\t\tcards.exit().remove();\n\n\t\t\t\t// Legend\n\t\t\t\tvar legend = graph.selectAll( '.legend' )\n\t\t\t\t\t.data( [0].concat( colorScale.quantiles() ), ( d ) => d );\n\n\t\t\t\tlegend.enter()\n\t\t\t\t\t.append( 'rect' )\n\t\t\t\t\t.attr( 'class', 'legend' )\n\t\t\t\t\t.attr( 'x', (d, i) => ( legendElementWidth * i ) )\n\t\t\t\t\t.attr( 'y', height )\n\t\t\t\t\t.attr( 'width', legendElementWidth )\n\t\t\t\t\t.attr( 'height', gridSize / 2 )\n\t\t\t\t\t.style( 'fill', (d, i) => colors[i] )\n\n\t\t\t\tlegend.enter().append( 'text' )\n\t\t\t\t\t.text( ( d ) => ( '≥ ' + Math.round( d ) ) )\n\t\t\t\t\t.attr( 'class', 'legend-text' )\n\t\t\t\t\t.attr( 'x', (d, i) => legendElementWidth * i )\n\t\t\t\t\t.attr( 'y', height + gridSize );\n\t\t\t}\n\t\t);\n    }\n\n    collectionChange( event ) {\n        this.setState({collection: event.target.value});\n    }\n\t \n    yearChange( event ) {\n        this.setState({year: event.target.value});\n    }\n\n    exportToPNG() {\n        var svgString = new XMLSerializer().serializeToString(document.querySelector( '#report_heatmap' ));\n\n        var canvas = document.createElement(\"canvas\");\n        var ctx = canvas.getContext(\"2d\");\n        var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n        var img = new Image();\n        var svg = new Blob([svgString], {type: \"image/svg+xml;charset=utf-8\"});\n        var url = DOMURL.createObjectURL(svg);\n        img.onload = function() {\n            ctx.drawImage(img, 0, 0);\n            var png = canvas.toDataURL(\"image/png\");\n            document.querySelector('#png-container').innerHTML = '<img src=\"'+png+'\"/>';\n            DOMURL.revokeObjectURL(png);\n            var a = $(\"<a>\")\n            .attr(\"href\", png)\n            .attr(\"download\", \"img.png\")\n            .appendTo(\"body\");\n\n            a[0].click();\n\n            a.remove();\n        };\n        img.src = url;\n    }\n\n    render() {\n\t\tlet formDisabled = this.props.editMode;\n\n        return (\n            <div className=\"dashboard\">\n\t\t\t\t{ !this.props.editMode &&\n\t\t\t\t\t<h1>Day of Week, Hour of Day Heatmap</h1>\n\t\t\t\t}\n                <label htmlFor=\"year\" style={{display: \"inline-block\", width: \"240px\", textAlign:\"right\"}}>Year = <span id=\"year-value\"></span>\n                    <input className='report_input' type=\"number\" min=\"2013\" step=\"1\" value={this.state.year} id=\"year\" onChange={this.yearChange} disabled={formDisabled} />\n                </label>\n                <label htmlFor=\"collection\" style={{display: \"inline-block\", width: \"240px\", textAlign:\"right\"}}>Collection = <span id=\"year-value\"></span>\n                    <select id=\"collection\" value={this.state.collection} onChange={this.collectionChange} disabled={formDisabled} >\n                        <option value='event'>event</option>\n                        <option value='alert'>alert</option>\n                        <option value='incident'>incident</option>\n                    </select>\n                </label>\n                <Button id='export' bsSize='xsmall' bsStyle='default' onClick={this.exportToPNG} disabled={formDisabled} >Export to PNG</Button>\n                <div id=\"chart\">\n\t\t\t\t\t<svg id='report_heatmap' viewBox='0 0 1000 380' />\n                </div>\n                <div id='png-container' hidden></div>\n            </div>\n        )\n    }\n}\n\nexport default ReportHeatmap;\nexport const Description = \"Heatmap of incoming alerts, event, and incidents\";\n","export default function debounce( callback, wait = 200, immediate = false ) {\n    let timeout;\n\n    return function( ...args ) {\n        clearTimeout( timeout );\n\n        timeout = setTimeout( () => {\n            timeout = null;\n            if ( !immediate ) callback.apply( this, args );\n        }, wait );\n\n        if ( immediate && !timeout ) callback.apply( this, [...args] );\n    };\n}\n","import React, { PureComponent } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport $ from \"jquery\";\n\nconst formatTickTime = (domain, count = 10) => {\n  let start = domain[0],\n    end = domain[domain.length - 1],\n    step = d3.tickStep(start, end, count);\n\n  return d => {\n    const daySeconds = 3600 * 24;\n    let days = Math.floor(d / daySeconds),\n      hours = Math.floor((d % daySeconds) / 3600),\n      minutes = Math.floor((d % 3600) / 60),\n      seconds = Math.floor(d % 60);\n\n    if (days) {\n      if (step < daySeconds) {\n        return `${days}d ${hours}h`;\n      }\n      return days + \"d\";\n    }\n    if (hours) {\n      if (step < 3600) {\n        return `${hours}h ${minutes}m`;\n      }\n      return hours + \"h\";\n    }\n    if (minutes) {\n      if (step < 60) {\n        return `${minutes}m ${seconds}s`;\n      }\n      return minutes + \"m\";\n    }\n    return seconds + \"s\";\n  };\n};\n\nconst formatTime = d => {\n  const daySeconds = 3600 * 24;\n  let days = Math.floor(d / daySeconds),\n    hours = Math.floor((d % daySeconds) / 3600),\n    minutes = Math.floor((d % 3600) / 60),\n    seconds = Math.floor(d % 60);\n\n  let output = seconds + \"s\";\n  if (minutes) {\n    output = minutes + \"m \" + output;\n  }\n  if (hours) {\n    output = hours + \"h \" + output;\n  }\n  if (days) {\n    output = days + \"d \" + output;\n  }\n  return output;\n};\n\nlet margin = { top: 20, right: 20, bottom: 60, left: 50 },\n  width = 1000 - margin.left - margin.right,\n  height = 500 - margin.top - margin.bottom,\n  barColors = {\n    All: \"#3b35a6\",\n    Promoted: \"#eebd31\",\n    Incident: \"#e63041\"\n  };\n\nclass ReportArt extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    let today = new Date().toISOString().slice(0, 10);\n    this.state = {\n      length: 7,\n      date: today,\n      unit: \"day\",\n      chartData: {\n        dates: [],\n        lines: []\n      }\n    };\n\n    // Load Art is auto debounced\n    this.loadArt = debounce(this.loadArt);\n\n    this.unitChange = this.unitChange.bind(this);\n    this.lengthChange = this.lengthChange.bind(this);\n    this.dateChange = this.dateChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.loadArt();\n  }\n\n  componentDidUpdate() {}\n\n  initChart() {\n    this.svg = d3\n      .select(\"#report_art\")\n      .append(\"g\")\n      .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \" )\");\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${height} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.yAxisEl\n      .append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"x\", 0 - height / 2)\n      .attr(\"y\", 0)\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"fill\", \"black\")\n      .text(\"Response Time\");\n\n    this.chartInit = true;\n  }\n\n  updateChart() {\n    // Bar names\n    let barNames = new Set();\n    this.state.chartData.dates.forEach(d => {\n      d.values.forEach(b => {\n        barNames.add(b.name);\n      });\n    });\n\n    // Line names\n    let lineNames = new Set();\n    this.state.chartData.lines.forEach(d => {\n      lineNames.add(d.name);\n    });\n\n    // Scales\n    let maxValue = d3.max(this.state.chartData.dates, d => {\n      return d3.max(d.values, b => b.value);\n    });\n\n    let dateScale = d3\n      .scaleBand()\n      .padding(0.1)\n      .rangeRound([0, width])\n      .domain(this.state.chartData.dates.map(d => d.date));\n    let barScale = d3\n      .scaleBand()\n      .domain(Array.from(barNames))\n      .rangeRound([0, dateScale.bandwidth()]);\n    let yScale = d3\n      .scaleLinear()\n      .clamp(true)\n      .range([height, 0])\n      .domain([0, maxValue])\n      .nice();\n\n    // Axes\n    var xAxis = d3.axisBottom().scale(dateScale);\n\n    var yAxis = d3\n      .axisLeft()\n      .scale(yScale)\n      .ticks(20)\n      .tickFormat(formatTickTime(yScale.domain(), 20));\n\n    this.xAxisEl.transition().call(xAxis);\n    this.yAxisEl.transition().call(yAxis);\n\n    // Bars\n    let dates = this.svg\n      .selectAll(\".date\")\n      .data(this.state.chartData.dates, d => d.date);\n\n    dates\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .attr(\"height\", 0)\n      .attr(\"y\", height)\n      .remove();\n\n    let bars = dates\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"date\")\n      .attr(\"transform\", d => `translate( ${dateScale(d.date)}, 0 )`)\n      .selectAll(\".bar\")\n      .data(d => d.values)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .style(\"fill\", d => barColors[d.name])\n      .attr(\"width\", barScale.bandwidth())\n      .attr(\"x\", d => barScale(d.name))\n      .attr(\"y\", height)\n      .attr(\"height\", 0);\n\n    bars.append(\"title\").text(d => formatTime(d.value));\n\n    dates\n      .transition()\n      .attr(\"transform\", d => `translate( ${dateScale(d.date)}, 0 )`);\n\n    this.svg\n      .selectAll(\".date\")\n      .selectAll(\".bar\")\n      .transition()\n      .attr(\"width\", barScale.bandwidth())\n      .attr(\"x\", d => barScale(d.name))\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"height\", d => height - yScale(d.value));\n\n    // Avg Box\n    this.svg.select(\".avg-holder\").remove();\n    this.svg.select(\".avg-holder-border\").remove();\n    let AvgHolder = this.svg.append(\"g\").attr(\"class\", \"avg-holder\");\n\n    let averages = AvgHolder.selectAll(\".avg\")\n      .data(this.state.chartData.lines)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"avg\")\n      .attr(\"transform\", (d, i) => `translate( 0, ${i * 15} )`);\n\n    averages\n      .append(\"tspan\")\n      .attr(\"x\", 0)\n      .attr(\"font-weight\", \"bold\")\n      .text(d => `${d.name}:`);\n\n    averages\n      .append(\"tspan\")\n      .attr(\"x\", 100)\n      .text(d => formatTime(d.value));\n\n    let AvgHolderBox = AvgHolder.node().getBBox();\n    AvgHolder.attr(\n      \"transform\",\n      `translate( ${width - AvgHolderBox.width}, 0 )`\n    );\n\n    const borderOffset = 2;\n    let border = this.svg\n      .append(\"rect\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"class\", \"avg-holder-border\")\n      .attr(\"x\", AvgHolderBox.x - borderOffset)\n      .attr(\"y\", AvgHolderBox.y - borderOffset)\n      .attr(\"width\", AvgHolderBox.width + borderOffset * 2)\n      .attr(\"height\", AvgHolderBox.height + borderOffset * 2);\n    border\n      .node()\n      .transform.baseVal.initialize(\n        AvgHolder.node().transform.baseVal.getItem(0)\n      );\n\n    // Legend\n    const legendHeight = 20,\n      legendSpacing = 15,\n      legendTextSpacing = 5;\n    this.svg.select(\".legend-holder\").remove();\n    let LegendHolder = this.svg.append(\"g\").attr(\"class\", \"legend-holder\");\n    let legend = LegendHolder.selectAll(\".legend\")\n      .data(Array.from(barNames))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\");\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"height\", legendHeight)\n      .style(\"fill\", d => barColors[d]);\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .text(d => d);\n\n    // Legend Position\n    let widthSums = 0;\n    LegendHolder.selectAll(\".legend\").attr(\"transform\", function(d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = LegendHolder.node().getBBox().width;\n    LegendHolder.attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${height +\n        margin.bottom / 2} )`\n    );\n  }\n\n  loadArt() {\n    if (!this.state.date || !this.state.length || this.props.editMode) {\n      return;\n    }\n\n    let url = \"/scot/api/v2/metric/response_avg_last_x_days\";\n    let opts = `?days=${this.state.length}&targetdate=${this.state.date}&unit=${\n      this.state.unit\n    }`;\n    d3.json(url + opts, data => {\n      this.setState({\n        chartData: data\n      });\n    });\n  }\n\n  unitChange(event) {\n    this.setState({ unit: event.target.value }, () => this.loadArt());\n  }\n\n  lengthChange(event) {\n    this.setState({ length: event.target.value }, () => this.loadArt());\n  }\n\n  dateChange(event) {\n    this.setState({ date: event.target.value }, () => this.loadArt());\n  }\n\n  exportToPNG() {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_art\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function() {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\"#png-container\").innerHTML =\n        '<img src=\"' + png + '\"/>';\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Alert Response Time</h1>}\n        <label\n          htmlFor=\"date\"\n          style={{ display: \"inline-block\", textAlign: \"right\" }}\n        >\n          Initial Date =&nbsp;\n          <input\n            className=\"report_input\"\n            type=\"date\"\n            value={this.state.date}\n            onChange={this.dateChange}\n            placeholder=\"yyyy-mm-dd\"\n            pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n            disabled={formDisabled}\n          />\n        </label>\n        <label\n          htmlFor=\"length\"\n          style={{ display: \"inline-block\", textAlign: \"right\" }}\n        >\n          Length =&nbsp;\n          <input\n            className=\"report_name\"\n            type=\"number\"\n            min=\"1\"\n            step=\"1\"\n            value={this.state.length}\n            id=\"length\"\n            onChange={this.lengthChange}\n            disabled={formDisabled}\n          />\n        </label>\n        <label\n          htmlFor=\"unit\"\n          style={{\n            display: \"inline-block\",\n            width: \"240px\",\n            textAlign: \"right\"\n          }}\n        >\n          Unit =&nbsp;\n          <select\n            id=\"unit\"\n            value={this.state.unit}\n            onChange={this.unitChange}\n            disabled\n          >\n            <option value=\"hour\">hourly</option>\n            <option value=\"day\">daily</option>\n            <option value=\"month\">monthly</option>\n            <option value=\"year\">yearly</option>\n          </select>\n        </label>\n        <Button\n          id=\"export\"\n          bsSize=\"xsmall\"\n          bsStyle=\"default\"\n          onClick={this.exportToPNG}\n          disabled={formDisabled}\n        >\n          Export to PNG\n        </Button>\n        <div id=\"chart\">\n          <svg id=\"report_art\" viewBox=\"0 0 1000 500\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportArt;\nexport const Description =\n  \"Chart of average alert, event, and incident response time\";\n","import React, { PureComponent } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport $ from \"jquery\";\nconst wrapText = (text, width) => {\n  // FYI: not an arrow function because of 'this' injection\n  text.each(function(value, i) {\n    if (this.getComputedTextLength() < width) {\n      return;\n    }\n\n    let text = d3.select(this),\n      words = text\n        .text()\n        .split(/\\s+/)\n        .reverse(),\n      word = null,\n      line = [],\n      lineCount = 1,\n      lineHeight = 0.8, // ems\n      x = text.attr(\"x\"),\n      y = text.attr(\"y\"),\n      dy = parseFloat(text.attr(\"dy\")),\n      row = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", x)\n        .attr(\"y\", y)\n        .attr(\"dy\", dy + \"em\");\n\n    while ((word = words.pop())) {\n      line.push(word);\n      row.text(line.join(\" \"));\n      if (row.node().getComputedTextLength() > width) {\n        lineCount++;\n        line.pop();\n        row.text(line.join(\" \"));\n        line = [word];\n        row = text\n          .append(\"tspan\")\n          .attr(\"x\", x)\n          .attr(\"y\", y)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word);\n      }\n    }\n\n    let yOffset = (this.getBBox().height / (2 * lineCount)) * (lineCount - 1);\n    text.attr(\"transform\", `translate( 0, -${yOffset} )`);\n  });\n};\n\nconst margin = {\n    top: 5,\n    left: 200,\n    right: 30,\n    bottom: 60\n  },\n  width = 1000 - margin.left - margin.right,\n  legendHeight = 20,\n  legendSpacing = 15,\n  legendTextSpacing = 5;\n\nclass ReportAlertpower extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      displayMode: \"stacked\",\n      chartData: [],\n      chartResults: 20,\n      chartSort: \"power\",\n      chartSortDir: \"desc\",\n      chartFilter: \"\"\n    };\n\n    // LoadData is automatically debounced\n    this.loadData = debounce(this.loadData);\n\n    this.dataChange = this.dataChange.bind(this);\n    this.displayModeChange = this.displayModeChange.bind(this);\n  }\n\n  initChart() {\n    // Height is initially 0, is calculated after we have data\n    this.height = 0;\n\n    this.xScale = d3.scaleLinear().rangeRound([0, width]);\n    this.yScale = d3\n      .scaleBand()\n      .rangeRound([0, this.height])\n      .padding(0.3);\n\n    this.colors = d3.scaleOrdinal(d3.schemeCategory10);\n\n    this.xAxis = d3.axisBottom().scale(this.xScale);\n\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n\n    this.svg = d3\n      .select(\"#report_alertpower\")\n      .attr(\"viewBox\", `0 0 1000 ${this.height + margin.top + margin.bottom}`)\n      .append(\"g\")\n      .attr(\"transform\", `translate( ${margin.left}, ${margin.top} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    this.xAxisEl\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 30)\n      .style(\"fill\", \"black\")\n      .style(\"font-size\", \"12px\")\n      .text(\"Alert Count\");\n\n    this.LegendHolder = this.svg.append(\"g\").attr(\"class\", \"legend-holder\");\n\n    this.chartInit = true;\n  }\n\n  updateChart() {\n    let dataset = this.state.chartData;\n\n    // Calculate height\n    this.height = 32 * dataset.length;\n    d3.select(\"#report_alertpower\")\n      .transition()\n      .attr(\"viewBox\", `0 0 1000 ${this.height + margin.top + margin.bottom}`);\n\n    this.dataTypes = d3\n      .keys(dataset[0])\n      .filter(\n        key => ![\"name\", \"values\", \"total\", \"score\", \"max\"].includes(key)\n      );\n\n    // Build color domain from keys except name\n    this.colors.domain(this.dataTypes);\n\n    dataset.forEach(d => {\n      // Remove number at the end\n      d.name = d.name.replace(/ \\([0-9]+\\)/, \"\");\n\n      /* // False Data\n\t\t\tthis.dataTypes.forEach( type => {\n\t\t\t\td[ type ] = Math.round( Math.random() * 5 );\n\t\t\t} );\n\t\t\tif ( !d.score ) {\n\t\t\t\td.score = ( Math.random() * 10 ).toPrecision( 2 );\n\t\t\t}\n\t\t\t/**/\n      if (typeof d.score === \"number\") {\n        d.score = \"\" + d.score;\n      }\n\n      // Calculate bar start/end points\n      let start = 0;\n      d.values = this.dataTypes.map(name => {\n        let curStart = start,\n          curEnd = start + d[name];\n\n        start += d[name];\n        return {\n          name: name,\n          count: d[name],\n          start: curStart,\n          end: curEnd\n        };\n      });\n\n      d.total = d.values[d.values.length - 1].end;\n      d.max = d3.max(this.dataTypes, b => {\n        return d[b];\n      });\n    });\n\n    this.stackedMax = d3.max(dataset, d => d.total);\n    this.groupedMax = d3.max(dataset, d => {\n      return d3.max(this.dataTypes, b => d[b]);\n    });\n\n    this.yScale.rangeRound([0, this.height]).domain(dataset.map(d => d.name));\n\n    /*\n\t\t// Animated, but multiline flashes\n\t\tthis.yAxisEl.transition().call( g => {\n\t\t\tg.call( this.yAxis )\n\t\t\tsetTimeout( () => {\n\t\t\t\tg.selectAll( '.tick text' ).call( wrapText, margin.left - 20 );\n\t\t\t}, 50 )\n\t\t} )\n\t\t/**/\n    /**/\n    // Not animated\n    this.yAxisEl.call(this.yAxis);\n    this.svg.selectAll(\".y.axis .tick text\").call(wrapText, margin.left - 20); // Wrap axis labels\n    /**/\n\n    let alerts = this.svg.selectAll(\".alert\").data(dataset, d => d.name);\n\n    alerts\n      .exit()\n      .transition()\n      .attr(\"height\", 0)\n      .style(\"opacity\", 0)\n      .remove();\n\n    alerts\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"alert\")\n      .attr(\"transform\", d => `translate( 1, ${this.yScale(d.name)} )`)\n      .append(\"text\")\n      .attr(\"dy\", \"1.2em\");\n\n    alerts\n      .transition()\n      .attr(\"transform\", d => `translate( 1, ${this.yScale(d.name)} )`);\n\n    let alertTypes = this.svg\n      .selectAll(\".alert\")\n      .selectAll(\"rect\")\n      .data(d => d.values);\n\n    let bars = alertTypes\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", 0)\n      .attr(\"height\", this.yScale.bandwidth());\n    bars.merge(alertTypes).style(\"fill\", d => this.colors(d.name));\n\n    bars\n      .append(\"title\")\n      .merge(alertTypes.select(\"title\"))\n      .text(d => `${d.name}: ${d.count}`);\n\n    // Legend\n    let legend = this.LegendHolder.selectAll(\".legend\").data(this.dataTypes);\n\n    legend.exit().remove();\n\n    legend = legend\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\");\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"height\", legendHeight)\n      .style(\"fill\", d => this.colors(d));\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"text-transform\", \"capitalize\")\n      .text(d => d);\n\n    // Legend Position\n    let widthSums = 0;\n    this.LegendHolder.selectAll(\".legend\").attr(\"transform\", function(d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = this.LegendHolder.node().getBBox().width;\n    this.LegendHolder.transition().attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${this.height +\n        margin.bottom -\n        legendHeight} )`\n    );\n\n    if (this.state.displayMode === \"grouped\") {\n      this.transitionGrouped();\n    } else {\n      this.transitionStacked();\n    }\n  }\n\n  transitionStacked() {\n    this.xScale.domain([0, this.stackedMax]).nice();\n    this.xAxisEl\n      .transition()\n      .call(this.xAxis)\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    this.svg\n      .selectAll(\".alert rect\")\n      .transition()\n      .delay((d, i) => i * 5)\n      .duration(500)\n      .attr(\"width\", d => this.xScale(d.end) - this.xScale(d.start))\n      .attr(\"x\", d => this.xScale(d.start))\n      .transition()\n      .attr(\"height\", this.yScale.bandwidth())\n      .attr(\"y\", 0);\n\n    this.svg\n      .selectAll(\".alert text\")\n      .transition()\n      .delay((d, i) => i * this.dataTypes.length * 5 + i)\n      .duration(500)\n      .attr(\"transform\", d => `translate( ${this.xScale(d.total) + 10}, 0 )`)\n      .tween(\"text\", function(d) {\n        let text = d3.select(this);\n        let i = d3.interpolateNumber(text.text(), d.score),\n          prec = d.score.split(\".\"),\n          round = prec.length > 1 ? Math.pow(10, prec[0].length) : 1;\n\n        return t => text.text(Math.round(i(t) * round) / round);\n      });\n  }\n\n  transitionGrouped() {\n    this.xScale.domain([0, this.groupedMax]).nice();\n    this.xAxisEl\n      .transition()\n      .call(this.xAxis)\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    let initialDuration = this.displayModeChanged ? 500 : 0;\n\n    this.svg\n      .selectAll(\".alert\")\n      .selectAll(\"rect\")\n      .transition()\n      .delay((d, i) => i * 5)\n      .duration(initialDuration)\n      .attr(\"height\", this.yScale.bandwidth() / this.dataTypes.length)\n      .attr(\n        \"y\",\n        (d, i) => (this.yScale.bandwidth() / this.dataTypes.length) * i\n      )\n      .transition()\n      .duration(500)\n      .attr(\"x\", 0)\n      .attr(\"width\", d => this.xScale(d.end) - this.xScale(d.start));\n\n    this.svg\n      .selectAll(\".alert text\")\n      .transition()\n      .delay((d, i) => i * 5 + initialDuration)\n      .attr(\"transform\", d => `translate( ${this.xScale(d.max) + 10}, 0 )`)\n      .tween(\"text\", function(d) {\n        let text = d3.select(this);\n        let i = d3.interpolateNumber(text.text(), d.score),\n          prec = d.score.split(\".\"),\n          round = prec.length > 1 ? Math.pow(10, prec[0].length) : 1;\n\n        return t => text.text(Math.round(i(t) * round) / round);\n      });\n\n    this.displayModeChanged = false;\n  }\n\n  loadData() {\n    if (!this.state.chartResults || this.props.editMode) {\n      return;\n    }\n\n    let url = \"/scot/api/v2/metric/alert_power\";\n    let opts = `?sort=${this.state.chartSort}&dir=${\n      this.state.chartSortDir\n    }&count=${this.state.chartResults}&filter=${encodeURIComponent(\n      this.state.chartFilter\n    )}`;\n\n    d3.json(url + opts, dataset => {\n      this.setState({\n        chartData: dataset\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.updateChart();\n    this.loadData();\n  }\n\n  dataChange(event) {\n    let target = event.target;\n\n    if (target.name === \"chartResults\" && target.value) {\n      if (target.value > 50) target.value = 50;\n      if (target.value < 1) target.value = 1;\n    }\n\n    this.setState(\n      {\n        [target.name]: target.value\n      },\n      this.loadData\n    );\n  }\n\n  displayModeChange(event) {\n    this.displayModeChanged = true;\n    this.setState({\n      displayMode: event.target.value\n    });\n  }\n\n  preventSubmit(event) {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  exportToPNG() {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_alertpower\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function() {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\n        \"#png-container\"\n      ).innerHTML = `<img src='${png}'/>`;\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Alert Power</h1>}\n        <form onSubmit={this.preventSubmit}>\n          <label>\n            Filter =&nbsp;\n            <input\n              className=\"report_input\"\n              type=\"text\"\n              style={{ background: \"initial\", border: \"1px solid #ccc\" }}\n              name=\"chartFilter\"\n              value={this.state.chartFilter}\n              onChange={this.dataChange}\n              placeholder=\"All\"\n              disabled={formDisabled}\n            />\n          </label>\n        </form>\n        <form onSubmit={this.preventSubmit}>\n          <label>\n            Sort by =&nbsp;\n            <select\n              name=\"chartSort\"\n              value={this.state.chartSort}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            >\n              <option value=\"power\">Power Score</option>\n              <option value=\"count\">Alert Count</option>\n              <option value=\"promoted\">Promoted Count</option>\n              <option value=\"incident\">Incident Count</option>\n            </select>\n            <select\n              name=\"chartSortDir\"\n              value={this.state.chartSortDir}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            >\n              <option value=\"desc\">Desc</option>\n              <option value=\"asc\">Asc</option>\n            </select>\n          </label>\n          <label>\n            Results =&nbsp;\n            <input\n              className=\"report_input\"\n              type=\"number\"\n              min={1}\n              max={50}\n              name=\"chartResults\"\n              value={this.state.chartResults}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            />\n          </label>\n        </form>\n        <form>\n          <label>\n            <input\n              className=\"report_input\"\n              type=\"radio\"\n              name=\"mode\"\n              value=\"grouped\"\n              checked={this.state.displayMode === \"grouped\"}\n              onChange={this.displayModeChange}\n              disabled={formDisabled}\n            />{\" \"}\n            Grouped\n          </label>\n          &nbsp;\n          <label>\n            <input\n              className=\"report_input\"\n              type=\"radio\"\n              name=\"mode\"\n              value=\"stacked\"\n              checked={this.state.displayMode === \"stacked\"}\n              onChange={this.displayModeChange}\n              disabled={formDisabled}\n            />{\" \"}\n            Stacked\n          </label>\n          <Button\n            id=\"export\"\n            bsSize=\"xsmall\"\n            bsStyle=\"default\"\n            onClick={this.exportToPNG}\n            disabled={formDisabled}\n          >\n            Export to PNG\n          </Button>\n        </form>\n        <div id=\"chart\">\n          <svg id=\"report_alertpower\" viewBox=\"0 0 1000 100\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportAlertpower;\nexport const Description =\n  \"Chart of alerts in terms of how frequently they're promoted or become incidents\";\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport $ from \"jquery\";\nconst margin = {\n    top: 5,\n    left: 40,\n    right: 20,\n    bottom: 60\n  },\n  width = 1000 - margin.left - margin.right,\n  height = 600 - margin.top - margin.bottom,\n  timeWindow = 7 * 24 * 3600 * 1000,\n  legendHeight = 20,\n  legendSpacing = 15,\n  legendTextSpacing = 5;\n\nclass ReportCreated extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chartData: []\n    };\n\n    // LoadData is automatically debounced\n    this.loadData = debounce(this.loadData);\n\n    // this.dataChange = this.dataChange.bind( this );\n    // this.displayModeChange = this.displayModeChange.bind( this );\n  }\n\n  initChart() {\n    let now = new Date();\n\n    this.xScale = d3\n      .scaleTime()\n      .rangeRound([0, width])\n      .domain([now - timeWindow, now]);\n    this.yScale = d3\n      .scaleLinear()\n      .rangeRound([height, 0])\n      .domain([0, 0]);\n\n    this.xAxis = d3.axisBottom().scale(this.xScale);\n\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n\n    this.svg = d3\n      .select(\"#report_created\")\n      .attr(\"viewBox\", `0 0 1000 ${height + margin.top + margin.bottom}`)\n      .append(\"g\")\n      .attr(\"transform\", `translate( ${margin.left}, ${margin.top} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.yAxisEl.call(this.yAxis);\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${height} )`);\n\n    this.xAxisEl\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", margin.bottom - 10)\n      .style(\"font-size\", \"10px\")\n      .style(\"fill\", \"black\")\n      .text(\"Toggle Trendlines\");\n\n    this.xAxisEl.call(this.xAxis);\n\n    this.statusLine = d3\n      .line()\n      .curve(d3.curveBasis)\n      .x(d => this.xScale(new Date(d.time * 1000)))\n      .y(d => this.yScale(d.value));\n\n    this.lineHolder = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"lines\")\n      .attr(\"clip-path\", \"url(#bounds)\");\n\n    // Legend\n    this.LegendHolder = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"legend-holder\")\n      .style(\"font-family\", \"sans-serif\");\n\n    this.chartInit = true;\n  }\n\n  updateChart() {\n    this.yScale\n      .domain([\n        0,\n        Math.max(\n          d3.max(this.state.chartData, d => {\n            if (!d.shown || !d.data.length) return 0;\n\n            return d3.max(d.data, b => b.value);\n          }),\n          10\n        )\n      ])\n      .nice();\n\n    this.colors = d3.scaleOrdinal(d3.schemeCategory10).domain(\n      this.state.chartData.map(line => {\n        return line.name;\n      })\n    );\n\n    let lines = this.lineHolder\n      .selectAll(\".line\")\n      .data(this.state.chartData, d => d.name);\n\n    lines\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove();\n\n    lines\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", d => `line ${d.name}`)\n      .style(\"stroke\", d => this.colors(d.name))\n      .style(\"stroke-width\", 2)\n      .style(\"fill\", \"none\")\n      .attr(\"d\", d => this.statusLine(d.data));\n\n    this.LegendHolder.selectAll(\".legend\").remove();\n\n    let legend = this.LegendHolder.selectAll(\".legend\").data(\n      this.state.chartData,\n      d => d.name\n    );\n\n    legend = legend\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\")\n      .style(\"cursor\", \"pointer\")\n      .on(\"click\", d => {\n        let newData = this.state.chartData.map(row => {\n          if (row.name === d.name) {\n            row.shown = !d.shown;\n          }\n          return row;\n        });\n        this.setState({\n          chartData: newData\n        });\n      });\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", (legendHeight - 5) / 2)\n      .attr(\"height\", 5)\n      .style(\"fill\", d => (d.shown ? this.colors(d.name) : \"transparent\"))\n      .style(\"stroke\", d => this.colors(d.name))\n      .style(\"stroke-width\", 1);\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"text-transform\", \"capitalize\")\n      .text(d => d.name)\n      .append(\"title\")\n      .text(d => `Toggle ${d.name} line`);\n\n    // Legend Position\n    let widthSums = 0;\n    this.LegendHolder.selectAll(\".legend\").attr(\"transform\", function(d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = this.LegendHolder.node().getBBox().width;\n    this.LegendHolder.attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${height +\n        margin.bottom -\n        legendHeight * 2} )`\n    );\n\n    // Animate changes\n    this.yAxisEl.transition().call(this.yAxis);\n\n    lines\n      .transition()\n      .attr(\"d\", d => this.statusLine(d.data))\n      .style(\"stroke\", d => (d.shown ? this.colors(d.name) : \"transparent\"));\n  }\n\n  loadData() {\n    let url = \"/scot/api/v2/metric/create_histo\";\n    let opts = `?range=7`;\n\n    // Use dummy data while dashboard is in editMode\n    if (this.props.editMode) {\n      let dataset = this.genData();\n\n      // Add line visibility to data\n      dataset = dataset.map(line => {\n        line.shown = this.state.chartData.reduce((shown, d) => {\n          return shown && (d.name === line.name ? d.shown : true);\n        }, true);\n\n        return line;\n      });\n\n      this.setState({\n        chartData: dataset\n      });\n\n      return;\n    }\n\n    d3.json(url + opts, dataset => {\n      try {\n        // Add line visibility to data\n        dataset = dataset.map(line => {\n          line.shown = this.state.chartData.reduce((shown, d) => {\n            return shown && (d.name === line.name ? d.shown : true);\n          }, true);\n\n          return line;\n        });\n\n        this.setState({\n          chartData: dataset\n        });\n      } catch (e) {\n        console.log(\"Malformed data\");\n        console.log(dataset);\n        console.error(e);\n      }\n    });\n  }\n\n  genData() {\n    let dataTypes = [\n      \"alerts\",\n      \"alertgroups\",\n      \"events\",\n      \"incidents\",\n      \"entries\",\n      \"intel\"\n    ];\n    let dataMaxes = {\n      alerts: 5000,\n      alertgroups: 500,\n      entries: 100,\n      events: 15,\n      intel: 5,\n      incidents: 5\n    };\n\n    let now = new Date(),\n      date = new Date(Date.now() - timeWindow);\n    let lineData = [];\n    dataTypes.forEach(d => {\n      lineData.push({\n        name: d,\n        data: []\n      });\n    });\n    for (; date <= now; date = new Date(date.getTime() + 6 * 3600 * 1000)) {\n      lineData.forEach(line => {\n        line.data.push({\n          time: date.getTime() / 1000,\n          value: Math.random() * dataMaxes[line.name]\n        });\n      });\n    }\n\n    return lineData;\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.loadData();\n  }\n\n  dataChange(event) {\n    let target = event.target;\n\n    if (target.name === \"chartResults\" && target.value) {\n      if (target.value > 50) target.value = 50;\n      if (target.value < 1) target.value = 1;\n    }\n\n    this.setState(\n      {\n        [target.name]: target.value\n      },\n      this.loadData\n    );\n  }\n\n  exportToPNG() {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_created\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function() {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\n        \"#png-container\"\n      ).innerHTML = `<img src='${png}'/>`;\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Items Created</h1>}\n        <form>\n          <Button\n            id=\"export\"\n            bsSize=\"xsmall\"\n            bsStyle=\"default\"\n            onClick={this.exportToPNG}\n            disabled={formDisabled}\n          >\n            Export to PNG\n          </Button>\n        </form>\n        <div id=\"chart\">\n          <svg id=\"report_created\" viewBox=\"0 0 1000 600\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportCreated;\nexport const Description = \"Chart of newly created items\";\n","import React from \"react\";\nimport { Panel, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport ReportHeatmap, { Description as HeatmapDesc } from \"./report_heatmap\";\nimport ReportArt, { Description as ArtDesc } from \"./report_art\";\nimport ReportAlertpower, {\n  Description as PowerDesc\n} from \"./report_alertpower\";\nimport ReportCreated, { Description as CreatedDesc } from \"./report_created\";\n\nexport const ReportWidgets = () => {\n  const widgetTypes = [\"heatmap\", \"art\", \"alertpower\", \"created\"];\n\n  let widgets = {};\n  for (let type of widgetTypes) {\n    widgets[type] = {\n      type: reportByType(type),\n      title: reportTitleByType(type),\n      description: reportDescriptionByType(type)\n    };\n  }\n\n  return widgets;\n};\n\nconst reportByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return ReportHeatmap;\n    case \"alertpower\":\n      return ReportAlertpower;\n    case \"art\":\n      return ReportArt;\n    case \"created\":\n      return ReportCreated;\n  }\n};\n\nconst reportComponentByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return <ReportHeatmap />;\n    case \"alertpower\":\n      return <ReportAlertpower />;\n    case \"art\":\n      return <ReportArt />;\n    case \"created\":\n      return <ReportCreated />;\n  }\n};\n\nconst reportTitleByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return \"Heatmap\";\n    case \"alertpower\":\n      return \"Alert Power\";\n    case \"art\":\n      return \"Alert Response Time\";\n    case \"created\":\n      return \"Items Created\";\n  }\n};\n\nconst reportDescriptionByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return HeatmapDesc;\n    case \"alertpower\":\n      return PowerDesc;\n    case \"art\":\n      return ArtDesc;\n    case \"created\":\n      return CreatedDesc;\n  }\n};\n\nconst reportPanelHeader = (type, expandButton = false, backButton = false) => (\n  <div style={{ position: \"relative\" }}>\n    {reportTitleByType(type)}\n    {expandButton && (\n      <Link to={`/reports/${type}`} className=\"panel-button right\">\n        <Button bsSize=\"small\">\n          <i className=\"fa fa-external-link\" aria-hidden />\n        </Button>\n      </Link>\n    )}\n    {backButton && (\n      <Link to=\"/reports\" className=\"panel-button left\">\n        <Button bsSize=\"small\">\n          <i className=\"fa fa-arrow-left\" aria-hidden />\n        </Button>\n      </Link>\n    )}\n  </div>\n);\n\n//<Panel header={reportPanelHeader( reportTitleByType( 'heatmap' ), '/heatmap' )}>\n\nexport const ReportPage = () => (\n  <div\n    id=\"report\"\n    className=\"dashboard\"\n    style={{ height: \"calc( 100vh - 51px )\", overflow: \"auto\" }}\n  >\n    <div style={{ textAlign: \"center\" }}>\n      <h2>Reports</h2>\n    </div>\n    <div className=\"container-fluid\">\n      <div className=\"col-md-6\">\n        <Panel header={reportPanelHeader(\"heatmap\", true)}>\n          <ReportHeatmap />\n        </Panel>\n        <Panel header={reportPanelHeader(\"alertpower\", true)}>\n          <ReportAlertpower />\n        </Panel>\n      </div>\n      <div className=\"col-md-6\">\n        <Panel header={reportPanelHeader(\"art\", true)}>\n          <ReportArt />\n        </Panel>\n        <Panel header={reportPanelHeader(\"created\", true)}>\n          <ReportCreated />\n        </Panel>\n      </div>\n    </div>\n  </div>\n);\n\nexport const SingleReport = ({ reportType = \"heatmap\" }) => (\n  <div\n    id=\"report\"\n    className=\"dashboard\"\n    style={{ height: \"calc( 100vh - 51px )\", overflow: \"auto\" }}\n  >\n    <div className=\"container\">\n      <Panel header={reportPanelHeader(reportType, false, true)}>\n        {reportComponentByType(reportType)}\n      </Panel>\n    </div>\n  </div>\n);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n});\nfunction LoadingContainer(props) {\n  const { classes, loading } = props;\n  return (\n    <div className='LoadingContainer'>\n      {loading &&\n        <CircularProgress className={classes.progress} />\n      }\n    </div>\n  );\n}\n\nLoadingContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(LoadingContainer);\n\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ListGroup, Label } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../../utils/session_storage\";\nimport LoadingContainer from \"../../list/LoadingContainer\";\nimport {\n  todayRange,\n  lastWeekRange,\n  epochRangeToFilter,\n  timeOlderThan\n} from \"../../utils/time\";\n\nconst NEW_TIME = 24 * 60 * 60; // 1 day\nconst isNew = created => {\n  return !timeOlderThan(created * 1000, NEW_TIME);\n};\n\nconst SCOT_API = \"/scot/api/v2/\";\n\nexport default class ThingList extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      loading: false\n    };\n  }\n\n  static propTypes = {\n    thingType: PropTypes.string.isRequired, // Type to query\n    title: PropTypes.string.isRequired, // Title of Widget\n    queryOptions: PropTypes.object, // Search query options (sort & filter)\n    processData: PropTypes.func, // Function to process data\n    getSummary: PropTypes.func, // Function to create a summary from data entry\n    getLink: PropTypes.func, // Funciton to create a link from data entry\n    emptyString: PropTypes.string, // String to show when no data returned\n    emptyStyle: PropTypes.oneOf([\"success\", \"info\", \"warning\", \"danger\"]), // Style of emptyString\n    newBadge: PropTypes.bool, // Display a badge if the data entry is newer than a day\n    editMode: PropTypes.bool, // Whether the dashboard is in edit mode\n    errorToggle: PropTypes.func\n  };\n\n  static defaultProps = {\n    queryOptions: {\n      limit: 5,\n      offset: 0,\n      sort: {\n        id: -1\n      },\n      columns: [\"id\", \"subject\"]\n    },\n    processData: data => {\n      return data;\n    },\n    getSummary: thing => {\n      return thing.subject;\n    },\n    getLink: (thingType, thing) => {\n      return `${thingType}/${thing.id}`;\n    },\n    emptyString: \"No Data\",\n    emptyStyle: \"warning\",\n    newBadge: true\n  };\n\n  fetchData() {\n    this.setState({\n      loading: true\n    });\n\n    // Force deep copy\n    let data = $.extend(true, {}, this.props.queryOptions);\n    if (data.sort) {\n      data.sort = JSON.stringify(data.sort);\n    }\n\n    if (data.filter) {\n      data = {\n        ...data,\n        ...data.filter\n      };\n      delete data.filter;\n    }\n\n    if (this.props.newBadge) {\n      data.columns.push(\"created\");\n    }\n\n    $.ajaxSetup({ traditional: true });\n    $.ajax({\n      type: \"get\",\n      url: SCOT_API + this.props.thingType,\n      data: data\n    }).then(\n      data => {\n        this.setState({\n          data: this.props.processData(data.records),\n          loading: false\n        });\n      },\n      error => {\n        this.props.errorToggle(\"Failed to fetch data: \" + error);\n        this.setState({\n          loading: false\n        });\n      }\n    );\n  }\n\n  componentDidMount() {\n    if (!this.props.editMode) {\n      this.fetchData();\n    }\n  }\n\n  genThingItem(thing, i) {\n    // Using this instead of a subcomponent so I don't have to forward all the props\n    return (\n      <Link\n        key={i}\n        to={this.props.getLink(this.props.thingType, thing)}\n        className=\"list-group-item\"\n      >\n        {this.props.getSummary(thing)}\n        {this.props.newBadge &&\n          isNew(thing.created) && <Label bsStyle=\"primary\">New!</Label>}\n        <i className=\"fa fa-angle-right\" />\n      </Link>\n    );\n  }\n\n  render() {\n    let things = this.state.data.map((thing, i) => this.genThingItem(thing, i));\n    if (this.props.editMode) {\n      things = [1, 2, 3, 4, 5].map(thing => (\n        <div className=\"list-group-item\">\n          {this.props.thingType} - {thing}\n        </div>\n      ));\n    } else if (things.length === 0) {\n      things = (\n        <div\n          className={`list-group-item list-group-item-${this.props.emptyStyle}`}\n        >\n          {this.props.emptyString}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"ThingList\">\n        {!this.props.editMode && <h1>{this.props.title}</h1>}\n        {this.state.loading ? (\n          <LoadingContainer loading={true} />\n        ) : (\n          <ListGroup>{things}</ListGroup>\n        )}\n      </div>\n    );\n  }\n}\n\n/**\n * Hardcoded variants of Thinglist\n */\nexport const Widgets = () => {\n  return {\n    ...RecentIntel,\n    ...RecentEvents,\n    ...RecentIncidents,\n    ...OpenTasks,\n    ...YourTasks,\n    ...UnviewedAlerts,\n    ...TopEvents,\n    ...ViewedEvents,\n    ...EntryEvents\n  };\n};\n\nexport const RecentIntel = {\n  intel: {\n    type: ThingList,\n    title: \"Recent Intel\",\n    description: \"List of the 5 most recent Intel entries\",\n    props: {\n      thingType: \"intel\",\n      title: \"Recent Intel\"\n    }\n  }\n};\n\nexport const RecentEvents = {\n  events: {\n    type: ThingList,\n    title: \"Recent Events\",\n    description: \"List of the 5 most recent events\",\n    props: {\n      thingType: \"event\",\n      title: \"Recent Events\"\n    }\n  }\n};\n\nexport const RecentIncidents = {\n  incidents: {\n    type: ThingList,\n    title: \"Recent Incidents\",\n    description: \"List of the 5 most recent Incidents\",\n    props: {\n      thingType: \"incident\",\n      title: \"Recent Incidents\"\n    }\n  }\n};\n\nexport const OpenTasks = {\n  tasks: {\n    type: ThingList,\n    title: \"Open Tasks\",\n    description: \"List of recent open tasks\",\n    props: {\n      thingType: \"task\",\n      title: \"Open Tasks\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          updated: -1\n        },\n        filter: {\n          \"metadata.task.status\": \"open\"\n        },\n        columns: [\"id\", \"body_plain\", \"target\"]\n      },\n      getSummary: thing => {\n        return thing.body_plain.length > 200\n          ? thing.body_plain.substr(0, 200) + \"...\"\n          : thing.body_plain;\n      },\n      getLink: (thingType, thing) => {\n        let target = thing.target;\n        return `${thingType}/${target.type}/${target.id}/${thing.id}`;\n      },\n      emptyString: \"None\",\n      emptyStyle: \"info\"\n    }\n  }\n};\n\nexport const YourTasks = {\n  yourTasks: {\n    type: ThingList,\n    title: \"Your Tasks\",\n    description: \"List of open tasks that you own\",\n    props: {\n      thingType: \"task\",\n      title: \"Your Tasks\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          updated: 1\n        },\n        filter: {\n          \"metadata.task.status\": \"open\",\n          owner: SessionStorage.getLocalStorage(\"whoami\")\n        },\n        columns: [\"id\", \"body_plain\", \"target\"]\n      },\n      getSummary: thing => {\n        return thing.body_plain.length > 200\n          ? thing.body_plain.substr(0, 200) + \"...\"\n          : thing.body_plain;\n      },\n      getLink: (thingType, thing) => {\n        let target = thing.target;\n        return `${thingType}/${target.type}/${target.id}/${thing.id}`;\n      },\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const UnviewedAlerts = {\n  unviewedAlerts: {\n    type: ThingList,\n    title: \"Unviewed Alerts\",\n    description: \"Recent alerts with zero views\",\n    props: {\n      thingType: \"alertgroup\",\n      title: \"Unviewed Alerts\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          id: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(todayRange())),\n          views: 0\n        },\n        columns: [\"id\", \"subject\"]\n      },\n      newBadge: false,\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const TopEvents = {\n  topEvents: {\n    type: ThingList,\n    title: \"Important Events\",\n    description: \"Recent Events with open tasks\",\n    props: {\n      thingType: \"event\",\n      title: \"Important Events\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          has_tasks: 1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(todayRange()))\n        },\n        columns: [\"id\", \"subject\", \"has_tasks\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.has_tasks);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.has_tasks} open task${\n          thing.has_tasks > 1 ? \"s\" : \"\"\n        })`;\n      },\n      newBadge: false,\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const ViewedEvents = {\n  viewedEvents: {\n    type: ThingList,\n    title: \"Most Viewed Events\",\n    description: \"Events with the most views over the last week\",\n    props: {\n      thingType: \"event\",\n      title: \"Most Viewed Events\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          views: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(lastWeekRange()))\n        },\n        columns: [\"id\", \"subject\", \"views\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.views > 0);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.views} view${\n          thing.views > 1 ? \"s\" : \"\"\n        })`;\n      }\n    }\n  }\n};\n\nexport const EntryEvents = {\n  entryEvents: {\n    type: ThingList,\n    title: \"Events with Entries\",\n    description: \"Events with the most entries over the last week\",\n    props: {\n      thingType: \"event\",\n      title: \"Events with Entries\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          entry_count: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(lastWeekRange()))\n        },\n        columns: [\"id\", \"subject\", \"entry_count\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.entry_count > 0);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.entry_count} ${\n          thing.entry_count > 1 ? \"entries\" : \"entry\"\n        })`;\n      }\n    }\n  }\n};\n","import { ReportWidgets } from \"../report\";\nimport { Widgets as ThingWidgets } from \"../thinglist\";\n\nexport const Widgets = {\n  ...ThingWidgets(),\n  ...ReportWidgets()\n};\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Tab, Row, Col, Nav, NavItem } from \"react-bootstrap\";\nimport {\n    withUserConfig,\n    UserConfigPropTypes,\n    UserConfigKeys\n} from \"../utils/userConfig\";\nimport Dashboard, {\n    defaultLayout\n} from \"../components/dashboard/dazzle/dashboard\";\nimport Status from \"../components/dashboard/status\";\nimport Gamification from \"../components/dashboard/gamification\";\nimport Activity from \"../components/dashboard/activity\";\nimport { Widgets } from \"../components/dashboard/dazzle/widgets\";\nimport $ from \"jquery\";\n\nconst NEWTABKEY = \"new\";\n\nclass HomeDashboard extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            _isMounted: false\n        };\n\n        this.switchTab = this.switchTab.bind(this);\n        this.closeTab = this.closeTab.bind(this);\n        this.saveTab = this.saveTab.bind(this);\n    }\n\n    static propTypes = {\n        loggedIn: PropTypes.bool.isRequired,\n        sensitivity: PropTypes.string,\n        errorToggle: PropTypes.func,\n        ...UserConfigPropTypes\n    };\n\n    defaultTab() {\n        const layout = $.extend(true, {}, defaultLayout); // Deep copy\n\n        // Default tab has 3 charts: heatmap, ART, and created\n        layout.rows[0].columns[0].widgets.push({ key: \"heatmap\" });\n        layout.rows[0].columns[1].widgets.push({ key: \"art\" });\n        layout.rows[0].columns[2].widgets.push({ key: \"created\" });\n\n        return {\n            title: \"Default\",\n            layout: (\n                <Dashboard\n                    widgets={Widgets}\n                    title=\"Default\"\n                    layout={layout}\n                    errorToggle={this.props.errorToggle}\n                />\n            )\n        };\n    }\n\n    newTab() {\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n        tabs.push({});\n\n        this.updateDashboardConfig({\n            curTab: tabs.length,\n            tabs: tabs\n        });\n    }\n\n    buildTab(tabConfig, index) {\n        let tabLayout = (\n            <Dashboard\n                widgets={Widgets}\n                title={tabConfig.title}\n                layout={tabConfig.layout}\n                saveDashboard={(title, layout) => {\n                    this.saveTab(index, title, layout);\n                }}\n                isNew={tabConfig.layout == null}\n                errorToggle={this.props.errorToggle}\n            />\n        );\n        return {\n            title: tabConfig.title,\n            layout: tabLayout\n        };\n    }\n\n    saveTab(index, title, layout) {\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n\n        let newTabConfig = {\n            title: title,\n            layout: layout\n        };\n\n        tabs[index] = newTabConfig;\n        this.updateDashboardConfig({\n            tabs: tabs\n        });\n    }\n\n    closeTab(index) {\n        if (index < 1) {\n            return;\n        }\n\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n        tabs.splice(index - 1, 1);\n\n        this.updateDashboardConfig({\n            curTab: index - 1,\n            tabs: tabs\n        });\n    }\n\n    switchTab(key) {\n        if (key === this.props.userConfig.config.curTab) {\n            return;\n        }\n        if (key === NEWTABKEY) {\n            this.newTab();\n            return;\n        }\n\n        this.updateDashboardConfig({\n            curTab: key\n        });\n    }\n\n    updateDashboardConfig(newConfig) {\n        const dashboardConfig = this.props.userConfig.config;\n\n        this.props.userConfig.setUserConfig({\n            ...dashboardConfig,\n            ...newConfig\n        });\n    }\n\n    render() {\n        if (!this.props.loggedIn || this.props.userConfig.loading) {\n            return (\n                <div className=\"homePageDisplay\">\n                    <div className=\"home-grid loggedOut\">\n                        <div className=\"title-area\">\n                            <h1>\n                                Sandia Cyber Omni Tracker\n                <br />\n                                3.5\n              </h1>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        const dashboardHeader = (\n            <div className=\"home-grid\">\n                <div className=\"title-area\" />\n                <Status className=\"status-area\" />\n                <div className=\"game-area\">\n                    <Gamification />\n                </div>\n                <Activity\n                    createCallback={this.props.createCallback}\n                    removeCallback={this.props.removeCallback}\n                    className=\"activity-area\"\n                />\n            </div>\n        );\n\n        const dashboardConfig = this.props.userConfig.config;\n        const tabsConfig = dashboardConfig.tabs;\n\n        let tabs = [];\n        tabs.push(this.defaultTab());\n\n        let index = 0;\n        for (let newTab of tabsConfig) {\n            tabs.push(this.buildTab(newTab, index++));\n        }\n\n        let tabHeaders = tabs.map((tab, i) => {\n            let { title = \"New Dashboard\", layout, ...props } = tab;\n            return (\n                <NavItem eventKey={i} key={i}>\n                    {title}\n                    {i === dashboardConfig.curTab &&\n                        i !== 0 && (\n                            <span onClick={() => this.closeTab(i)}>\n                                &nbsp;\n                <i className=\"fa fa-times\" style={{ cursor: \"pointer\" }} />\n                            </span>\n                        )}\n                </NavItem>\n            );\n        });\n\n        tabHeaders.push(\n            <NavItem eventKey={NEWTABKEY} key={NEWTABKEY}>\n                +\n      </NavItem>\n        );\n\n        const tabContent = tabs.map((tab, i) => {\n            let { title, layout, ...props } = tab;\n            return (\n                <Tab.Pane eventKey={i} key={i} {...props}>\n                    {layout}\n                </Tab.Pane>\n            );\n        });\n\n        return (\n            <div className=\"homePageDisplay\">\n                <Tab.Container\n                    id=\"DashboardTabs\"\n                    activeKey={dashboardConfig.curTab}\n                    onSelect={this.switchTab}\n                >\n                    <Row>\n                        <Col sm={12}>\n                            <Nav bsStyle=\"tabs\">{tabHeaders}</Nav>\n                        </Col>\n                        <Col sm={12}>\n                            <Tab.Content mountOnEnter unmountOnExit>\n                                {dashboardHeader}\n                                {tabContent}\n                            </Tab.Content>\n                        </Col>\n                    </Row>\n                </Tab.Container>\n            </div>\n        );\n    }\n}\n\nexport default withUserConfig(UserConfigKeys.DASHBOARD)(HomeDashboard);\n","//Used to check for viewCookie which is used to determine if the default view should be portrait or landscape mode\n\nexport const checkCookie = string => {\n  let cookie = getCookie(string);\n  if (cookie !== \"\") {\n    return cookie;\n  }\n};\n\nexport const getCookie = cname => {\n  let name = cname + \"=\";\n  let ca = document.cookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n};\n\nexport const deleteCookie = name => {\n  document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n};\n\nexport const setCookie = (cname, cvalue, exdays) => {\n  let d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  let expires = \"expires=\" + d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n};\n","import React from \"react\";\nimport $ from \"jquery\";\nimport { Link } from 'react-router-dom'\nimport Highlighter from \"react-highlight-words\";\nimport styles from './Highlighter.example.css'\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSearchToolbar: false,\n      searchResults: null,\n      entityHeight: \"60vh\",\n      searching: false,\n      searchString: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    function searchEscHandler(event) {\n      if ($(\"#main-search-results\")[0] !== undefined) {\n        if (event.keyCode === 27) {\n          this.closeSearch();\n          event.preventDefault();\n        }\n      }\n    }\n    $(document).keyup(searchEscHandler.bind(this));\n  };\n\n  closeSearch = () => {\n    this.setState({\n      showSearchToolbar: false, searchString:\"\"\n    });\n  };\n\n  doSearch = string => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/esearch\",\n      data: { qstring: string },\n      success: function (response) {\n        if (string === $(\"#main-search\")[0].value) {\n          this.setState({\n            results: response.records,\n            showSearchToolbar: true,\n            searching: false,\n            searchString: string\n          });\n        }\n      }.bind(this),\n      error: function () {\n        //this.props.errorToggle('search failed')\n        this.setState({ searching: false });\n      }.bind(this)\n    });\n    this.setState({ searching: true });\n  };\n\n  handleEnterKey = e => {\n    if (e.key === \"Enter\") {\n      this.doSearch(e.target.value);\n    }\n  };\n\n  onChange = e => {\n    //only do auto search if there are at least 3 characters\n    //if (e.target.value.length > 2) {\n    this.doSearch(e.target.value);\n    //}\n  };\n\n  componentDidUpdate = () => {\n    if (this.state.searchString !== undefined) {\n      //var re = new RegExp(this.state.searchString,\"gi\");\n      //$(\".search-snippet\").html(function(_, html) {\n      //    return html.replace(re, '<span class=\"search_highlight\">$&</span>');\n      //});\n      // $(\".search-snippet\").mark(this.state.searchString, {\n      //   element: \"span\",\n      //   className: \"search_highlight\"\n      // });\n    }\n  };\n\n  render = () => {\n    let tableRows = [];\n    if (this.state.results !== undefined) {\n      if (this.state.results[0] !== undefined) {\n        for (let i = 0; i < this.state.results.length; i++) {\n          tableRows.push(\n            <SearchDataEachRows\n              dataOne={this.state.results[i]}\n              key={i}\n              index={i}\n              searchString={this.state.searchString}\n            />\n          );\n        }\n      } else {\n        tableRows.push(\n          <div style={{ display: \"inline-flex\" }}>\n            <div style={{ display: \"flex\" }}>No results returned</div>\n          </div>\n        );\n      }\n    }\n    return (\n      <div className=\"esearch\" style={{ zIndex: '100' }} >\n        <div style={{ display: \"flex\" }}>\n          <input\n            id=\"main-search\"\n            className=\"esearch-query\"\n            style={{\n              marginTop: \"3px\",\n              padding: \"10px 10px\",\n              float: \"right\",\n              position: \"relative\",\n              color: 'black'\n            }}\n            placeholder=\"&#xF002; Search\"\n            charSet=\"utf-8\"\n            onKeyPress={this.handleEnterKey}\n            onChange={this.onChange}\n          />\n          {this.state.searching ? (\n            <i\n              className=\"fa fa-spinner fa-spin fa-3x fa-fw\"\n              style={{ color: \"white\" }}\n            />\n          ) : null}\n        </div>\n        {this.state.showSearchToolbar ? (\n          <div\n            id=\"main-search-results\"\n            style={{\n              display: \"flex\",\n              flexFlow: \"row\",\n              position: \"absolute\",\n              right: \"10px\",\n              top: \"53px\",\n              background: \"#f3f3f3\",\n              border: \"black\",\n              borderStyle: \"solid\"\n            }}\n          >\n            <div>\n              <SearchDataEachHeader closeSearch={this.closeSearch} />\n              <div\n                style={{\n                  overflowY: \"auto\",\n                  maxHeight: \"600px\",\n                  display: \"table-caption\"\n                }}\n              >\n\n                {tableRows}\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n\n  componentWillUnmount = () => {\n    $(document).off(\"keypress\");\n  };\n}\n\nclass SearchDataEachHeader extends React.Component {\n  render = () => {\n\n    return (\n      <div\n        className=\"table-row header\"\n        style={{ color: \"black\", display: \"flex\" }}\n      >\n        <div style={{ flexGrow: 1, display: \"flex\" }}>\n          <div\n            style={{\n              width: \"100%\",\n              textAlign: \"left\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\"\n            }}\n          >\n            Search Results - Score Displayed\n            <i\n              className=\"fa fa-times pull-right\"\n              style={{ color: \"red\", margin: \"2px\", cursor: \"pointer\" }}\n              onClick={this.props.closeSearch}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n\nclass SearchDataEachRows extends React.Component {\n  render = () => {\n    let type = this.props.dataOne.type;\n    let id = this.props.dataOne.id;\n    let entryid = this.props.dataOne.entryid;\n    let score = this.props.dataOne.score;\n    let highlight = [];\n\n    let rowEvenOdd = \"even\";\n    if (!isEven(this.props.index)) {\n      rowEvenOdd = \"odd\";\n    }\n\n    let rowClassName = \"search_result_row list-view-row\" + rowEvenOdd;\n\n    let href = \"/\" + type + \"/\" + id;\n    if (entryid !== undefined) {\n      href = \"/\" + type + \"/\" + id + \"/\" + entryid;\n    }\n\n    if (this.props.dataOne.highlight !== undefined) {\n      if (typeof this.props.dataOne.highlight === \"string\") {\n        highlight.push(\n          <span className=\"search_snippet_container panel col\">\n            <span className=\"search_snippet_header\">Snippet:</span>\n            <span className=\"search_snippet_result\">\n              {this.props.dataOne.highlight}\n            </span>\n          </span>\n        );\n      } else if ($.isArray(this.props.dataOne.highlight)) {\n        highlight.push(\n          <span className=\"search_snippet_container panel col\">\n            <span className=\"search_snippet_header\">Snippet:</span>\n            <span className=\"search_snippet_result\">\n              {this.props.dataOne.highlight[0]}\n            </span>\n          </span>\n        );\n      } else {\n        for (let key in this.props.dataOne.highlight) {\n          let search_string_array = this.props.searchString.split(\" \");\n          highlight.push(\n            <Highlighter\n              activeClassName={styles.Active}\n              highlightClassName=\"search_snippet_result\"\n              className=\"search_snippet_result\"\n              searchWords={search_string_array}\n              autoEscape={true}\n              textToHighlight={this.props.dataOne.highlight[key][0]}\n              highlightClassName={styles.Highlight}\n              highlightStyle={{ backgroundColor: 'yellow' }}\n            />\n          );\n        }\n      }\n    }\n    return (\n      <div key={Date.now()} className={rowClassName}>\n        <Link to={href} style={{ display: \"flex\" }}>\n          <span\n            className=\"panel panel-default\"\n            style={{\n              display: \"flex\",\n              flexFlow: \"column\",\n              borderColor: \"black\",\n              borderWidth: \"thin\",\n              margin: \"0px\"\n            }}\n          >\n            <div className=\"panel-heading h4 search-heading\">\n              {type} {id} - {score}\n            </div>\n            <div\n              className=\"search-snippet\"\n              style={{\n                display: \"flex\",\n                overflowX: \"hidden\",\n                wordWrap: \"break-word\"\n              }}\n            >\n              <span\n                className=\"container-fluid\"\n                style={{\n                  textAlign: \"left\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  width: \"600px\"\n                }}\n              >\n                {highlight}\n              </span>\n            </div>\n          </span>\n        </Link>\n      </div>\n    );\n    /*\n        return (\n            <div key={Date.now()} className={rowClassName}>\n                <a href={href} style={{display:'flex'}}>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{id}</span>\n                    </div>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{type}</span>\n                    </div>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{score}</span>\n                    </div>\n                    <div className='search-snippet' style={{display:'flex', overflowX:'hidden',wordWrap:'break-word'}}>\n                        <span className='row' style={{textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', width: '400px'}}>{highlight}</span>\n                    </div>\n                </a>\n            </div>\n        )*/\n  };\n}\n\nfunction isEven(n) {\n  return n % 2 === 0;\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nlet Button = require(\"react-bootstrap/lib/Button\");\n\nexport default class Wall extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wallMessage: \"\",\n      buttonStatus: \"primary\",\n      buttonText: \"Send\",\n      buttonLoading: false\n    };\n  }\n  sendWallMessage = () => {\n    if (this.state.wallMessage === \"\") {\n      alert(\"Please enter text\");\n      this.setState({ buttonStatus: \"warning\" });\n    } else {\n      this.setState({ buttonText: \"Loading\", buttonLoading: true });\n      let data = { msg: this.state.wallMessage };\n      $.ajax({\n        type: \"post\",\n        url: \"scot/api/v2/wall\",\n        data: data,\n        traditional: true,\n        success: function() {\n          this.setState({\n            buttonStatus: \"success\",\n            buttonText: \"Sent\",\n            buttonLoading: false\n          });\n        }.bind(this),\n        error: function(data) {\n          this.setState({\n            buttonStatus: \"danger\",\n            buttonText: \"Failed - Try Again?\",\n            buttonLoading: false\n          });\n          this.props.errorToggle(\"Failed to send message\", data);\n        }.bind(this)\n      });\n    }\n  };\n\n  inputChange = input => {\n    this.setState({ wallMessage: input.target.value });\n  };\n\n  render = () => {\n    return (\n      <div className=\"allComponents\" style={{ \"margin-left\": \"17px\" }}>\n        <div>\n          <div>\n            <div className=\"main-header-info-child\">\n              <h2 htmlFor=\"message\">Message to all SCOT users:</h2>\n              <input\n                id=\"message\"\n                style={{ width: \"700px\" }}\n                placeholder=\"Enter message to be displayed to everyone using SCOT\"\n                value={this.state.wallMessage}\n                onChange={this.inputChange}\n              />\n              <Button\n                onClick={this.sendWallMessage}\n                bsStyle={this.state.buttonStatus}\n                disabled={this.state.buttonLoading}\n              >\n                {this.state.buttonText}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport ScotImage from \"../images/scot_logo_473x473.png\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: \"\",\n      pass: \"\"\n    };\n    this.SSO = this.SSO.bind(this);\n    this.NormalAuth = this.NormalAuth.bind(this);\n    this.isEnterPressed = this.isEnterPressed.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    let origurl = this.props.origurl;\n    let url = \"/sso?orig_url=/#\" + origurl;\n    return (\n      <Modal dialogClassName=\"login-modal\" show={this.props.modalActive}>\n        <Modal.Header>\n          <Modal.Title style={{ textAlign: \"center\" }}>SCOT Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ textAlign: \"center\" }}>\n          <img src={ScotImage} alt=\"SCOT Logo\" />\n          <Button type=\"submit\" href={url}>\n            Sign in using SSO\n          </Button>\n          <br />\n          <br />\n          <div\n            className=\"input-group\"\n            style={{\n              marginBottom: \"25px\",\n              marginRight: \"100px\",\n              marginLeft: \"100px\"\n            }}\n          >\n            <span className=\"input-group-addon\">\n              <i className=\"fa fa-user\" />\n            </span>\n            <input\n              id=\"user\"\n              type=\"user\"\n              ref=\"user\"\n              defaultValue=\"\"\n              className=\"form-control\"\n              placeholder=\"Username or Email\"\n            />\n          </div>\n          <div\n            className=\"input-group\"\n            style={{\n              marginBottom: \"25px\",\n              marginRight: \"100px\",\n              marginLeft: \"100px\"\n            }}\n          >\n            <span className=\"input-group-addon\">\n              <i className=\"fa fa-lock\" />\n            </span>\n            <input\n              id=\"pass\"\n              type=\"password\"\n              ref=\"pass\"\n              defaultValue=\"\"\n              placeholder=\"Password\"\n              className=\"form-control\"\n              onKeyPress={this.isEnterPressed}\n            />\n          </div>\n          <Button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            onClick={this.NormalAuth}\n            style={{ marginBottom: \"25px\", width: \"140px\" }}\n          >\n            Submit\n          </Button>\n          <br />\n        </Modal.Body>\n      </Modal>\n    );\n  }\n  isEnterPressed(e) {\n    if (e.key === \"Enter\") {\n      this.NormalAuth();\n    }\n  }\n\n  SSO() {\n    let data = {};\n    data[\"orig_url\"] = \"%2f\";\n    $.ajax({\n      type: \"get\",\n      url: \"sso\",\n      crossDomain: true,\n      data: data,\n      success: function(data) {\n        console.log(\"success logging in\");\n        //TODO: Run restart code\n        // Actions.restartClient(); //restart the amq client after successful login\n        this.props.WhoAmIQuery(); //get new whoami after successful login\n        this.props.GetHandler(); //get new handler after succesful login\n        this.props.loginToggle(null, true);\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to log in using SSO\");\n      }.bind(this)\n    });\n  }\n\n  NormalAuth() {\n    let data = {};\n    data[\"user\"] = this.refs.user.value;\n    data[\"pass\"] = this.refs.pass.value;\n    data[\"csrf_token\"] = this.props.csrf;\n\n    $.ajax({\n      type: \"post\",\n      url: \"auth\",\n      data: data,\n      success: function() {\n        console.log(\"success logging in\");\n        //TODO: Implemtn restart script\n        //Actions.restartClient(); //restart the amq client after successful login\n        this.props.WhoAmIQuery(); //get new whoami after successful login\n        this.props.GetHandler(); //get new handler after succesful login\n        this.props.loginToggle(null, true);\n      }.bind(this),\n      error: function(data) {\n        if (data.responseText === \"Failed CSRF check\") {\n          this.props.errorToggle(\n            \"Failed to log in due to bad CSRF token. Please reload the page and then log in. Error: \" +\n              data.responseText\n          );\n        } else {\n          this.props.errorToggle(\n            \"Failed to log in using normal auth: \" + data.responseText\n          );\n        }\n      }.bind(this)\n    });\n  }\n}\n\nLogin.propTypes = {\n  modalActive: PropTypes.bool\n};\n\nLogin.defaultProps = {\n  modalActive: true\n};\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactTags from \"react-tag-autocomplete\";\nimport $ from \"jquery\";\n\nclass TagInput extends Component {\n  constructor(props) {\n    super(props);\n\n    let tags = [];\n    if (this.props.value) {\n      tags = this.props.value;\n    }\n\n    let maxTags = undefined;\n    if (this.props.maxTags) {\n      maxTags = this.props.maxTags;\n    }\n    this.state = {\n      suggestions: [],\n      tags: tags,\n      maxTags: maxTags,\n      placeholder: \"\"\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.showHideInput = this.showHideInput.bind(this);\n  }\n\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    type: PropTypes.oneOf([\"source\", \"tag\", \"userdef\"]).isRequired,\n    value: PropTypes.array.isRequired,\n    suggestions: PropTypes.array.isRequired\n  };\n\n  handleDelete(i) {\n    const tags = this.state.tags;\n\n    tags.splice(i, 1);\n    if (tags.length === 0) {\n      this.props.onChange(\"\");\n      this.setState({ tags: tags, placeholder: \"\" });\n      return;\n    }\n\n    this.props.onChange(tags);\n    this.setState({ tags: tags, placeholder: \"\" });\n  }\n\n  handleAdd(tag) {\n    const tags = this.state.tags;\n\n    if (this.state.maxTags && tags.length >= this.state.maxTags) {\n      this.setState({\n        placeholder:\n          \"Only \" +\n          this.state.maxTags +\n          \" allowed. Please delete a tag to add another one\"\n      });\n      return;\n    } else {\n      tags.push(tag);\n      this.props.onChange(tags);\n      this.setState({ tags: tags, placeholder: \"\" });\n    }\n  }\n\n  componentDidUpdate() {\n    this.showHideInput();\n  }\n\n  handleInputChange(input) {\n    if (input && input.length >= 2) {\n      let arr = [];\n      $.ajax({\n        type: \"get\",\n        url: \"/scot/api/v2/ac/\" + this.props.type + \"/\" + input,\n        success: function(result) {\n          result = result.records;\n          for (let i = 0; i < result.length; i++) {\n            let obj = {};\n            obj.id = i + 1;\n            obj.name = result[i];\n            arr.push(obj);\n          }\n          this.setState({ suggestions: arr });\n        }.bind(this),\n        error: function(data) {\n          console.log(\"failed to get autocomplete data\");\n        }\n      });\n    }\n  }\n\n  showHideInput() {\n    if (\n      this.props.type === \"userdef\" &&\n      this.props.maxTags &&\n      this.state.tags.length >= this.props.maxTags\n    ) {\n      $(\".react-tags__search\").hide();\n    } else {\n      $(\".react-tags__search\").show();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TagInput\">\n        <ReactTags\n          tags={this.state.tags}\n          suggestions={this.state.suggestions}\n          handleAddition={this.handleAdd}\n          handleDelete={this.handleDelete}\n          handleInputChange={this.handleInputChange}\n          autoresize={false}\n          autofocus={false}\n          allowBackspace={false}\n          allowNew={true}\n          placeholder={this.state.placeholder}\n          tagComponent={Tag}\n        />\n      </div>\n    );\n  }\n}\n\nconst Tag = ({ classNames, onDelete, tag }) => (\n  <div className={classNames.selectedTag}>\n    <span className={classNames.selectedTagName}>{tag.name}</span>\n    <i className={\"fa fa-remove\"} aria-hidden=\"true\" onClick={onDelete} />\n  </div>\n);\n\nexport default TagInput;\n","import React from 'react';\nimport { OverlayTrigger, ButtonGroup, Button, Popover } from 'react-bootstrap';\nimport DateRangePicker from 'react-daterange-picker';\nimport DebounceInput from 'react-debounce-input';\n\nimport { epochRangeToString, epochRangeToMoment, momentRangeToEpoch } from '../utils/time';\n\nimport * as constants from '../utils/constants';\n\nimport LoadingContainer from './LoadingContainer';\nimport TagInput from '../components/TagInput';\n\nconst customFilters = {\n    numberFilter: ({ filter, onChange }) => (\n        <DebounceInput\n            debounceTimeout={200}\n            type='number'\n            minLength={1}\n            min={0}\n            value={filter ? filter.value : ''}\n            onChange={e => onChange(e.target.value)}\n            style={{ width: '100%' }}\n        />\n    ),\n    stringFilter: ({ filter, onChange }) => (\n        <DebounceInput\n            debounceTimeout={200}\n            minLength={1}\n            value={filter ? filter.value : ''}\n            onChange={e => onChange(e.target.value)}\n            style={{ width: '100%' }}\n        />\n    ),\n    dropdownFilter: (options = ['open', 'closed', 'promoted'], align) => ({ filter, onChange }) => (\n        <OverlayTrigger trigger='focus' placement='bottom' overlay={\n            <Popover id='status_popover' style={{ maxWidth: '400px' }}>\n                <ButtonGroup vertical style={{ maxHeight: '50vh', overflowY: 'auto', position: 'relative' }}>\n                    {options.map(option => (\n                        <Button\n                            key={option}\n                            onClick={() => onChange(option)}\n                            active={filter && filter.value === option}\n                            style={{ textTransform: 'capitalize', textAlign: align ? align : null }}\n                        >{option}</Button>\n                    ))}\n                </ButtonGroup>\n                {filter &&\n                    <Button\n                        block\n                        onClick={() => onChange('')}\n                        bsStyle='primary'\n                        style={{ marginTop: '3px' }}\n                    >Clear</Button>\n                }\n            </Popover>\n        }>\n            <input type='text' value={filter ? filter.value : ''} readOnly style={{ width: '100%', cursor: 'pointer' }} />\n        </OverlayTrigger>\n    ),\n    dateRange: ({ filter, onChange }) => (\n        <OverlayTrigger trigger='click' rootClose placement='bottom' overlay={\n            <Popover id='daterange_popover' style={{ maxWidth: '350px' }}>\n                <DateRangePicker numberOfCalendars={2} selectionType='range' showLegend={false} singleDateRange={true} onSelect={\n                    (range, states) => { onChange(momentRangeToEpoch(range)); }\n                } value={filter ? epochRangeToMoment(filter.value) : null} />\n                {filter &&\n                    <Button block onClick={() => {\n                        onChange('');\n                        document.dispatchEvent(new MouseEvent('click'));\n                    }} bsStyle='primary'>Clear</Button>\n                }\n            </Popover>\n        }>\n            <input type='text' value={filter ? epochRangeToString(filter.value) : ''} readOnly style={{ width: '100%', cursor: 'pointer' }} />\n        </OverlayTrigger>\n    ),\n    tagFilter: (type = 'tag') => ({ filter, onChange }) => (\n        <TagInput type={type} onChange={onChange} value={filter ? filter.value : []} />\n    ),\n};\n\nconst customCellRenderers = {\n    dateFormater: row => {\n        let date = new Date(row.value * 1000);\n        return (\n            <span>{date.toLocaleString()}</span>\n        );\n    },\n    alertStatus: row => {\n        let [open, closed, promoted] = row.value.split('/').map(value => parseInt(value.trim(), 10));\n        let className = 'open btn-danger';\n        if (promoted) {\n            className = 'promoted btn-warning';\n        } else if (closed) {\n            if (!open) {\n                className = 'closed btn-success';\n            }\n        }\n\n        return (\n            <div className={`alertStatusCell ${className}`}>{row.value}</div>\n        );\n    },\n    textStatus: row => {\n        let color = 'green';\n        if (row.value === 'open' || row.value === 'disabled' || row.value === 'assigned') {\n            color = 'red';\n        } else if (row.value === 'promoted') {\n            color = 'orange';\n        }\n\n        return (\n            <span style={{ color: color }}>{row.value}</span>\n        );\n    },\n};\n\nconst customTableComponents = {\n    loading: ({ loading }) => (\n        <div className={'-loading' + (loading ? ' -active' : '')}>\n            <LoadingContainer loading={loading} />\n        </div>\n    ),\n};\n\nconst columnDefinitions = {\n    Id: {\n        Header: 'ID',\n        accessor: 'id',\n        maxWidth: 100,\n        Filter: customFilters.numberFilter,\n    },\n\n    AlertStatus: {\n        Header: 'Status',\n        accessor: d => d.open_count + ' / ' + d.closed_count + ' / ' + d.promoted_count,\n        column: ['open_count', 'closed_count', 'promoted_count'],\n        id: 'status',\n        maxWidth: 150,\n        Filter: customFilters.dropdownFilter(),\n        Cell: customCellRenderers.alertStatus,\n        style: {\n            padding: 0,\n        },\n    },\n\n    EventStatus: {\n        Header: 'Status',\n        accessor: 'status',\n        maxWidth: 100,\n        Cell: customCellRenderers.textStatus,\n        Filter: customFilters.dropdownFilter(),\n    },\n\n    IncidentStatus: {\n        Header: 'Status',\n        accessor: 'status',\n        maxWidth: 100,\n        Cell: customCellRenderers.textStatus,\n        Filter: customFilters.dropdownFilter(['open', 'closed']),\n    },\n\n    SigStatus: {\n        Header: 'Status',\n        accessor: 'status',\n        maxWidth: 100,\n        Cell: customCellRenderers.textStatus,\n        Filter: customFilters.dropdownFilter(['enabled', 'disabled']),\n    },\n\n    TaskStatus: {\n        Header: 'Task Status',\n        accessor: d => d.metadata.task.status,\n        id: 'metadata.task.status',\n        column: 'metadata',\n        Cell: customCellRenderers.textStatus,\n        Filter: customFilters.dropdownFilter(['open', 'assigned', 'closed']),\n    },\n\n    TaskSummary: {\n        Header: 'Task Summary',\n        accessor: d => d.body_plain.length > 200 ? d.body_plain.substr(0, 200) + '...' : d.body_plain,\n        id: 'summary',\n        minWidth: 400,\n        maxWidth: 5000,\n        Filter: customFilters.stringFilter,\n    },\n\n    Subject: {\n        Header: 'Subject',\n        accessor: 'subject',\n        minWidth: 400,\n        maxWidth: 5000,\n        Filter: customFilters.stringFilter,\n    },\n\n    Location: {\n        Header: 'Location',\n        accessor: 'location',\n        minWidth: 80,\n        maxWidth: 180,\n        Filter: customFilters.stringFilter,\n    },\n\n    Created: {\n        Header: 'Created',\n        accessor: 'created',\n        minWidth: 100,\n        maxWidth: 180,\n        Filter: customFilters.dateRange,\n        Cell: customCellRenderers.dateFormater,\n    },\n\n    Updated: {\n        Header: 'Updated',\n        accessor: 'updated',\n        minWidth: 100,\n        maxWidth: 180,\n        Filter: customFilters.dateRange,\n        Cell: customCellRenderers.dateFormater,\n    },\n\n    Occurred: {\n        Header: 'When',\n        accessor: 'when',\n        minWidth: 100,\n        maxWidth: 180,\n        Filter: customFilters.dateRange,\n        Cell: customCellRenderers.dateFormater,\n    },\n\n    //Changing due to Todd's change of Incident data structure as of 10/19\n    // Occurred: {\n    //     Header: 'Occurred',\n    //     accessor: 'occurred',\n    //     minWidth: 100,\n    //     maxWidth: 180,\n    //     Filter: customFilters.dateRange,\n    //     Cell: customCellRenderers.dateFormater,\n    // },\n\n    Sources: {\n        Header: 'Sources',\n        accessor: 'source', //d => d.source ? d.source.join( ', ' ) : '',\n        column: 'source',\n        id: 'source',\n        minWidth: 120,\n        //maxWidth: 150,\n        Filter: customFilters.tagFilter('source'),\n    },\n\n    Tags: {\n        Header: 'Tags',\n        accessor: 'tag', //d => d.tag ? d.tag.join( ', ' ) : '',\n        column: 'tag',\n        id: 'tag',\n        minWidth: 120,\n        //maxWidth: 150,\n        Filter: customFilters.tagFilter('tag'),\n    },\n\n    TaskOwner: {\n        Header: 'Task Owner',\n        accessor: 'owner',\n        maxWidth: 80,\n        Filter: customFilters.stringFilter,\n    },\n\n    Owner: {\n        Header: 'Owner',\n        accessor: 'owner',\n        maxWidth: 80,\n        Filter: customFilters.stringFilter,\n    },\n\n    Entries: {\n        Header: 'Entries',\n        accessor: 'entry_count',\n        maxWidth: 70,\n        Filter: customFilters.numberFilter,\n    },\n\n    Views: {\n        Header: 'Views',\n        accessor: 'views',\n        maxWidth: 70,\n        Filter: customFilters.numberFilter,\n    },\n\n    DOE: {\n        Header: 'DOE',\n        accessor: 'doe_report_id',\n        maxWidth: 100,\n        Filter: customFilters.stringFilter,\n    },\n\n    IncidentType: {\n        Header: 'Type',\n        accessor: 'type',\n        minWidth: 200,\n        maxWidth: 250,\n        Filter: customFilters.dropdownFilter(constants.INCIDENT_TYPES, 'left'),\n    },\n\n    AppliesTo: {\n        Header: 'Applies To',\n        accessor: 'applies_to',\n        Filter: customFilters.stringFilter,\n        minWidth: 400,\n        maxWidth: 5000,\n    },\n\n    Value: {\n        Header: 'Value',\n        accessor: 'value',\n        Filter: customFilters.stringFilter,\n        minWidth: 400,\n        maxWidth: 5000,\n    },\n\n    Name: {\n        Header: 'Name',\n        accessor: 'name',\n        Filter: customFilters.stringFilter,\n        minWidth: 200,\n        maxWidth: 300,\n    },\n\n    Group: {\n        Header: 'Group',\n        accessor: d => d.data.signature_group ? d.data.signature_group.join(', ') : '',\n        column: 'signature_group',\n        id: 'data.signature_group',\n        Filter: customFilters.stringFilter,\n    },\n\n    Type: {\n        Header: 'Type',\n        accessor: d => d.data.type,\n        id: 'data.type',\n        Filter: customFilters.stringFilter,\n        minWidth: 100,\n        maxWidth: 150,\n    },\n\n    EntityType: {\n        Header: 'Type',\n        accessor: 'type',\n        Filter: customFilters.stringFilter,\n        minWidth: 100,\n        maxWidth: 150,\n    },\n\n\n    Description: {\n        Header: 'Description',\n        // accessor: 'description',\n        accessor: d => d.data.description,\n        Filter: customFilters.stringFilter,\n        minWidth: 400,\n        id: 'data.description',\n        maxWidth: 5000,\n    },\n\n\n    TargetType: {\n        Header: 'Type',\n        accessor: d => d.target.type,\n        column: 'target',\n        id: 'target_type',\n        Filter: customFilters.stringFilter,\n    },\n\n    TargetId: {\n        Header: 'Target Id',\n        accessor: d => d.target.id,\n        column: 'target',\n        id: 'target_id',\n        Filter: customFilters.numberFilter,\n    },\n\n    OpenTasks: {\n        Header: 'Open Tasks',\n        accessor: 'has_tasks',\n        Filter: customFilters.numberFilter,\n        maxWidth: 90,\n        filterable: false,\n    },\n};\n\nconst defaultTableSettings = {\n    manual: true,\n    sortable: true,\n    filterable: true,\n    resizable: true,\n    styleName: 'styles.ReactTable',\n    className: '-striped -highlight',\n    minRows: 0,\n\n    LoadingComponent: customTableComponents.loading,\n\n};\n\nexport const defaultTypeTableSettings = {\n    page: 0,\n    pageSize: 50,\n    sorted: [{\n        id: 'id',\n        desc: true,\n    }],\n    filtered: [],\n};\n\nconst defaultColumnSettings = {\n    style: {\n        padding: '5px 5px',\n    },\n};\n\nconst typeColumns = {\n    alertgroup: ['Id', 'Location', 'AlertStatus', 'Subject', 'Created', 'Sources', 'Tags', 'Views', 'OpenTasks'],\n    event: ['Id', 'Location', 'EventStatus', 'Subject', 'Created', 'Updated', 'Sources', 'Tags', 'Owner', 'Entries', 'Views', 'OpenTasks'],\n    incident: ['Id', 'Location', 'DOE', 'IncidentStatus', 'Owner', 'Subject', 'Occurred', 'IncidentType',\n        {\n            title: 'Tags',\n            options: { minWidth: 100, maxWidth: 150 },\n        },\n        {\n            title: 'Sources',\n            options: { minWidth: 100, maxWidth: 150 },\n        },\n    ],\n    intel: ['Id', 'Location', 'Subject', 'Created', 'Updated', 'Sources',\n        {\n            title: 'Tags',\n            options: { minWidth: 200, maxWidth: 250 },\n        }, 'Owner', 'Entries', 'Views',],\n    task: ['Id', 'Location', 'Subject', 'TargetType', 'TargetId',\n        {\n            title: 'TaskOwner',\n            options: { minWidth: 150, maxWidth: 500 },\n        },\n        'TaskStatus', 'TaskSummary',\n        {\n            title: 'Updated',\n            options: { minWidth: 150, maxWidth: 500 },\n        },\n    ],\n    signature: ['Id', 'Location', 'Name', 'Type', 'SigStatus', 'Group', 'Description', 'Owner', 'Tags', 'Sources', 'Updated',],\n    guide: ['Id', 'Location', 'Subject', 'AppliesTo'],\n    entity: ['Id', 'Location', 'Value', 'EntityType', 'Entries',],\n    default: ['Id', 'Location', 'AlertStatus', 'Subject', 'Created', 'Sources', 'Tags', 'Views',],\n};\n\nexport const buildTypeColumns = (type) => {\n    if (!typeColumns.hasOwnProperty(type)) {\n        // throw new Error( 'No columns defined for type: '+ type );\n        type = 'default';\n    }\n\n    let columns = [];\n    for (let col of typeColumns[type]) {\n        let colOptions = {};\n\n        if (typeof col === 'object') {\n            colOptions = {\n                ...columnDefinitions[col.title],\n                ...col.options,\n            };\n        } else if (typeof col === 'string') {\n            colOptions = columnDefinitions[col];\n        }\n\n        columns.push({\n            ...defaultColumnSettings,\n            ...colOptions,\n        });\n    }\n\n    return columns;\n};\n\nexport default defaultTableSettings;\n","\n/*****************************************************/\n/***************    Table Options   *****************/\n/***************************************************/\nexport const INCIDENT_TYPES = [\n    'Type 1 : Root Compromise',\n    'Type 1 : User Compromise',\n    'Type 1 : Loss/Theft/Missing Desktop',\n    'Type 1 : Loss/Theft/Missing Laptop',\n    'Type 1 : Loss/Theft/Missing Media',\n    'Type 1 : Loss/Theft/Missing Other',\n    'Type 1 : Malicious Code Trojan',\n    'Type 1 : Malicious Code Virus',\n    'Type 1 : Malicious Code Worm',\n    'Type 1 : Malicious Code Other',\n    'Type 1 : Web Site Defacement',\n    'Type 1 : Denial of Service',\n    'Type 1 : Critical Infrastructure Protection',\n    'Type 1 : Unauthorized Use',\n    'Type 1 : Information Compromise',\n    'Type 2 : Attempted Intrusion',\n    'Type 2 : Reconnaissance Activity',\n];\n","var listColumnsJSON = {};\nlistColumnsJSON = {\n    columnsDisplay: {\n        alertgroup: ['ID', 'Status', 'Subject', 'Created', 'Sources', 'Tags', 'Views', 'Open Tasks'],\n        alert: ['ID', 'Status', 'Subject', 'Created', 'Sources', 'Tags', 'Views'],\n        event: ['ID', 'Status', 'Subject', 'Created', 'Updated', 'Sources', 'Tags', 'Owner', 'Entries', 'Views', 'Open Tasks'],\n        incident: ['ID', 'DOE', 'Status', 'Owner', 'Subject', 'Occurred', 'Type', 'Tags', 'Sources'],\n        task: [ 'Entry Id', 'Body', 'Type', 'ID', 'Status', 'Owner', 'Updated'],\n        guide: ['ID', 'Subject', 'Applies To'],\n        intel: ['ID', 'Subject', 'Created', 'Updated', 'Source', 'Tags', 'Owner', 'Entries', 'Views'],\n        signature: ['ID', 'Name', 'Type', 'Status', 'Group', 'Description', 'Owner', 'Tag', 'Source', 'Updated'],\n        entity: ['ID', 'Value', 'Type', 'Entries']\n    },\n    columns: {\n        alertgroup: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views', 'has_tasks'],\n        alert: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views'],\n        event: ['id', 'status', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views', 'has_tasks'],\n        incident: ['id', 'doe_report_id', 'status', 'owner', 'subject', 'occurred', 'type', 'tag', 'source'],\n        task: [ 'id', 'body_plain', 'target.type', 'target.id', 'metadata.status', 'owner', 'updated'],\n        guide: ['id', 'subject', 'applies_to'],\n        intel: ['id', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views'],\n        signature: ['id', 'name', 'type', 'status', 'signature_group', 'description', 'owner', 'tag', 'source', 'updated'],\n        entity: ['id', 'value', 'type', 'entry_count']\n    },\n    columnsClassName: {\n        alertgroup: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views', 'has-tasks'],\n        alert: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views'],\n        event: ['id', 'status', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views', 'has-tasks'],\n        incident: ['id', 'doe_report_id', 'status', 'owner', 'subject', 'occurred', 'type', 'tag', 'source'],\n        task: ['id', 'body_plain', 'target_type', 'target_id', 'task_status', 'owner', 'updated'],\n        guide: ['id', 'subject', 'applies_to']   ,\n        intel: ['id', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views'],\n        signature: ['id', 'name', 'type', 'status', 'signature_group', 'description', 'owner', 'tag', 'source', 'updated'],\n        entity: ['id', 'value', 'type', 'entry_count']\n    }\n};\nexport default listColumnsJSON;","import React from \"react\";\nimport $ from \"jquery\";\nlet ButtonToolbar = require(\"react-bootstrap/lib/ButtonToolbar\");\nlet OverlayTrigger = require(\"react-bootstrap/lib/OverlayTrigger\");\nlet MenuItem = require(\"react-bootstrap/lib/MenuItem\");\nlet DropdownButton = require(\"react-bootstrap/lib/DropdownButton\");\nlet Popover = require(\"react-bootstrap/lib/Popover\");\nlet Link = require(\"react-router-dom\").Link;\n\nexport default class DetailDataStatus extends React.Component {\n  componentDidMount = () => {\n    //Adds open/close hot keys for alertgroup\n    if (this.props.type === \"alertgroup\") {\n      $(\"#list-view\").keydown(\n        function(event) {\n          //prevent from working when in input\n          if ($(\"input\").is(\":focus\")) {\n            return;\n          }\n          //check for character \"o\" for 79 or \"c\" for 67\n          if (this.props.status !== \"promoted\") {\n            if (\n              event.keyCode === 79 &&\n              (event.ctrlKey !== true && event.metaKey !== true)\n            ) {\n              this.statusAjax(\"open\");\n            } else if (\n              event.keyCode === 67 &&\n              (event.ctrlKey !== true && event.metaKey !== true)\n            ) {\n              this.statusAjax(\"closed\");\n            }\n          }\n        }.bind(this)\n      );\n    }\n  };\n\n  componentWillUnmount = () => {\n    $(\"#list-view\").unbind(\"keydown\");\n  };\n\n  /*eventStatusToggle: function () {\n        if (this.props.status == 'open') {\n            this.statusAjax('closed');\n        } else if (this.props.status == 'closed') {\n            this.statusAjax('open');\n        }\n    },*/\n  trackAll = () => {\n    this.statusAjax(\"tracked\");\n  };\n\n  untrackAll = () => {\n    this.statusAjax(\"untracked\");\n  };\n\n  closeAll = () => {\n    this.statusAjax(\"closed\");\n  };\n\n  openAll = () => {\n    this.statusAjax(\"open\");\n  };\n\n  enableAll = () => {\n    this.statusAjax(\"enabled\");\n  };\n\n  disableAll = () => {\n    this.statusAjax(\"disabled\");\n  };\n\n  statusAjax = newStatus => {\n    console.log(newStatus);\n    let json = { status: newStatus };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success status change to: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to change status\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let buttonStyle = \"\";\n    let open = \"\";\n    let closed = \"\";\n    let promoted = \"\";\n    let title = \"\";\n    let classStatus = \"\";\n    let href;\n    if (\n      this.props.status === \"open\" ||\n      this.props.status === \"disabled\" ||\n      this.props.status === \"untracked\"\n    ) {\n      buttonStyle = \"danger\";\n      classStatus = \"alertgroup_open\";\n    } else if (\n      this.props.status === \"closed\" ||\n      this.props.status === \"enabled\" ||\n      this.props.status === \"tracked\"\n    ) {\n      buttonStyle = \"success\";\n      classStatus = \"alertgroup_closed\";\n    } else if (this.props.status === \"promoted\") {\n      buttonStyle = \"default\";\n      classStatus = \"alertgroup_promoted\";\n    }\n\n    if (this.props.type === \"alertgroup\") {\n      open = this.props.data.open_count;\n      closed = this.props.data.closed_count;\n      promoted = this.props.data.promoted_count;\n      title = open + \" / \" + closed + \" / \" + promoted;\n    }\n\n    if (this.props.type === \"event\") {\n      href = \"/incident/\" + this.props.data.promotion_id;\n    } else if (this.props.type === \"intel\") {\n      href = \"/event/\" + this.props.data.promotion_id;\n    }\n\n    if (this.props.type === \"guide\" || this.props.type === \"intel\") {\n      return <div />;\n    } else if (this.props.type === \"alertgroup\") {\n      return (\n        <ButtonToolbar>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Popover id={this.props.id}>open/closed/promoted alerts</Popover>\n            }\n          >\n            <DropdownButton\n              bsSize=\"xsmall\"\n              bsStyle={buttonStyle}\n              title={title}\n              id=\"dropdown\"\n              className={classStatus}\n            >\n              <MenuItem eventKey=\"1\" onClick={this.openAll} bsSize=\"xsmall\">\n                <b>Open</b> All Alerts\n              </MenuItem>\n              <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n                <b>Close</b> All Alerts\n              </MenuItem>\n            </DropdownButton>\n          </OverlayTrigger>\n        </ButtonToolbar>\n      );\n    } else if (this.props.type === \"incident\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.openAll}>\n            Open Incident\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n            Close Incident\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else if (this.props.type === \"signature\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.enableAll}>\n            Enable Signature\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.disableAll}>\n            Disable Signature\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else if (this.props.type === \"entity\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.trackAll}>\n            Track\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.untrackAll}>\n            Untracked\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else {\n      return (\n        <div>\n          {this.props.status === \"promoted\" ? (\n            <Link to={href} role=\"button\" className={\"btn btn-warning\"}>\n              {this.props.status}\n            </Link>\n          ) : (\n            <DropdownButton\n              bsSize=\"xsmall\"\n              bsStyle={buttonStyle}\n              id=\"event_status\"\n              className={classStatus}\n              style={{ fontSize: \"14px\" }}\n              title={this.props.status}\n            >\n              <MenuItem eventKey=\"1\" onClick={this.openAll}>\n                Open\n              </MenuItem>\n              <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n                Close\n              </MenuItem>\n            </DropdownButton>\n          )}\n        </div>\n      );\n    }\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nlet Button = require(\"react-bootstrap/lib/Button.js\");\n\nexport default class Promote extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newURL: null,\n            newType: null\n        };\n    }\n\n    componentDidMount = () => {\n        if (this.props.type === \"alert\") {\n            this.setState({ newType: \"Event\" });\n            this.setState({ newURL: \"event\" });\n        } else if (this.props.type === \"event\") {\n            this.setState({ newType: \"Incident\" });\n            this.setState({ newURL: \"incident\" });\n        }\n    };\n\n    promote = () => {\n        let data = JSON.stringify({ promote: \"new\" });\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            data: data,\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"successfully promoted\");\n                window.location.assign(\"#/\" + this.state.newURL + \"/\" + data.pid);\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"error\", \"Failed to promote\", data);\n            }.bind(this)\n        });\n    };\n\n    render = () => {\n        return (\n            <Button\n                bsStyle=\"warning\"\n                eventkey=\"1\"\n                bsSize=\"xsmall\"\n                onClick={this.promote}\n            >\n                <img src=\"/images/megaphone.png\" alt=\"\" />\n                <span>Promote to {this.state.newType}</span>\n            </Button>\n        );\n    };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, MenuItem, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\n\nexport default class Marker extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isMarked: false\n        };\n\n        this.removeMarkedItemsHandler = this.removeMarkedItemsHandler.bind(this);\n        this.getMarkedItemsHandler = this.getMarkedItemsHandler.bind(this);\n        this.setMarkedItemsHandler = this.setMarkedItemsHandler.bind(this);\n        this.getSelectedAlerts = this.getSelectedAlerts.bind(this);\n    }\n\n    componentWillMount() {\n        this.mounted = true;\n\n        this.getMarkedItemsHandler();\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.getMarkedItemsHandler();\n        if (nextProps.isAlert) {\n            //set marked to false if alert since we can't predict if new ones are selected\n            this.setState({ isMarked: false });\n        }\n    }\n\n    render() {\n        if (this.props.type === \"entry\") {\n            return (\n                <MenuItem\n                    onClick={\n                        this.state.isMarked\n                            ? this.removeMarkedItemsHandler\n                            : this.setMarkedItemsHandler\n                    }\n                >\n                    <i\n                        style={{ color: `${this.state.isMarked ? \"green\" : \"\"} ` }}\n                        className={`fa fa${this.state.isMarked ? \"-check\" : \"\"}-square-o`}\n                        aria-hidden=\"true\"\n                    />\n                    {this.state.isMarked ? <span>Marked</span> : <span>Mark</span>}\n                </MenuItem>\n            );\n        } else {\n            return (\n                <OverlayTrigger\n                    placement=\"top\"\n                    overlay={\n                        <Tooltip id=\"mark_tooltip\">\n                            Mark selected{\" \"}\n                            {this.props.isAlert ? <span>alerts</span> : this.props.type}\n                        </Tooltip>\n                    }\n                >\n                    <Button\n                        bsSize=\"xsmall\"\n                        onClick={\n                            this.state.isMarked\n                                ? this.removeMarkedItemsHandler\n                                : this.setMarkedItemsHandler\n                        }\n                    >\n                        <i\n                            style={{ color: `${this.state.isMarked ? \"green\" : \"\"} ` }}\n                            className={`fa fa${this.state.isMarked ? \"-check\" : \"\"}-square-o`}\n                            aria-hidden=\"true\"\n                        />\n                        {this.props.isAlert ? <span>Mark selected</span> : null}\n\n                        {/* { this.state.isMarked ? <span>Marked</span> : <span>Mark</span> }*/}\n                    </Button>\n                </OverlayTrigger>\n            );\n        }\n    }\n\n    getMarkedItemsHandler() {\n        let markedItems = getMarkedItems();\n        let isMarked = false;\n\n        if (markedItems) {\n            for (let key of markedItems) {\n                if (key.id === this.props.id && key.type === this.props.type) {\n                    isMarked = true;\n                    break;\n                }\n            }\n        }\n        this.setState({ isMarked: isMarked });\n    }\n\n    removeMarkedItemsHandler() {\n        if (this.props.isAlert) {\n            let selectedAlerts = this.getSelectedAlerts();\n            for (let i = 0; i < selectedAlerts.length; i++) {\n                removeMarkedItems(\"alert\", selectedAlerts[i]);\n            }\n        } else {\n            removeMarkedItems(this.props.type, this.props.id);\n        }\n        this.setState({ isMarked: false });\n    }\n\n    setMarkedItemsHandler() {\n        if (this.props.isAlert) {\n            //parse alerts then iterate through them to add to marking list\n            let selectedAlerts = this.getSelectedAlerts();\n            for (let i = 0; i < selectedAlerts.length; i++) {\n                setMarkedItems(\"alert\", selectedAlerts[i], this.props.string);\n            }\n        } else {\n            setMarkedItems(this.props.type, this.props.id, this.props.string);\n        }\n        this.setState({ isMarked: true });\n    }\n\n    getSelectedAlerts() {\n        let array = [];\n\n        $(\"tr.selected\").each(function (index, tr) {\n            let id = $(tr).attr(\"id\");\n            array.push(id);\n        });\n\n        return array;\n    }\n}\n\nexport const removeMarkedItems = (type, id) => {\n    let currentMarked = getMarkedItems();\n\n    if (currentMarked) {\n        for (let i = 0; i < currentMarked.length; i++) {\n            if (currentMarked[i].type === type && currentMarked[i].id === id) {\n                currentMarked.splice(i, 1);\n                break;\n            }\n        }\n\n        SessionStorage.setLocalStorage(\"marked\", JSON.stringify(currentMarked));\n    }\n};\n\nexport const getMarkedItems = () => {\n    let markedItems = SessionStorage.getLocalStorage(\"marked\");\n    if (markedItems) {\n        markedItems = JSON.parse(markedItems);\n        return markedItems;\n    }\n};\n\nexport const setMarkedItems = (type, id, string) => {\n    let nextMarked = [];\n    let currentMarked = getMarkedItems();\n\n    if (currentMarked) {\n        for (let key of currentMarked) {\n            if (key.type !== type || key.id !== id) {\n                nextMarked.push(key);\n            }\n        }\n    }\n\n    nextMarked.push({ id: id, type: type, subject: string.substring(0, 120) });\n    SessionStorage.setLocalStorage(\"marked\", JSON.stringify(nextMarked));\n};\n\nMarker.propTypes = {\n    isMarked: PropTypes.bool\n};\n\nMarker.defaultProps = {\n    isMarked: false\n};\n\n","import React from \"react\";\nimport $ from \"jquery\";\nimport SelectedEntry from \"../detail/selected_entry.js\";\nimport Inspector from \"react-inspector\";\nimport Button from 'react-bootstrap/lib/Button'\nimport Tabs from 'react-bootstrap/lib/Tabs'\nimport Tab from 'react-bootstrap/lib/Tab'\nimport AddEntry from '../components/add_entry'\nimport Draggable from 'react-draggable'\nimport DetailDataStatus from '../components/detail_data_status';\nimport { Link } from 'react-router-dom'\nimport Marker from '../components/marker'\nimport Frame from \"../components/frame\";\nlet startX;\nlet startY;\nlet startWidth;\nlet startHeight;\n\nexport default class EntityDetail extends React.Component {\n    constructor(props) {\n        super(props);\n        let tabs = [];\n        let processedIdsArray = [];\n        let entityHeight = \"100%\"; //test\n        let entityWidthint = 700;\n        let entityWidth = entityWidthint + \"px\";\n        let entityMaxHeight = \"70vh\";\n        if (this.props.fullScreen === true) {\n            entityHeight = \"95vh\";\n            entityWidth = \"95%\";\n            entityMaxHeight = \"95vh\";\n        }\n        this.state = {\n            entityData: null,\n            entityid: this.props.entityid,\n            entityHeight: entityHeight,\n            entityWidth: entityWidth,\n            entityWidthint: entityWidthint,\n            entityMaxHeight: entityMaxHeight,\n            tabs: tabs,\n            initialLoad: false,\n            processedIds: processedIdsArray,\n            valueClicked: \"\",\n            defaultEntityOffset: this.props.entityoffset,\n            entityobj: this.props.entityobj,\n            height: null,\n            isMounted: false\n        };\n    }\n\n    componentWillMount = () => {\n\n    };\n\n    onLoad = () => {\n        if (document.getElementById(\"iframe_\" + this.props.id) !== undefined && document.getElementById(\"iframe_\" + this.props.id) !== null) {\n            if (\n                document.getElementById(\"iframe_\" + this.props.id).contentDocument\n                    .readyState === \"complete\"\n            ) {\n                let ifr = $(\"#iframe_\" + this.props.id);\n                let ifrContents = $(ifr).contents();\n                let ifrContentsHead = $(ifrContents).find(\"head\");\n                if (ifrContentsHead) {\n                    if (!$(ifrContentsHead).find(\"link\")) {\n                        ifrContentsHead.append(\n                            $(\"<link/>\", {\n                                rel: \"stylesheet\",\n                                href: \"css/sandbox.css\",\n                                type: \"text/css\"\n                            })\n                        );\n                    }\n                }\n                setTimeout(\n                    function () {\n                        if (\n                            document.getElementById(\"iframe_\" + this.props.id) !== undefined\n                        ) {\n                            document\n                                .getElementById(\"iframe_\" + this.props.id)\n                                .contentWindow.requestAnimationFrame(\n                                    function () {\n                                        let newheight;\n                                        newheight = document.getElementById(\n                                            \"iframe_\" + this.props.id\n                                        ).contentWindow.document.body.scrollHeight;\n                                        newheight = newheight + \"px\";\n                                        if (this.state.height !== newheight) {\n                                            this.setState({ height: newheight });\n                                        }\n                                    }.bind(this)\n                                );\n                        }\n                    }.bind(this),\n                    250\n                );\n                //}\n            } else {\n                setTimeout(this.onLoad, 0);\n            }\n        }\n    };\n\n    componentDidMount = () => {\n\n        this.setState({ isMounted: true });\n        let currentTabArray = this.state.tabs;\n        let valueClicked = this.props.entityvalue;\n        if (this.props.entitytype !== \"source\") {\n            if (this.state.entityid === undefined || isNaN(this.state.entityid)) {\n                $.ajax({\n                    type: \"GET\",\n                    url: \"scot/api/v2/\" + this.props.entitytype + \"/byname\",\n                    data: { name: valueClicked },\n                    success: function (result) {\n                        let entityid = result.id;\n                        if (this.state.isMounted) {\n                            this.setState({ entityid: entityid });\n                            $.ajax({\n                                type: \"GET\",\n                                url: \"scot/api/v2/\" + this.props.entitytype + \"/\" + entityid,\n                                success: function (result) {\n                                    //this.setState({entityData:result})\n                                    let newTab = {\n                                        data: result,\n                                        entityid: entityid,\n                                        entitytype: this.props.entitytype,\n                                        valueClicked: result.value\n                                    };\n                                    currentTabArray.push(newTab);\n                                    if (this.state.isMounted) {\n                                        let entityidsarray = [];\n                                        entityidsarray.push(entityid);\n                                        this.setState({\n                                            tabs: currentTabArray,\n                                            currentKey: entityid,\n                                            initialLoad: true,\n                                            processedIds: entityidsarray\n                                        });\n                                        this.props.createCallback(this.props.entityid, this.updated);\n                                    }\n                                }.bind(this),\n                                error: function (data) {\n                                    this.props.errorToggle(\n                                        \"failed to get entity detail information\",\n                                        data\n                                    );\n                                }.bind(this)\n                            });\n                        }\n                    }.bind(this),\n                    error: function (data) {\n                        this.props.errorToggle(\n                            \"failed to get entity detail id information \",\n                            data\n                        );\n                    }.bind(this)\n                });\n            } else {\n                let id = this.state.entityid;\n                if (!Array.isArray(id)) {\n                    id = [parseInt(id, 10)];\n                }\n\n                for (let i = 0; i < id.length; i++) {\n                    $.ajax({\n                        type: \"GET\",\n                        url: \"scot/api/v2/\" + this.props.entitytype + \"/\" + id[i],\n                        success: function (result) {\n                            //this.setState({entityData:result})\n                            let newTab = {\n                                data: result,\n                                entityid: result.id,\n                                entitytype: this.props.entitytype,\n                                valueClicked: result.value\n                            };\n                            currentTabArray.push(newTab);\n                            if (this.state.isMounted) {\n                                let entityidsarray = [];\n                                entityidsarray.push(result.id);\n                                this.setState({\n                                    tabs: currentTabArray,\n                                    currentKey: result.id,\n                                    initialLoad: true,\n                                    processedIds: entityidsarray\n                                });\n                                this.props.createCallback(this.props.entityid, this.updated);\n                            }\n                        }.bind(this),\n                        error: function (data) {\n                            this.props.errorToggle(\n                                \"failed to get entity detail information\",\n                                data\n                            );\n                        }.bind(this)\n                    });\n                }\n            }\n        } else {\n            let newTab = {\n                data: this.props.data,\n                entityid: this.props.entityid,\n                entitytype: this.props.entitytype,\n                valueClicked: this.props.entitytype\n            };\n            currentTabArray.push(newTab);\n            // if (this.state.isMounted) {\n            let entityidsarray = [];\n            entityidsarray.push(this.props.entityid);\n            this.setState({\n                tabs: currentTabArray,\n                currentKey: parseInt(this.props.entityid, 10),\n                initialLoad: true,\n                processedIds: entityidsarray\n            });\n            this.props.createCallback(this.props.entityid, this.updated);\n        }\n        //Esc key closes popup\n        function escHandler(event) {\n            //prevent from working when in input\n            if ($(\"input\").is(\":focus\")) {\n                return;\n            }\n            if ($(\"#main-search-results\")[0] !== undefined) {\n                return;\n            } //close search results before closing entity div\n            //check for esc with keyCode\n            if (event.keyCode === 27) {\n                this.props.flairToolbarOff();\n                event.preventDefault();\n            }\n        }\n\n        $(document).keydown(escHandler.bind(this));\n        this.containerHeightAdjust();\n        window.addEventListener(\"resize\", this.containerHeightAdjust);\n        this.onLoad();\n\n\n\n        $(\"iframe\").each(function (index, ifr) {\n            //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n            ifr.contentWindow.requestAnimationFrame(function () {\n                if (ifr.contentDocument != null) {\n                    let ifrContents = $(ifr).contents();\n                    //This makes all href point to blank so they don't reload the iframe\n                    $(ifr.contentDocument.body)\n                        .find(\"a\")\n                        .attr(\"target\", \"_blank\");\n                    //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n                    ifrContents.find(\"a\").each(function (index, a) {\n                        let url = $(a).attr(\"href\");\n                        $(a).attr(\"url\", url);\n                    });\n                }\n            });\n        });\n        // this.props.watcher();\n    };\n\n    componentWillUnmount = () => {\n        this.setState({ isMounted: false });\n        //removes escHandler bind\n        $(document).off(\"keydown\");\n        //This makes the size that was last used hold for future entities\n        /*let height = $('#dragme').height();\n            let width = $('#dragme').width();\n            entityPopUpHeight = height;\n            entityPopUpWidth = width;*/\n    };\n\n    componentWillReceiveProps = nextProps => {\n        this.onLoad();\n        let checkForInitialLoadComplete = {\n            checkForInitialLoadComplete: function () {\n                let addNewEntity = {\n                    //Initializing Function for adding an entry to be used later.\n                    addNewEntity: function () {\n                        let currentTabArray = this.state.tabs;\n                        if (nextProps.entitytype !== \"source\") {\n                            if (\n                                nextProps.entityid === undefined ||\n                                isNaN(nextProps.entityid)\n                            ) {\n                                $.ajax({\n                                    type: \"GET\",\n                                    url: \"scot/api/v2/\" + nextProps.entitytype + \"/byname\",\n                                    data: { name: nextProps.entityvalue },\n                                    success: function (result) {\n                                        let entityid = result.id;\n                                        if (this.state.isMounted) {\n                                            this.setState({ entityid: entityid });\n                                            $.ajax({\n                                                type: \"GET\",\n                                                url:\n                                                    \"scot/api/v2/\" +\n                                                    nextProps.entitytype +\n                                                    \"/\" +\n                                                    entityid,\n                                                success: function (result) {\n                                                    let newTab = {\n                                                        data: result,\n                                                        entityid: entityid,\n                                                        entitytype: nextProps.entitytype,\n                                                        valueClicked: nextProps.entityvalue\n                                                    };\n                                                    currentTabArray.push(newTab);\n                                                    if (this.state.isMounted) {\n                                                        this.setState({\n                                                            tabs: currentTabArray,\n                                                            currentKey: nextProps.entityid\n                                                        });\n                                                        this.props.createCallback(nextProps.entityid, this.updated);\n                                                    }\n                                                }.bind(this),\n                                                error: function (data) {\n                                                    this.props.errorToggle(\n                                                        \"failed to get entity detail information\",\n                                                        data\n                                                    );\n                                                }.bind(this)\n                                            });\n                                        }\n                                    }.bind(this),\n                                    error: function (data) {\n                                        this.props.errorToggle(\n                                            \"failed to get entity id detail information\",\n                                            data\n                                        );\n                                    }.bind(this)\n                                });\n                            } else {\n                                $.ajax({\n                                    type: \"GET\",\n                                    url:\n                                        \"scot/api/v2/\" +\n                                        nextProps.entitytype +\n                                        \"/\" +\n                                        nextProps.entityid,\n                                    success: function (result) {\n                                        let newTab = {\n                                            data: result,\n                                            entityid: nextProps.entityid,\n                                            entitytype: nextProps.entitytype,\n                                            valueClicked: nextProps.entityvalue\n                                        };\n                                        currentTabArray.push(newTab);\n                                        if (this.state.isMounted) {\n                                            this.setState({\n                                                tabs: currentTabArray,\n                                                currentKey: nextProps.entityid\n                                            });\n                                            this.props.createCallback(nextProps.entityid, this.updated);\n                                        }\n                                    }.bind(this),\n                                    error: function (data) {\n                                        this.props.errorToggle(\n                                            \"failed to get entity detail information\",\n                                            data\n                                        );\n                                    }.bind(this)\n                                });\n                            }\n                        } else {\n                            let newTab = {\n                                data: nextProps.data,\n                                entityid: nextProps.entityid,\n                                entitytype: nextProps.entitytype,\n                                valueClicked: nextProps.entitytype\n                            };\n                            currentTabArray.push(newTab);\n                            // if (this.state.isMounted) {\n                            let entityidsarray = [];\n                            entityidsarray.push(nextProps.entityid);\n                            this.setState({\n                                tabs: currentTabArray,\n                                currentKey: parseInt(nextProps.entityid, 10),\n                                initialLoad: true,\n                                processedIds: entityidsarray\n                            });\n                            this.props.createCallback(nextProps.entityid, this.updated);\n                            this.props.watcher();\n                        }\n                    }.bind(this)\n                };\n                if (this.state.initialLoad === false) {\n                    setTimeout(\n                        checkForInitialLoadComplete.checkForInitialLoadComplete,\n                        50\n                    );\n                } else {\n                    if (nextProps !== undefined) {\n                        //TODO Fix next conditional for undefined that prevents multiple calls for the same ID at load time on a nested entity\n                        if (\n                            nextProps.entitytype != null &&\n                            nextProps.entityid !== undefined\n                        ) {\n                            let nextPropsEntityIdInt = parseInt(nextProps.entityid, 10);\n                            for (let i = 0; i < this.state.tabs.length; i++) {\n                                if (\n                                    nextPropsEntityIdInt === this.state.tabs[i].entityid ||\n                                    (this.state.tabs[i].entitytype === \"guide\" &&\n                                        nextProps.entitytype === \"guide\")\n                                ) {\n                                    if (this.state.isMounted) {\n                                        this.setState({ currentKey: nextPropsEntityIdInt });\n                                    }\n                                    return;\n                                } else {\n                                    let array = this.state.processedIds;\n                                    let addEntity = true;\n                                    for (let i = 0; i < array.length; i++) {\n                                        if (array[i] === nextPropsEntityIdInt) {\n                                            // Check if entity is already being processed so we don't show it twice\n                                            addEntity = false;\n                                        }\n                                    }\n                                    if (addEntity) {\n                                        addNewEntity.addNewEntity();\n                                        array.push(nextPropsEntityIdInt);\n                                        this.setState({ processedIds: array });\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }.bind(this)\n        };\n        checkForInitialLoadComplete.checkForInitialLoadComplete();\n        this.containerHeightAdjust();\n    };\n\n    updated = () => {\n        let currentTabArray = this.state.tabs;\n        // eslint-disable-line\n        let valueClicked = this.props.entityvalue;\n        for (let j = 0; j < currentTabArray.length; j++) {\n            //TODO: Ask Nick\n            // if ( activemqid == currentTabArray[j].entityid ) {\n            let currentTabArrayIndex = j;\n            $.ajax({\n                type: \"GET\",\n                url:\n                    \"scot/api/v2/\" +\n                    this.props.entitytype +\n                    \"/\" +\n                    currentTabArray[j].entityid,\n                success: function (result) {\n                    //this.setState({entityData:result})\n                    let newTab = {\n                        data: result,\n                        entityid: result.id,\n                        entitytype: this.props.entitytype,\n                        valueClicked: result.value\n                    };\n                    currentTabArray[currentTabArrayIndex] = newTab;\n                    if (this.state.isMounted) {\n                        let entityidsarray = [];\n                        entityidsarray.push(result.id);\n                        this.setState({\n                            tabs: currentTabArray,\n                            currentKey: result.id,\n                            initialLoad: true,\n                            processedIds: entityidsarray\n                        });\n                    }\n                }.bind(this),\n                error: function (data) {\n                    this.props.errorToggle(\n                        \"failed to get updated entity detail information\",\n                        data\n                    );\n                }.bind(this)\n            });\n        }\n    };\n\n    checkFlairHover = ifr => {\n        if (ifr.contentDocument != null) {\n            $(ifr)\n                .contents()\n                .find(\"a\")\n                .each(\n                    function (index, a) {\n                        if ($(a).css(\"color\") === \"rgb(255, 0, 0)\") {\n                            $(a).data(\"state\", \"down\");\n                        } else if ($(a).data(\"state\") === \"down\") {\n                            $(a).data(\"state\", \"up\");\n                            let url = $(a).attr(\"url\");\n                            this.props.linkWarningToggle(url);\n                        }\n                    }.bind(this)\n                );\n        }\n    };\n\n    initDrag = e => {\n        //remove the entityPopUpMaxSizeDefault class so it can be resized.\n        if ($(\"#dragme\").hasClass(\"entityPopUpMaxSizeDefault\")) {\n            let height = $(\"#dragme\").height() + \"px\";\n            $(\"#dragme\").css(\"height\", height);\n            $(\"#dragme\").removeClass(\"entityPopUpMaxSizeDefault\");\n        }\n        let elem = document.getElementById(\"dragme\");\n        startX = e.clientX;\n        startY = e.clientY;\n        startWidth = parseInt(\n            document.defaultView.getComputedStyle(elem).width,\n            10\n        );\n        startHeight = parseInt(\n            document.defaultView.getComputedStyle(elem).height,\n            10\n        );\n        document.documentElement.addEventListener(\"mousemove\", this.doDrag, false);\n        document.documentElement.addEventListener(\"mouseup\", this.stopDrag, false);\n        this.blockiFrameMouseEvent();\n    };\n\n    doDrag = e => {\n        let elem = document.getElementById(\"dragme\");\n        console.log(`elem.style.width before: ${elem.style.width}`);\n        console.log(`e.clientX before: ${e.clientX}`);\n        console.log(`startX before: ${startX}`);\n        console.log(`startwidth before: ${startWidth}`);\n        if (startWidth + e.clientX - startX > 586){\n          elem.style.width = startWidth + e.clientX - startX + \"px\";\n        } \n        if (startHeight + e.clientY - startY > 386){\n          elem.style.height = startHeight + e.clientY - startY + \"px\";\n        }\n    };\n\n    stopDrag = e => {\n        document.documentElement.removeEventListener(\n            \"mousemove\",\n            this.doDrag,\n            false\n        );\n        document.documentElement.removeEventListener(\n            \"mouseup\",\n            this.stopDrag,\n            false\n        );\n        this.allowiFrameMouseEvent();\n    };\n\n    moveDivInit = e => {\n        document.documentElement.addEventListener(\n            \"mouseup\",\n            this.moveDivStop,\n            false\n        );\n        this.blockiFrameMouseEvent();\n    };\n\n    moveDivStop = e => {\n        document.documentElement.removeEventListener(\n            \"mouseup\",\n            this.moveDivStop,\n            false\n        );\n        this.allowiFrameMouseEvent();\n    };\n\n    blockiFrameMouseEvent = () => {\n        $(\"iframe\").each(function (index, ifr) {\n            $(ifr).addClass(\"pointerEventsOff\");\n        });\n    };\n\n    allowiFrameMouseEvent = () => {\n        $(\"iframe\").each(function (index, ifr) {\n            $(ifr).removeClass(\"pointerEventsOff\");\n        });\n    };\n\n    handleSelectTab = (key) => {\n        this.setState({ currentKey: key });\n    }\n\n    positionRightBoundsCheck = e => {\n        if (!e) {\n            return (\n                $(document).width() -\n                this.state.defaultEntityOffset.left -\n                this.state.entityWidthint\n            );\n        } else {\n            return (\n                $(document).width() -\n                (this.state.defaultEntityOffset.left + e) -\n                this.state.entityWidthint\n            );\n        }\n    };\n\n    containerHeightAdjust = () => {\n        //only run this if we're in /#/entity and not as a popup\n        if (this.props.fullScreen === true) {\n            let scrollHeight;\n            if ($(\"#list-view-container\")[0]) {\n                scrollHeight =\n                    $(window).height() -\n                    $(\"#list-view-container\").height() -\n                    $(\"#header\").height() -\n                    70;\n                scrollHeight = scrollHeight + \"px\";\n            } else {\n                scrollHeight = $(window).height() - $(\"#header\").height() - 70;\n                scrollHeight = scrollHeight + \"px\";\n            }\n            //$('#detail-container').css('height',scrollHeight);\n            if (this.state.isMounted) {\n                this.setState({ height: scrollHeight });\n            }\n        }\n    };\n\n    render = () => {\n        //This makes the size that was last used hold for future entities\n        /*if (entityPopUpHeight && entityPopUpWidth) {\n                entityHeight = entityPopUpHeight;\n                entityWidth = entityPopUpWidth;\n            }*/\n        let defaultOffsetY;\n        let defaultOffsetX;\n        let tabsArr = [];\n        let DragmeClass =\n            \"box react-draggable entityPopUp entityPopUpMaxSizeDefault\";\n        if (this.props.fullScreen === true || $(\"react-draggable-dragged\")) {\n            //Don't readd entityPopUpMaxSizeDefault if full screen or if the box has been dragged\n            DragmeClass = \"box react-draggable entityPopUp\";\n        }\n        if (this.props.fullScreen === true) {\n            DragmeClass = DragmeClass + \" height100percent\";\n        }\n        for (let i = 0; i < this.state.tabs.length; i++) {\n            let z = i + 1;\n            let title = \"tab\";\n            if (this.state.tabs[i].entitytype === \"guide\") {\n                title = \"guide\";\n            } else if (this.state.tabs[i].entitytype === \"source\") {\n                title = \"source\";\n            } else {\n                if (this.state.tabs[i].valueClicked !== undefined) {\n                    title = this.state.tabs[i].valueClicked.slice(0, 15);\n                } else {\n                    title = \"\";\n                }\n            }\n            tabsArr.push(\n                <Tab\n                    className=\"tab-content\"\n                    eventKey={this.state.tabs[i].entityid}\n                    title={title}\n                >\n                    <TabContents\n                        data={this.state.tabs[i].data}\n                        form={this.props.form}\n                        type={this.props.type}\n                        id={this.props.id}\n                        entityid={this.state.tabs[i].entityid}\n                        entitytype={this.state.tabs[i].entitytype}\n                        valueClicked={this.state.tabs[i].valueClicked}\n                        i={z}\n                        key={z}\n                        errorToggle={this.props.errorToggle}\n                        linkWarningToggle={this.props.linkWarningToggle}\n                        createCallback={this.props.createCallback}\n                    />\n                </Tab>\n            );\n        }\n        if (this.state.defaultEntityOffset && this.state.entityobj) {\n            let positionRightBoundsValue = this.positionRightBoundsCheck();\n            if (this.positionRightBoundsCheck($(this.state.entityobj).width()) < 0) {\n                defaultOffsetX =\n                    this.state.defaultEntityOffset.left - this.state.entityWidthint;\n            } else {\n                defaultOffsetX =\n                    this.state.defaultEntityOffset.left + $(this.state.entityobj).width();\n            }\n        } else {\n            defaultOffsetY = 50;\n            defaultOffsetX = 0;\n        }\n        if (this.props.fullScreen === true) {\n            //entity detail is full screen mode\n            return (\n                <div\n                    id=\"popup-flex-container\"\n                    style={{ height: this.state.height }}\n                    className={\"entity-full-screen\"}\n                >\n                    <div\n                        id=\"entity_detail_container\"\n                        style={{ flexFlow: \"column\", display: \"flex\", width: \"100%\" }}\n                    >\n                        <Tabs\n                            className=\"tab-content\"\n                            defaultActiveKey={this.props.entityid}\n                            activeKey={this.state.currentKey}\n                            onSelect={this.handleSelectTab}\n                            bsStyle=\"pills\"\n                            animation={false}\n                        >\n                            {tabsArr}\n                        </Tabs>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <Draggable handle=\"#handle\" onMouseDown={this.moveDivInit}>\n                    <div\n                        id=\"dragme\"\n                        className={DragmeClass}\n                        style={{\n                            width: this.state.entityWidth,\n                            left: defaultOffsetX,\n                            maxHeight: \"90vh\"\n                        }}\n                    >\n                        <div\n                            id=\"popup-flex-container\"\n                            style={{ height: \"100%\", display: \"flex\", flexFlow: \"row\" }}\n                        >\n                            <div\n                                id=\"entity_detail_container\"\n                                style={{ flexFlow: \"column\", display: \"flex\", width: \"100%\" }}\n                            >\n                                <div\n                                    id=\"handle\"\n                                    style={{\n                                        width: \"100%\",\n                                        background: \"#292929\",\n                                        color: \"white\",\n                                        fontWeight: \"900\",\n                                        fontSize: \"large\",\n                                        textAlign: \"center\",\n                                        cursor: \"move\",\n                                        flex: \"0 1 auto\"\n                                    }}\n                                >\n                                    <div>\n                                        <span className=\"pull-left\" style={{ paddingLeft: \"5px\" }}>\n                                            <i className=\"fa fa-arrows\" aria-hidden=\"true\" />\n                                        </span>\n                                        <span\n                                            className=\"pull-right\"\n                                            style={{ cursor: \"pointer\", paddingRight: \"5px\" }}\n                                        >\n                                            <i\n                                                className=\"fa fa-times\"\n                                                style={{ color: \"red\" }}\n                                                onClick={this.props.flairToolbarOff}\n                                            />\n                                        </span>\n                                    </div>\n                                </div>\n                                <Tabs\n                                    className=\"tab-content\"\n                                    defaultActiveKey={this.props.entityid}\n                                    activeKey={this.state.currentKey}\n                                    onSelect={this.handleSelectTab}\n                                    bsStyle=\"pills\"\n                                    animation={false}\n                                >\n                                    {tabsArr}\n                                </Tabs>\n                            </div>\n                            <div\n                                id=\"sidebar\"\n                                onMouseDown={this.initDrag}\n                                style={{\n                                    flex: \"0 1 auto\",\n                                    backgroundColor: \"black\",\n                                    borderTop: \"2px solid black\",\n                                    borderBottom: \"2px solid black\",\n                                    cursor: \"nwse-resize\",\n                                    overflow: \"hidden\",\n                                    width: \"5px\"\n                                }}\n                            />\n                        </div>\n                        <div\n                            id=\"footer\"\n                            onMouseDown={this.initDrag}\n                            style={{\n                                display: \"block\",\n                                height: \"5px\",\n                                backgroundColor: \"black\",\n                                borderTop: \"2px solid black\",\n                                borderBottom: \"2px solid black\",\n                                cursor: \"nwse-resize\",\n                                overflow: \"hidden\"\n                            }}\n                        />\n                    </div>\n                </Draggable>\n            );\n        }\n    };\n}\n\nclass TabContents extends React.Component {\n    render = () => {\n        if (this.props.entitytype === \"entity\") {\n            return (\n                <div className=\"tab-content\">\n                    <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n                        <h4 id=\"myModalLabel\">\n                            {this.props.data != null ? (\n                                <EntityValue\n                                    value={this.props.valueClicked}\n                                    data={this.props.data}\n                                    errorToggle={this.props.errorToggle}\n                                    createCallback={this.props.createCallback}\n                                />\n                            ) : (\n                                    <div style={{ display: \"inline-flex\", position: \"relative\" }}>\n                                        Loading...\n                </div>\n                                )}\n                        </h4>\n                    </div>\n                    <div\n                        style={{\n                            height: \"100%\",\n                            display: \"flex\",\n                            flex: \"1 1 auto\",\n                            marginLeft: \"10px\",\n                            flexFlow: \"inherit\",\n                            minHeight: \"1px\"\n                        }}\n                    >\n                        {this.props.data != null ? (\n                            <EntityBody\n                                data={this.props.data}\n                                entityid={this.props.entityid}\n                                type={this.props.type}\n                                id={this.props.id}\n                                errorToggle={this.props.errorToggle}\n                                linkWarningToggle={this.props.linkWarningToggle}\n                                createCallback={this.props.createCallback}\n\n                            />\n                        ) : (\n                                <div>Loading...</div>\n                            )}\n                    </div>\n                </div>\n            );\n        } else if (this.props.entitytype === \"guide\") {\n            let guideurl = \"/guide/\" + this.props.entityid;\n            return (\n                <div className=\"tab-content\">\n                    <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n                        <Link to={guideurl} target=\"_blank\">\n                            <h4 id=\"myModalLabel\">\n                                {this.props.data != null ? (\n                                    <span>\n                                        <span>\n                                            <EntityValue\n                                                value={this.props.entityid}\n                                                errorToggle={this.props.errorToggle}\n                                                createCallback={this.props.createCallback}\n                                            />\n                                        </span>\n                                        <div>\n                                            <EntityValue\n                                                value={this.props.data.applies_to}\n                                                errorToggle={this.props.errorToggle}\n                                                createCallback={this.props.createCallback}\n                                            />\n                                        </div>\n                                    </span>\n                                ) : (\n                                        <div style={{ display: \"inline-flex\", position: \"relative\" }}>\n                                            Loading...\n                  </div>\n                                    )}\n                            </h4>\n                        </Link>\n                    </div>\n                    <div\n                        style={{ overflow: \"auto\", flex: \"1 1 auto\", marginLeft: \"10px\" }}\n                    >\n                        {this.props.data != null ? (\n                            <GuideBody\n                                entityid={this.props.entityid}\n                                form={this.props.form}\n                                data={this.props.data}\n                                entitytype={this.props.entitytype}\n                                createCallback={this.props.createCallback}\n                            />\n                        ) : (\n                                <div>Loading...</div>\n                            )}\n                    </div>\n                </div>\n            );\n        } else if (this.props.entitytype === \"source\") {\n            return (\n                <div className=\"tab-content\">\n                    <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n                        {/*<h4 id=\"myModalLabel\">{this.props.data != null ? <span><span><EntityValue value={this.props.entityid} errorToggle={this.props.errorToggle} /></span><div>*/}\n                        {/*<EntityValue value={this.props.data} errorToggle={this.props.errorToggle} /></div></span> : <div style={{display:'inline-flex',position:'relative'}}>Loading...</div> }</h4>*/}\n                    </div>\n                    <div\n                        id=\"source-popup\"\n                        style={{ overflow: \"auto\", flex: \"1 1 auto\", marginLeft: \"10px\" }}\n                    >\n                        {this.props.entitytype != null ? (\n                            <SourceBody\n                                data={this.props.data}\n                                entityid={this.props.entityid}\n                                entitytype={this.props.entitytype}\n                                createCallback={this.props.createCallback}\n                            />\n                        ) : (\n                                <div>Loading...</div>\n                            )}\n                    </div>\n                </div>\n            );\n        }\n    };\n}\n\nclass EntityValue extends React.Component {\n    render = () => {\n        if (this.props.data !== undefined) {\n            //Entity Detail Popup showing the entity type\n            let entityurl = \"/entity/\" + this.props.data.id;\n\n            return (\n                <div className=\"flair_header\">\n                    <div>\n                        <Link to={entityurl} target=\"_blank\">\n                            Entity {this.props.data.id}\n                        </Link>\n                        <span>&nbsp;</span>\n                        <DetailDataStatus\n                            status={this.props.data.status}\n                            id={this.props.data.id}\n                            type={\"entity\"}\n                            errorToggle={this.props.errorToggle}\n                        />\n                        <span>&nbsp;</span>\n                        <Marker\n                            type=\"entity\"\n                            id={this.props.data.id}\n                            string={this.props.value}\n                        />\n                    </div>\n                    <div>\n                        <span>{this.props.data.type}:</span>\n                        &nbsp;\n            <span>{this.props.value}</span>\n                    </div>\n                </div>\n            );\n        } else {\n            //Guide Detail Popup showing the name of the guide that is being applied to\n            return <div className=\"flair_header\">{this.props.value}</div>;\n        }\n    };\n}\n\nclass EntityBody extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: \"Loading Entries\",\n            entryToolbar: false,\n            appearances: 0,\n            showFullEntityButton: false,\n            isMounted: false\n        };\n    }\n\n    updateAppearances = appearancesNumber => {\n        if (appearancesNumber !== null) {\n            if (appearancesNumber !== 0) {\n                let newAppearancesNumber = this.state.appearances + appearancesNumber;\n                if (this.state.isMounted) {\n                    this.setState({ appearances: newAppearancesNumber });\n                }\n            }\n        }\n    };\n\n    entryToggle = () => {\n        if (this.state.entryToolbar === false) {\n            this.setState({ entryToolbar: true });\n        } else {\n            this.setState({ entryToolbar: false });\n        }\n    };\n\n    showFullEntityButton = () => {\n        //don't show the button if in full screen entity view.\n        if (this.props.type !== \"entity\") {\n            this.setState({ showFullEntityButton: true });\n        }\n    };\n\n    linkOnClickIntercept = e => {\n        this.props.linkWarningToggle(e.target.id);\n    };\n\n    componentDidMount() {\n        this.setState({ isMounted: true });\n    };\n\n    componentWillUnmount() {\n        this.setState({ isMounted: false });\n    };\n\n    render = () => {\n        let entityEnrichmentDataArr = [];\n        let entityEnrichmentLinkArr = [];\n        let entityEnrichmentGeoArr = [];\n        let enrichmentEventKey = 4;\n        if (this.props.data !== undefined) {\n            let entityData = this.props.data[\"data\"];\n            for (let prop in entityData) {\n                if (entityData[prop] !== undefined) {\n                    if (prop === \"geoip\") {\n                        entityEnrichmentGeoArr.push(\n                            <Tab\n                                eventKey={enrichmentEventKey}\n                                className=\"entityPopUpButtons\"\n                                style={{ overflow: \"auto\" }}\n                                title={prop}\n                            >\n                                <GeoView\n                                    data={entityData[prop].data}\n                                    type={this.props.type}\n                                    id={this.props.id}\n                                    entityData={this.props.data}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            </Tab>\n                        );\n                        enrichmentEventKey++;\n                    } else if (entityData[prop].type === \"data\") {\n                        entityEnrichmentDataArr.push(\n                            <Tab\n                                eventKey={enrichmentEventKey}\n                                className=\"entityPopUpButtons\"\n                                style={{ overflow: \"auto\" }}\n                                title={prop}\n                            >\n                                <EntityEnrichmentButtons\n                                    dataSource={entityData[prop]}\n                                    type={this.props.type}\n                                    id={this.props.id}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            </Tab>\n                        );\n                        enrichmentEventKey++;\n                    } else if (entityData[prop].type === \"link\") {\n                        entityEnrichmentLinkArr.push(\n                            <Button\n                                bsSize=\"xsmall\"\n                                target=\"_blank\"\n                                id={entityData[prop].data.url}\n                                onMouseDown={this.linkOnClickIntercept}\n                            >\n                                {entityData[prop].data.title}\n                            </Button>\n                        );\n                        enrichmentEventKey++;\n                    }\n                }\n            }\n        }\n        //Lazy Loading SelectedEntry as it is not actually loaded when placed at the top of the page due to the calling order.\n\n        //PopOut available\n        //let href = '/#/entity/' + this.props.entityid + '/' + this.props.type + '/' + this.props.id;\n        let href = \"/entity/\" + this.props.entityid;\n        return (\n            <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"tabs\">\n                <Tab\n                    eventKey={1}\n                    className=\"entityPopUpButtons\"\n                    title={this.state.appearances}\n                    style={{ height: \"100%\" }}\n                >\n                    <div>{entityEnrichmentLinkArr}</div>\n                    <div style={{ maxHeight: \"30vh\", overflowY: \"auto\" }}>\n                        <span>\n                            <b>Appears: {this.state.appearances} times</b>\n                        </span>\n                        {this.state.showFullEntityButton === true ? (\n                            <span style={{ paddingLeft: \"5px\" }}>\n                                <Link to={href} style={{ color: \"#c400ff\" }} target=\"_blank\">\n                                    List truncated due to large amount of references. Click to\n                                    view the whole entity\n                </Link>\n                            </span>\n                        ) : null}\n                        <br />\n                        <EntityReferences\n                            entityid={this.props.entityid}\n                            updateAppearances={this.updateAppearances}\n                            type={this.props.type}\n                            showFullEntityButton={this.showFullEntityButton}\n                            errorToggle={this.props.errorToggle}\n                        />\n                        <br />\n                    </div>\n                    <hr style={{ marginTop: \".5em\", marginBottom: \".5em\" }} />\n                    <div style={{ maxHeight: \"50vh\", overflowY: \"auto\" }}>\n                        <div>\n                            <Button bsSize=\"xsmall\" onClick={this.entryToggle}>\n                                Add Entry\n              </Button>\n                            <br />\n                        </div>\n                        {this.state.entryToolbar ? (\n                            <AddEntry\n                                entryAction={\"Add\"}\n                                type=\"entity\"\n                                targetid={this.props.entityid}\n                                id={\"add_entry\"}\n                                addedentry={this.entryToggle}\n                                errorToggle={this.props.errorToggle}\n                            />\n                        ) : null}\n                        <SelectedEntry\n                            type={\"entity\"}\n                            id={this.props.entityid}\n                            isPopUp={1}\n                            errorToggle={this.props.errorToggle}\n                            createCallback={this.props.createCallback}\n                        />\n                    </div>\n                </Tab>\n                {entityEnrichmentGeoArr}\n                {entityEnrichmentDataArr}\n            </Tabs>\n        );\n    };\n}\n\nclass GeoView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            copyToEntryToolbar: false,\n            copyToEntityToolbar: false\n        };\n    }\n\n    copyToEntry = () => {\n        if (this.state.copyToEntryToolbar === false) {\n            this.setState({ copyToEntryToolbar: true });\n        } else {\n            this.setState({ copyToEntryToolbar: false });\n        }\n    };\n\n    copyToEntity = () => {\n        if (this.state.copyToEntityToolbar === false) {\n            this.setState({ copyToEntityToolbar: true });\n        } else {\n            this.setState({ copyToEntityToolbar: false });\n        }\n    };\n\n    render() {\n        let trArr = [];\n        let copyArr = [];\n        copyArr.push(\"<table>\");\n        for (let prop in this.props.data) {\n            let value = this.props.data[prop];\n            trArr.push(\n                <tr>\n                    <td style={{ paddingRight: \"4px\", paddingLeft: \"4px\" }}>\n                        <b>{prop}</b>\n                    </td>\n                    <td style={{ paddingRight: \"4px\", paddingLeft: \"4px\" }}>\n                        {this.props.data[prop]}\n                    </td>\n                </tr>\n            );\n            copyArr.push(\n                '<tr><td style={{paddingRight:\"4px\", paddingLeft:\"4px\"}}><b>' +\n                prop +\n                '</b></td><td style={{paddingRight:\"4px\", paddingLeft:\"4px\"}}>' +\n                value +\n                \"</td></tr>\"\n            );\n        }\n        copyArr.push(\"</table>\");\n        let copy = copyArr.join(\"\");\n        return (\n            <div>\n                <Button bsSize=\"xsmall\" onClick={this.copyToEntity}>\n                    Copy to <b>{\"entity\"}</b> entry\n        </Button>\n                {this.props.type !== \"alertgroup\" ? (\n                    <Button bsSize=\"xsmall\" onClick={this.copyToEntry}>\n                        Copy to{\" \"}\n                        <b>\n                            {this.props.type} {this.props.id}\n                        </b>{\" \"}\n                        entry\n          </Button>\n                ) : null}\n                {this.state.copyToEntryToolbar ? (\n                    <AddEntry\n                        entryAction=\"Copy To Entry\"\n                        type={this.props.type}\n                        targetid={this.props.id}\n                        id={this.props.id}\n                        addedentry={this.copyToEntry}\n                        content={copy}\n                        errorToggle={this.props.errorToggle}\n                    />\n                ) : null}\n                {this.state.copyToEntityToolbar ? (\n                    <AddEntry\n                        entryAction=\"Copy To Entry\"\n                        type={\"entity\"}\n                        targetid={this.props.entityData.id}\n                        id={this.props.entityData.id}\n                        addedentry={this.copyToEntity}\n                        content={copy}\n                        errorToggle={this.props.errorToggle}\n                    />\n                ) : null}\n                <div className=\"entityTableWrapper\">\n                    <table\n                        className=\"tablesorter entityTableHorizontal\"\n                        id={\"sortableentitytable\"}\n                        width=\"100%\"\n                    >\n                        {trArr}\n                    </table>\n                </div>\n            </div>\n        );\n    };\n}\n\nclass EntityEnrichmentButtons extends React.Component {\n    render() {\n        let dataSource = this.props.dataSource;\n        return (\n            <div style={{ overflowY: \"auto\", maxHeight: \"70vh\" }}>\n                <div>\n                    <Inspector data={dataSource} expandLevel={4} />\n                </div>\n            </div>\n        );\n    };\n}\n\nclass EntityReferences extends React.Component {\n    constructor(props) {\n        super(props);\n        let maxRecords = 100;\n        //if type == entity then the url is looking for a full screen entity view with all records.\n        if (this.props.type === \"entity\") {\n            maxRecords = undefined;\n        }\n        this.state = {\n            entityDataAlertGroup: null,\n            entityDataEvent: null,\n            entityDataIncident: null,\n            entityDataIntel: null,\n            entityDataSignature: null,\n            maxRecords: maxRecords,\n            loadingAlerts: true,\n            loadingEvents: true,\n            loadingIncidents: true,\n            loadingIntel: true,\n            loadingSignature: true,\n            loading: true,\n            isMounted: false\n        };\n    }\n\n    componentDidMount = () => {\n        this.setState({ isMounted: true });\n        this.alertRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/alert\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"alert\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"alert\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"alert\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataAlertGroup: arr, loadingAlerts: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature === false\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\n                    \"failed to get entity references for alerts\",\n                    data\n                );\n            }.bind(this)\n        });\n\n        this.eventRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/event\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"event\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"event\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"event\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataEvent: arr, loadingEvents: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\n                    \"failed to get entity reference for events\",\n                    data\n                );\n            }.bind(this)\n        });\n\n        ///GUIDES\n        this.guidesRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/guide\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"guide\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"guide\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"guide\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataIncident: arr, loadingIncidents: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature === false\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\n                    \"failed to get entity references for guides\",\n                    data\n                );\n            }.bind(this)\n        });\n\n        this.incidentRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/incident\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"incident\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"incident\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"incident\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataIncident: arr, loadingIncidents: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature === false\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\n                    \"failed to get entity references for incidents\",\n                    data\n                );\n            }.bind(this)\n        });\n\n        this.intelRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/intel\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"intel\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"intel\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"intel\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataIntel: arr, loadingIntel: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature === false\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to get entity references for intel\");\n            }.bind(this)\n        });\n\n        this.signatureRequest = $.ajax({\n            type: \"get\",\n            url: \"scot/api/v2/entity/\" + this.props.entityid + \"/signature\",\n            data: { sort: JSON.stringify({ id: -1 }) },\n            traditional: true,\n            success: function (result) {\n                result = result.records;\n                let recordNumber = result.length;\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                if (this.state.maxRecords) {\n                    recordNumber = this.state.maxRecords;\n                }\n                for (let i = 0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status === \"promoted\") {\n                            arrPromoted.push(\n                                <ReferencesBody\n                                    type={\"signature\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else if (result[i].status === \"closed\") {\n                            arrClosed.push(\n                                <ReferencesBody\n                                    type={\"signature\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        } else {\n                            arrOpen.push(\n                                <ReferencesBody\n                                    type={\"signature\"}\n                                    data={result[i]}\n                                    index={i}\n                                    errorToggle={this.props.errorToggle}\n                                />\n                            );\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({ entityDataSignature: arr, loadingSignature: false });\n                    if (\n                        this.state.loadingAlerts === false &&\n                        this.state.loadingEvents === false &&\n                        this.state.loadingIncidents === false &&\n                        this.state.loadingIntel === false &&\n                        this.state.loadingSignature === false\n                    ) {\n                        this.setState({ loading: false });\n                    }\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to get entity references for signature\");\n            }.bind(this)\n        });\n        /*\n            this.entityRequest = $.ajax({\n                type: 'get',\n                url: 'scot/api/v2/entity/' + this.props.entityid + '/entity',\n                data: {sort:JSON.stringify({'id':-1})},\n                traditional: true,\n                success: function(result) {\n                    var result = result.records\n                    let arr = [];\n                    let arrPromoted = [];\n                    let arrClosed = [];\n                    let arrOpen = [];\n                    let recordNumber = this.state.maxRecords;\n                    if (isNaN(this.state.maxRecords) == true) { recordNumber = eval(this.state.maxRecords) }\n                    for(let i=0; i < recordNumber; i++) {\n                        if (result[i] != null) {\n                            if (result[i].status == 'promoted'){\n                                arrPromoted.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                            } else if (result[i].status == 'closed') {\n                                arrClosed.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                            } else {\n                                arrOpen.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                            }\n                        }\n                    }\n                    arr.push(arrPromoted);\n                    arr.push(arrClosed);\n                    arr.push(arrOpen);\n                    if (this.state.isMounted) {\n                        if (result.length >= 100) {\n                            this.props.showFullEntityButton();\n                        }\n                        this.props.updateAppearances(result.length);\n                        this.setState({entityDataIntel:arr, loadingIntel:false})\n                        if (this.state.loadingAlerts == false && this.state.loadingEvents == false && this.state.loadingIncidents == false && this.state.loadingIntel == false) {\n                            this.setState({loading:false});\n                        }\n                    }\n                }.bind(this),\n                error: function(data) {\n                    this.props.errorToggle('failed to get entity references for entity')\n                }.bind(this)\n            })*/\n        $(\"#sortableentitytable\" + this.props.entityid).tablesorter();\n    };\n\n    componentDidUpdate = () => {\n        let config = $(\"#sortableentitytable\" + this.props.entityid)[0].config,\n            // applies or reapplies a sort to the table; use false to not update the sort\n            resort = true; // or [ [0,0], [1,0] ] etc\n        $.tablesorter.updateAll(config, resort);\n    };\n\n    componentWillUnmount = () => {\n        this.setState({ isMounted: false });\n    };\n\n    render = () => {\n        let id = \"sortableentitytable\" + this.props.entityid;\n        return (\n            <div className=\"entityTableWrapper\">\n                {this.state.loading ? (\n                    <span>\n                        Loading: {this.state.loadingAlerts ? <span>Alerts </span> : null}\n                        {this.state.loadingEvents ? <span>Events </span> : null}\n                        {this.state.loadingIncidents ? <span>Incidents </span> : null}\n                        {this.state.loadingIntel ? <span>Intel </span> : null}\n                        {this.state.loadingSignature ? <span>Signature </span> : null}\n                    </span>\n                ) : null}\n                <table\n                    className=\"tablesorter entityTableHorizontal\"\n                    id={id}\n                    width=\"100%\"\n                >\n                    <thead>\n                        <tr>\n                            <th>peek</th>\n                            <th>status</th>\n                            <th>id</th>\n                            <th>type</th>\n                            <th>entries</th>\n                            <th>subject</th>\n                            <th>last updated</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.entityDataSignature}\n                        {this.state.entityDataIntel}\n                        {this.state.entityDataIncident}\n                        {this.state.entityDataEvent}\n                        {this.state.entityDataAlertGroup}\n                    </tbody>\n                </table>\n            </div>\n        );\n    };\n}\n\nclass ReferencesBody extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showSummary: false,\n            summaryExists: true\n        };\n    }\n\n    onClick() {\n        $.ajax({\n            type: \"GET\",\n            url:\n                \"scot/api/v2/\" + this.props.type + \"/\" + this.props.data.id + \"/entry\",\n            success: function (result) {\n                let entryResult = result.records;\n                let summary = false;\n                for (let i = 0; i < entryResult.length; i++) {\n                    if (entryResult[i].class === \"summary\") {\n                        summary = true;\n                        if (this.isMounted) {\n                            this.setState({\n                                showSummary: true,\n                                summaryData: entryResult[i].body_plain\n                            });\n                            $(\"#entityTable\" + this.props.data.id).qtip({\n                                content: { text: entryResult[i].body_plain },\n                                style: { classes: \"qtip-scot\" },\n                                hide: \"unfocus\",\n                                position: {\n                                    my: \"top left\",\n                                    at: \"right\",\n                                    target: $(\"#entitySummaryRow\" + this.props.data.id)\n                                }, //[position.left,position.top] },\n                                show: { ready: true, event: \"click\" }\n                            });\n                            break;\n                        }\n                    }\n                }\n                if (summary === false) {\n                    $(\"#entityTable\" + this.props.data.id).qtip({\n                        content: { text: \"No Summary Found\" },\n                        style: { classes: \"qtip-scot\" },\n                        hide: \"unfocus\",\n                        position: {\n                            my: \"top left\",\n                            at: \"right\",\n                            target: $(\"#entitySummaryRow\" + this.props.data.id)\n                        },\n                        show: { ready: true, event: \"click\" }\n                    });\n                }\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\n                    \"Summary Query failed for: \" +\n                    this.props.type +\n                    \":\" +\n                    this.props.data.id,\n                    data\n                );\n            }.bind(this)\n        });\n    }\n\n    render = () => {\n        let id = this.props.data.id;\n        let trId = \"entityTable\" + this.props.data.id;\n        let tdId = \"entitySummaryRow\" + this.props.data.id;\n        let aHref = null;\n        let promotedHref = null;\n        let statusColor = null;\n        let daysSince = null;\n        let subject = this.props.data.subject;\n        let updatedTime = this.props.data.updated;\n        let updatedTimeHumanReadable = \"\";\n        if (this.props.data.status === \"promoted\") {\n            statusColor = \"orange\";\n        } else if (this.props.data.status === \"closed\") {\n            statusColor = \"green\";\n        } else if (this.props.data.status === \"open\") {\n            statusColor = \"red\";\n        } else {\n            statusColor = \"black\";\n        }\n        if (this.props.type === \"alert\") {\n            aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n            //aHref = '/#/alertgroup/' + this.props.data.alertgroup;\n            promotedHref = \"/#/event/\" + this.props.data.promotion_id;\n        } else if (this.props.type === \"event\") {\n            promotedHref = \"/#/incident/\" + this.props.data.promotion_id;\n            aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n        } else {\n            aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n        }\n        if (subject === undefined) {\n            if (this.props.data.data !== undefined) {\n                if (this.props.data.data.alert_name !== undefined) {\n                    subject = this.props.data.data.alert_name;\n                } else {\n                    subject = \"\";\n                }\n            } else {\n                subject = \"\";\n            }\n        }\n        if (updatedTime !== undefined) {\n            daysSince = Math.floor(\n                (Math.round(new Date().getTime() / 1000) - updatedTime) / 86400\n            );\n            updatedTimeHumanReadable = new Date(1000 * updatedTime).toLocaleString();\n        }\n        return (\n            <tr id={trId}>\n                <td\n                    style={{\n                        textAlign: \"center\",\n                        cursor: \"pointer\",\n                        verticalAlign: \"top\"\n                    }}\n                    onClick={this.onClick}\n                    id={tdId}\n                >\n                    <i className=\"fa fa-eye fa-1\" aria-hidden=\"true\" />\n                </td>\n                {this.props.data.status === \"promoted\" ? (\n                    <td\n                        style={{\n                            paddingRight: \"4px\",\n                            paddingLeft: \"4px\",\n                            verticalAlign: \"top\"\n                        }}\n                    >\n                        <Button\n                            bsSize=\"xsmall\"\n                            bsStyle={\"warning\"}\n                            id={this.props.data.id}\n                            href={promotedHref}\n                            target=\"_blank\"\n                            style={{\n                                lineHeight: \"12pt\",\n                                fontSize: \"10pt\",\n                                marginLeft: \"auto\"\n                            }}\n                        >\n                            {this.props.data.status}\n                        </Button>\n                    </td>\n                ) : (\n                        <td\n                            style={{\n                                color: statusColor,\n                                paddingRight: \"4px\",\n                                paddingLeft: \"4px\",\n                                verticalAlign: \"top\"\n                            }}\n                        >\n                            {this.props.data.status}\n                        </td>\n                    )}\n                <td\n                    style={{\n                        paddingRight: \"4px\",\n                        paddingLeft: \"4px\",\n                        verticalAlign: \"top\"\n                    }}\n                >\n                    <Link to={aHref} target=\"_blank\">\n                        {this.props.data.id}\n                    </Link>\n                </td>\n                <td\n                    style={{\n                        paddingRight: \"4px\",\n                        paddingLeft: \"4px\",\n                        verticalAlign: \"top\"\n                    }}\n                >\n                    {this.props.type}\n                </td>\n                <td\n                    style={{\n                        paddingRight: \"4px\",\n                        paddingLeft: \"4px\",\n                        textAlign: \"center\",\n                        verticalAlign: \"top\"\n                    }}\n                >\n                    {this.props.data.entry_count}\n                </td>\n                <td\n                    style={{\n                        paddingRight: \"4px\",\n                        paddingLeft: \"4px\",\n                        verticalAlign: \"top\"\n                    }}\n                >\n                    {subject}\n                </td>\n                <td\n                    style={{\n                        paddingRight: \"4px\",\n                        paddingLeft: \"4px\",\n                        verticalAlign: \"top\"\n                    }}\n                    title={updatedTimeHumanReadable}\n                >\n                    {daysSince} days ago\n        </td>\n            </tr>\n        );\n    };\n}\n\nclass GuideBody extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            entryToolbar: false\n        };\n    }\n\n    entryToggle = () => {\n        if (this.state.entryToolbar === false) {\n            this.setState({ entryToolbar: true });\n        } else {\n            this.setState({ entryToolbar: false });\n        }\n    };\n\n    render = () => {\n        return (\n            <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"pills\">\n                <Tab eventKey={1} style={{ overflow: \"auto\", maxHeight: \"70vh\" }}>\n                    <div>\n                        <Button bsSize=\"xsmall\" onClick={this.entryToggle}>\n                            Add Entry\n            </Button>\n                        <br />\n                    </div>\n                    {this.state.entryToolbar ? (\n                        <AddEntry\n                            entryAction={\"Add\"}\n                            type=\"guide\"\n                            targetid={this.props.entityid}\n                            id={\"add_entry\"}\n                            addedentry={this.entryToggle}\n                            errorToggle={this.props.errorToggle}\n                        />\n                    ) : null}\n                    <SelectedEntry\n                        type={\"guide\"}\n                        form={this.props.form}\n                        id={this.props.entityid}\n                        isPopUp={1}\n                        headerData={this.props.data}\n                        errorToggle={this.props.errorToggle}\n                        createCallback={this.props.createCallback}\n                    />\n                </Tab>\n            </Tabs>\n        );\n    };\n}\n\nclass SourceBody extends React.Component {\n    render = () => {\n        return (\n            <div>\n                <h2>Source</h2>\n                <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"tabs\">\n                    <Tab\n                        eventKey={1}\n                        className=\"entityPopUpButtons\"\n                        style={{ overflow: \"auto\", maxHeight: \"70vh\" }}\n                        title=\"Rendered\"\n                    >\n                        <Frame\n                            frameBorder={\"0\"}\n                            id={\"iframe_\" + this.props.entityid}\n                            sandbox={\"allow-same-origin\"}\n                            styleSheets={[\"/css/sandbox.css\"]}\n                            height=\"500px\">\n                            <div dangerouslySetInnerHTML={{ __html: this.props.data.body }} />\n                        </Frame>\n                    </Tab>\n                    <Tab\n                        eventKey={2}\n                        className=\"entityPopUpButtons\"\n                        style={{ overflow: \"auto\", maxHeight: \"70vh\" }}\n                        title=\"Raw Text\"\n                    >\n                        <Frame\n                            frameBorder={\"0\"}\n                            id={\"iframe_\" + this.props.entityid}\n                            sandbox={\"allow-same-origin\"}\n                            styleSheets={[\"/css/sandbox.css\"]}\n                            height=\"500px\">\n                            >\n                            <div\n                                dangerouslySetInnerHTML={{ __html: this.props.data.body_plain }}\n                            />\n                        </Frame>\n                    </Tab>\n                </Tabs>\n            </div>\n        );\n    };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport Dropdown from \"react-bootstrap/lib/Dropdown\";\nlet MenuItem = require(\"react-bootstrap/lib/MenuItem\");\nlet DropdownToggle = require(\"react-bootstrap/lib/DropdownToggle\");\nlet DropdownMenu = require(\"react-bootstrap/lib/DropdownMenu\");\nlet OverlayTrigger = require(\"react-bootstrap/lib/OverlayTrigger\");\nlet Tooltip = require(\"react-bootstrap/lib/Tooltip\");\n\nexport default class TrafficLightProtocol extends React.Component {\n  selectColor = e => {\n    let data = { tlp: e };\n    this.serverRequest = $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/\",\n      data: JSON.stringify(data),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function() {\n        console.log(\"set tlp\");\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to set TLP\", data);\n      }\n    });\n    //this.setState({ color: e });\n  };\n\n  render = () => {\n    return (\n      <span\n        style={{ padding: this.props.type === \"entry\" ? \"3px 20px\" : null }}\n      >\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip id=\"tlp-tooltip\">{this.props.tlp}</Tooltip>}\n        >\n          <Dropdown\n            bsSize=\"xsmall\"\n            bsStyle={{\n              padding: this.props.type === \"entry\" ? \"3px 20px\" : null\n            }}\n          >\n            <DropdownToggle>\n              <svg id=\"trafficlight1\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle1\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"red\" || this.props.tlp === \"white\"\n                        ? this.props.tlp\n                        : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n              <svg id=\"trafficlight2\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle2\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"amber\" && this.props.tlp !== \"white\"\n                        ? \"orange\"\n                        : this.props.tlp === \"white\"\n                          ? \"white\"\n                          : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n              <svg id=\"trafficlight2\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle3\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"green\" || this.props.tlp === \"white\"\n                        ? this.props.tlp\n                        : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n            </DropdownToggle>\n            <DropdownMenu>\n              <MenuItem header>Traffic Light Protocol (TLP) Color</MenuItem>\n              <MenuItem eventKey=\"unset\" onSelect={this.selectColor}>\n                Unset\n              </MenuItem>\n              <MenuItem eventKey=\"red\" onSelect={this.selectColor}>\n                Red\n              </MenuItem>\n              <MenuItem eventKey=\"amber\" onSelect={this.selectColor}>\n                Amber\n              </MenuItem>\n              <MenuItem eventKey=\"green\" onSelect={this.selectColor}>\n                Green\n              </MenuItem>\n              <MenuItem eventKey=\"white\" onSelect={this.selectColor}>\n                White\n              </MenuItem>\n              <MenuItem divider />\n              <MenuItem href=\"https://www.us-cert.gov/tlp\">\n                What is TLP?\n              </MenuItem>\n            </DropdownMenu>\n          </Dropdown>\n        </OverlayTrigger>\n      </span>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ButtonGroup from \"react-bootstrap/lib/ButtonGroup.js\";\nimport Button from \"react-bootstrap/lib/Button.js\";\nimport Promote from \"../components/promote.js\";\nimport Marker from \"../components/marker.js\";\nimport TrafficLightProtocol from \"../components/traffic_light_protocol.js\";\n\nexport default class SelectedHeaderOptions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      globalFlairState: true,\n      promoteRemaining: null\n    };\n  }\n\n  toggleFlair = () => {\n    let newGlobalFlairState = !this.state.globalFlairState;\n    this.props.toggleFlair();\n    $(\"iframe\").each(\n      function (index, ifr) {\n        if (ifr.contentDocument != null) {\n          let ifrContents = $(ifr).contents();\n          let off = ifrContents.find(\".entity-off\");\n          let on = ifrContents.find(\".entity\");\n          if (this.state.globalFlairState === false) {\n            ifrContents.find(\".extras\").show();\n            ifrContents.find(\".flair-off\").hide();\n            off.each(function (index, entity) {\n              $(entity).addClass(\"entity\");\n              $(entity).removeClass(\"entity-off\");\n            });\n          } else {\n            ifrContents.find(\".extras\").hide();\n            ifrContents.find(\".flair-off\").show();\n            on.each(function (index, entity) {\n              $(entity).addClass(\"entity-off\");\n              $(entity).removeClass(\"entity\");\n            });\n          }\n        }\n      }.bind(this)\n    );\n    this.setState({ globalFlairState: newGlobalFlairState });\n  };\n\n  //All methods containing alert are only used by selected_entry when viewing an alertgroupand interacting with an alert.\n  alertOpenSelected = () => {\n    let array = [];\n    $(\"tr.selected\").each(function (index, tr) {\n      let id = $(tr).attr(\"id\");\n      array.push({ id: id, status: \"open\" });\n    });\n    let data = JSON.stringify({ alerts: array });\n\n    this.props.ToggleProcessingMessage(true);\n\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: data,\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"success\");\n        this.props.ToggleProcessingMessage(false);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"failed to open selected alerts\", data);\n        this.props.ToggleProcessingMessage(false);\n      }.bind(this)\n    });\n  };\n\n  alertCloseSelected = () => {\n    let time = Math.round(new Date().getTime() / 1000);\n    let array = [];\n    $(\"tr.selected\").each(function (index, tr) {\n      let id = $(tr).attr(\"id\");\n      array.push({ id: id, status: \"closed\", closed: time });\n    });\n    let data = JSON.stringify({ alerts: array });\n\n    this.props.ToggleProcessingMessage(true);\n\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: data,\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"success\");\n        this.props.ToggleProcessingMessage(false);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"failed to close selected alerts\", data);\n        this.props.ToggleProcessingMessage(false);\n      }.bind(this)\n    });\n  };\n\n  alertPromoteSelected = () => {\n    let data = JSON.stringify({ promote: \"new\" });\n    let array = [];\n    $(\"tr.selected\").each(function (index, tr) {\n      let id = $(tr).attr(\"id\");\n      array.push(id);\n    });\n\n    this.props.ToggleProcessingMessage(true);\n\n    //Start by promoting the first one in the array\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/alert/\" + array[0],\n      data: data,\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (response) {\n        //With the entry number, promote the others into the existing event\n        let promoteTo = {\n          promote: response.pid\n        };\n\n        if (array.length == 1) {\n          this.props.ToggleProcessingMessage(false);\n        }\n\n        for (let i = 1; i < array.length; i++) {\n          $.ajax({\n            type: \"put\",\n            url: \"/scot/api/v2/alert/\" + array[i],\n            data: JSON.stringify(promoteTo),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function () {\n              console.log(\"success\");\n              if (i + 1 == array.length) {\n                this.props.ToggleProcessingMessage(false);\n              }\n            }.bind(this),\n            error: function (data) {\n              this.props.errorToggle(\n                \"failed to promoted selected alerts\",\n                data\n              );\n            }.bind(this)\n          });\n        }\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"failed to promoted selected alerts\", data);\n      }.bind(this)\n    });\n  };\n  /*Future use?\n    alertUnpromoteSelected: function() {\n        var data = JSON.stringify({unpromote:this.props.aIndex})\n        var array = [];\n        $('tr.selected').each(function(index,tr) {\n            var id = $(tr).attr('id');\n            array.push(id);\n        }.bind(this));\n        for (i=0; i < array.length; i++) {\n            $.ajax({\n                type:'put',\n                url: '/scot/api/v2/alert/'+array[i],\n                data: data,\n                contentType: 'application/json; charset=UTF-8',\n                success: function(response){\n                    console.log('success');\n                }.bind(this),\n                error: function() {\n                    console.log('failure');\n                }.bind(this)\n            })\n        }\n    },*/\n  alertSelectExisting = () => {\n    let text = prompt(\"Please Enter Event ID to promote into\");\n    let array = [];\n    if (text !== \"\" && text !== null) {\n      $(\"tr.selected\").each(function (index, tr) {\n        let id = $(tr).attr(\"id\");\n        array.push(id);\n      });\n      for (let i = 0; i < array.length; i++) {\n        if ($.isNumeric(text)) {\n          let data = {\n            promote: parseInt(text, 10)\n          };\n          $.ajax({\n            type: \"PUT\",\n            url: \"/scot/api/v2/alert/\" + array[i],\n            data: JSON.stringify(data),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function () {\n              if ($.isNumeric(text)) {\n                window.location = \"#/event/\" + text;\n              }\n            },\n            error: function (data) {\n              this.props.errorToggle(\n                \"failed to promote into existing event\",\n                data\n              );\n            }.bind(this)\n          });\n        } else {\n          prompt(\"Please use numbers only\");\n          this.selectExisting();\n        }\n      }\n    }\n  };\n\n  alertExportCSV = () => {\n    let keys = [];\n    $(\".alertTableHorizontal\")\n      .find(\"th\")\n      .each(function (key, value) {\n        let obj = $(value).text();\n        keys.push(obj);\n      });\n    let csv = \"\";\n    $(\"tr.selected\").each(function (x, y) {\n      let storearray = [];\n      $(y)\n        .find(\"td\")\n        .each(function (x, y) {\n          let copy = $(y).clone(false);\n          $(copy)\n            .find(\".extras\")\n            .remove();\n          let value = $(copy).text();\n          value = value.replace(/,/g, \"|\");\n          storearray.push(value);\n        });\n      csv += storearray.join() + \"\\n\";\n    });\n    let result = keys.join() + \"\\n\";\n    csv = result + csv;\n    let data_uri = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n    window.open(data_uri);\n  };\n\n  alertDeleteSelected = () => {\n    //TODO: FIX IMMEDIATELY\n    // if (\n    //   confirm(\"Are you sure you want to Delete? This action can not be undone.\")\n    // ) {\n    //   let array = [];\n    //   $(\"tr.selected\").each(\n    //     function(index, tr) {\n    //       let id = $(tr).attr(\"id\");\n    //       array.push(id);\n    //     }.bind(this)\n    //   );\n    //   for (let i = 0; i < array.length; i++) {\n    //     $.ajax({\n    //       type: \"delete\",\n    //       url: \"/scot/api/v2/alert/\" + array[i],\n    //       success: function() {\n    //         console.log(\"success\");\n    //       }.bind(this),\n    //       error: function(data) {\n    //         this.props.errorToggle(\"failed to delete selected alerts\", data);\n    //       }.bind(this)\n    //     });\n    //   }\n    // }\n    let array = [];\n    $(\"tr.selected\").each(function (index, tr) {\n      let id = $(tr).attr(\"id\");\n      array.push(id);\n    });\n    for (let i = 0; i < array.length; i++) {\n      $.ajax({\n        type: \"delete\",\n        url: \"/scot/api/v2/alert/\" + array[i],\n        success: function () {\n          console.log(\"success\");\n        },\n        error: function (data) {\n          this.props.errorToggle(\"failed to delete selected alerts\", data);\n        }.bind(this)\n      });\n    }\n  };\n\n  PrintPrepare = () => {\n    $(\"iframe\")\n      .contents()\n      .each(function (x, y) {\n        $(y)\n          .find(\"blockquote\")\n          .each(function (index, block) {\n            $(block).css({ \"max-height\": \"5000px\" });\n          });\n        $(y)\n          .find(\"pre\")\n          .each(function (index, pre) {\n            $(pre).css({ \"max-height\": \"5000px\", \"word-wrap\": \"break-word\" });\n          });\n      });\n    setTimeout(\n      function () {\n        this.forceUpdate();\n      }.bind(this),\n      500\n    );\n    setTimeout(function () {\n      $(\"#print-button\").click();\n    }, 1000);\n  };\n\n  Print = () => {\n    window.print();\n  };\n\n  componentDidMount = () => {\n    //open, close SELECTED alerts\n    if (this.props.type === \"alertgroup\" || this.props.type === \"alert\") {\n      $(\"#main-detail-container\").keydown(\n        function (event) {\n          if ($(\"input\").is(\":focus\")) {\n            return;\n          }\n          if (\n            event.keyCode === 79 &&\n            (event.ctrlKey !== true && event.metaKey !== true)\n          ) {\n            this.alertOpenSelected();\n          }\n          if (\n            event.keyCode === 67 &&\n            (event.ctrlKey !== true && event.metaKey !== true)\n          ) {\n            this.alertCloseSelected();\n          }\n        }.bind(this)\n      );\n    }\n    $(\"#main-detail-container\").keydown(\n      function (event) {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if (\n          event.keyCode === 84 &&\n          (event.ctrlKey !== true && event.metaKey !== true)\n        ) {\n          this.toggleFlair();\n        }\n      }.bind(this)\n    );\n  };\n\n  componentWillUnmount = () => {\n    $(\"#main-detail-container\").unbind(\"keydown\");\n  };\n\n  guideToggle = () => {\n    let entityoffset = { top: 0, left: 0 }; //set to 0 so it appears in a default location.\n    this.props.flairToolbarToggle(\n      this.props.guideID,\n      null,\n      \"guide\",\n      entityoffset,\n      null\n    );\n  };\n\n  sourceToggle = () => {\n    let entityoffset = { top: 0, left: 0 }; //set to 0 so it appears in a default location.\n    this.props.flairToolbarToggle(\n      this.props.id,\n      null,\n      \"source\",\n      entityoffset,\n      null\n    );\n  };\n\n  createGuide = () => {\n    let data = JSON.stringify({\n      subject: \"ENTER A GUIDE NAME\",\n      applies_to: [this.props.subjectName]\n    });\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/guide\",\n      data: data,\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (response) {\n        window.open(\"/#/guide/\" + response.id);\n      },\n      error: function (data) {\n        this.props.errorToggle(\"failed to create a new guide\", data);\n      }.bind(this)\n    });\n  };\n  reparseFlair = () => {\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"reparsing started\");\n      },\n      error: function (data) {\n        this.props.errorToggle(\"failed to reparse flair\", data);\n      }.bind(this)\n    });\n  };\n\n  createLinkSignature = () => {\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/signature\",\n      data: JSON.stringify({\n        target: { id: this.props.id, type: this.props.type },\n        name: \"Name your Signature\",\n        status: \"disabled\"\n      }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (response) {\n        const url = \"/#/signature/\" + response.id;\n        window.open(url, \"_blank\");\n      },\n      error: function (data) {\n        this.props.errorToggle(\"failed to create a signature\", data);\n      }.bind(this)\n    });\n  };\n\n  manualUpdate = () => {\n    this.props.updated(null, null);\n  };\n\n  render = () => {\n    let subjectType = this.props.subjectType;\n    let type = this.props.type;\n    let id = this.props.id;\n    let status = this.props.status;\n\n    let string = \"\";\n\n    if (this.props.headerData.subject) {\n      string = this.props.headerData.subject;\n    } else if (this.props.headerData.value) {\n      string = this.props.headerData.value;\n    } else if (this.props.headerData.name) {\n      string = this.props.headerData.name;\n    } else if (this.props.headerData.body) {\n      string = this.props.headerData.body;\n    }\n\n    if (type !== \"alertgroup\") {\n      let newType;\n      let showPromote = true;\n      if (status !== \"promoted\") {\n        if (type === \"alert\") {\n          newType = \"Event\";\n        } else if (type === \"event\") {\n          newType = \"Incident\";\n        } else if (\n          type === \"incident\" ||\n          type === \"guide\" ||\n          type === \"intel\" ||\n          type === \"signature\" ||\n          type === \"entity\"\n        ) {\n          showPromote = false;\n        }\n      } else {\n        showPromote = false;\n      }\n      return (\n        <div className=\"entry-header detail-buttons\">\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"1\"\n              bsStyle=\"success\"\n              onClick={this.props.entryToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" /> Add Entry\n            </Button>\n          ) : null}\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"2\"\n              onClick={this.props.fileUploadToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-upload\" aria-hidden=\"true\" /> Upload File\n            </Button>\n          ) : null}\n          <Button eventkey=\"3\" onClick={this.toggleFlair} bsSize=\"xsmall\">\n            <i className=\"fa fa-eye-slash\" aria-hidden=\"true\" /> Toggle Flair\n          </Button>\n          {type === \"alertgroup\" || type === \"event\" || type === \"intel\" ? (\n            <Button\n              eventkey=\"4\"\n              onClick={this.props.viewedByHistoryToggle}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/clock.png\" alt=\"\" /> Viewed By History\n            </Button>\n          ) : null}\n          <Button\n            eventkey=\"5\"\n            onClick={this.props.changeHistoryToggle}\n            bsSize=\"xsmall\"\n          >\n            <img src=\"/images/clock.png\" alt=\"\" /> {subjectType} History\n          </Button>\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"6\"\n              onClick={this.props.permissionsToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-users\" aria-hidden=\"true\" /> Permissions\n            </Button>\n          ) : null}\n          <TrafficLightProtocol\n            type={type}\n            id={id}\n            tlp={this.props.headerData.tlp}\n          />\n          <Button\n            eventkey=\"7\"\n            onClick={this.props.entitiesToggle}\n            bsSize=\"xsmall\"\n          >\n            <span className=\"entity\">__</span> View Entities\n          </Button>\n          {type === \"guide\" ? (\n            <Button\n              eventkey=\"8\"\n              onClick={this.props.guideRedirectToAlertListWithFilter}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-table\" aria-hidden=\"true\" /> View Related\n              Alerts\n            </Button>\n          ) : null}\n          <Button onClick={this.props.linksModalToggle} bsSize=\"xsmall\">\n            <i className=\"fa fa-link\" aria-hidden=\"true\" /> Links\n          </Button>\n          {showPromote ? (\n            <Promote\n              type={type}\n              id={id}\n              updated={this.props.updated}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {type !== \"signature\" ? (\n            <Button bsSize=\"xsmall\" onClick={this.createLinkSignature}>\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\" /> Create & Link\n              Signature\n            </Button>\n          ) : null}\n          {type === \"signature\" ? (\n            <Button\n              eventkey=\"11\"\n              onClick={this.props.showSignatureOptionsToggle}\n              bsSize=\"xsmall\"\n              bsStyle=\"warning\"\n            >\n              View Custom Options\n            </Button>\n          ) : null}\n          <Button onClick={this.PrintPrepare} bsSize=\"xsmall\" bsStyle=\"info\">\n            <i className=\"fa fa-print\" aria-hidden=\"true\" /> Print\n          </Button>\n          <Button\n            onClick={this.Print}\n            style={{ display: \"none\" }}\n            id=\"print-button\"\n          />\n          <Button\n            onClick={this.props.exportToggle}\n            bsSize=\"xsmall\"\n            id=\"export-button\"\n          >\n            <i className=\"fa fa-share\" aria-hidden=\"true\" /> Export{\" \"}\n            {subjectType}{\" \"}\n          </Button>\n          <Button\n            bsStyle=\"danger\"\n            eventkey=\"9\"\n            onClick={this.props.deleteToggle}\n            bsSize=\"xsmall\"\n          >\n            <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete{\" \"}\n            {subjectType}\n          </Button>\n          <ButtonGroup style={{ float: \"right\" }}>\n            <Marker type={type} id={id} string={string} />\n            <Button onClick={this.props.markModalToggle} bsSize=\"xsmall\">\n              Marked Objects\n            </Button>\n            <Button\n              id=\"refresh-detail\"\n              bsStyle=\"info\"\n              eventkey=\"10\"\n              onClick={this.manualUpdate}\n              bsSize=\"xsmall\"\n              style={{ float: \"right\" }}\n            >\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n            </Button>\n          </ButtonGroup>\n        </div>\n      );\n    } else {\n      if (this.props.aIndex !== undefined) {\n        return (\n          <div className=\"entry-header second-menu detail-buttons\">\n            <Button eventkey=\"1\" onClick={this.toggleFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-eye-slash\" aria-hidden=\"true\" /> Toggle Flair\n            </Button>\n            <Button eventkey=\"2\" onClick={this.reparseFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" /> Reparse Flair\n            </Button>\n            {this.props.guideID === null ? null : this.props.guideID !== 0 ? (\n              <Button eventkey=\"3\" onClick={this.guideToggle} bsSize=\"xsmall\">\n                <img src=\"/images/guide.png\" alt=\"\" /> Guide\n              </Button>\n            ) : (\n                <Button eventkey=\"3\" onClick={this.createGuide} bsSize=\"xsmall\">\n                  <img src=\"/images/guide.png\" alt=\"\" /> Create Guide\n              </Button>\n              )}\n            {this.props.headerData == null ? null : (\n              <Button eventkey=\"4\" onClick={this.sourceToggle} bsSize=\"xsmall\">\n                <img src=\"/images/code.png\" alt=\"\" /> View Source\n              </Button>\n            )}\n            <Button\n              eventkey=\"5\"\n              onClick={this.props.entitiesToggle}\n              bsSize=\"xsmall\"\n            >\n              <span className=\"entity\">__</span> View Entities\n            </Button>\n            {type === \"alertgroup\" || type === \"event\" || type === \"intel\" ? (\n              <Button\n                eventkey=\"6\"\n                onClick={this.props.viewedByHistoryToggle}\n                bsSize=\"xsmall\"\n              >\n                <img src=\"/images/clock.png\" alt=\"\" /> Viewed By History\n              </Button>\n            ) : null}\n            <Button\n              eventkey=\"7\"\n              onClick={this.props.changeHistoryToggle}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/clock.png\" alt=\"\" /> {subjectType} History\n            </Button>\n            <TrafficLightProtocol\n              type={type}\n              id={id}\n              tlp={this.props.headerData.tlp}\n            />\n            <Button\n              eventkey=\"8\"\n              onClick={this.alertOpenSelected}\n              bsSize=\"xsmall\"\n              bsStyle=\"danger\"\n            >\n              <img src=\"/images/open.png\" alt=\"\" /> Open Selected\n            </Button>\n            <Button\n              eventkey=\"9\"\n              onClick={this.alertCloseSelected}\n              bsSize=\"xsmall\"\n              bsStyle=\"success\"\n            >\n              <i className=\"fa fa-flag-checkered\" aria-hidden=\"true\" /> Close\n              Selected\n            </Button>\n            <Button\n              eventkey=\"10\"\n              onClick={this.alertPromoteSelected}\n              bsSize=\"xsmall\"\n              bsStyle=\"warning\"\n            >\n              <img src=\"/images/megaphone.png\" alt=\"\" /> Promote Selected\n            </Button>\n            <Button\n              eventkey=\"11\"\n              onClick={this.alertSelectExisting}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/megaphone_plus.png\" alt=\"\" /> Add Selected to{\" \"}\n              <b>Existing Event</b>\n            </Button>\n            <Button\n              eventkey=\"12\"\n              onClick={this.props.entryToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" /> Add Entry\n            </Button>\n            <Button\n              eventkey=\"13\"\n              onClick={this.props.fileUploadToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-upload\" aria-hidden=\"true\" /> Upload File\n            </Button>\n            <Button eventkey=\"14\" onClick={this.alertExportCSV} bsSize=\"xsmall\">\n              <img src=\"/images/csv_text.png\" alt=\"\" /> Export to CSV\n            </Button>\n            <Button onClick={this.props.linksModalToggle} bsSize=\"xsmall\">\n              <i className=\"fa fa-link\" aria-hidden=\"true\" /> Links\n            </Button>\n            <Marker\n              type={type}\n              id={id}\n              string={string}\n              isAlert={true}\n              getSelectedAlerts={this.getSelectedAlerts}\n            />\n            <Button bsSize=\"xsmall\" onClick={this.createLinkSignature}>\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\" /> Create & Link\n              Signature\n            </Button>\n            <Button onClick={this.PrintPrepare} bsSize=\"xsmall\" bsStyle=\"info\">\n              <i className=\"fa fa-print\" aria-hidden=\"true\" /> Print\n            </Button>\n            <Button\n              onClick={this.Print}\n              style={{ display: \"none\" }}\n              id=\"print-button\"\n            />\n            <Button\n              eventkey=\"15\"\n              onClick={this.alertDeleteSelected}\n              bsSize=\"xsmall\"\n              bsStyle=\"danger\"\n            >\n              <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete Selected\n            </Button>\n            <Button\n              bsStyle=\"danger\"\n              eventkey=\"17\"\n              onClick={this.props.deleteToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete{\" \"}\n              {subjectType}\n            </Button>\n            <ButtonGroup style={{ float: \"right\" }}>\n              <Marker type={type} id={id} string={string} />\n              <Button onClick={this.props.markModalToggle} bsSize=\"xsmall\">\n                Marked Actions\n              </Button>\n              <Button\n                bsStyle=\"info\"\n                eventkey=\"16\"\n                onClick={this.manualUpdate}\n                bsSize=\"xsmall\"\n                style={{ float: \"right\" }}\n              >\n                <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n              </Button>\n            </ButtonGroup>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"entry-header detail-buttons\">\n            <Button eventkey=\"1\" onClick={this.toggleFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-eye-slash\" aria-hidden=\"true\" /> Toggle Flair\n            </Button>\n            <Button eventkey=\"2\" onClick={this.reparseFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" /> Reparse Flair\n            </Button>\n            {this.props.guideID == null ? null : (\n              <span>\n                {this.props.guideID !== 0 ? (\n                  <Button\n                    eventkey=\"3\"\n                    onClick={this.guideToggle}\n                    bsSize=\"xsmall\"\n                  >\n                    <img src=\"/images/guide.png\" alt=\"\" /> Guide\n                  </Button>\n                ) : (\n                    <Button\n                      eventkey=\"3\"\n                      onClick={this.createGuide}\n                      bsSize=\"xsmall\"\n                    >\n                      <img src=\"/images/guide.png\" alt=\"\" /> Create Guide\n                  </Button>\n                  )}\n              </span>\n            )}\n            {this.props.headerData == null ? null : (\n              <Button eventkey=\"4\" onClick={this.sourceToggle} bsSize=\"xsmall\">\n                <img src=\"/images/code.png\" alt=\"\" /> View Source\n              </Button>\n            )}\n            <Button\n              eventkey=\"5\"\n              onClick={this.props.entitiesToggle}\n              bsSize=\"xsmall\"\n            >\n              <span className=\"entity\">__</span> View Entities\n            </Button>\n            {type === \"alertgroup\" || type === \"event\" || type === \"intel\" ? (\n              <Button\n                eventkey=\"6\"\n                onClick={this.props.viewedByHistoryToggle}\n                bsSize=\"xsmall\"\n              >\n                <img src=\"/images/clock.png\" alt=\"\" /> Viewed By History\n              </Button>\n            ) : null}\n            <Button\n              eventkey=\"7\"\n              onClick={this.props.changeHistoryToggle}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/clock.png\" alt=\"\" /> {subjectType} History\n            </Button>\n            <TrafficLightProtocol\n              type={type}\n              id={id}\n              tlp={this.props.headerData.tlp}\n            />\n            <Button onClick={this.props.linksModalToggle} bsSize=\"xsmall\">\n              <i className=\"fa fa-link\" aria-hidden=\"true\" /> Links\n            </Button>\n            <Button bsSize=\"xsmall\" onClick={this.createLinkSignature}>\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\" /> Create & Link\n              Signature\n            </Button>\n            <Button onClick={this.PrintPrepare} bsSize=\"xsmall\" bsStyle=\"info\">\n              <i className=\"fa fa-print\" aria-hidden=\"true\" /> Print\n            </Button>\n            <Button\n              onClick={this.Print}\n              style={{ display: \"none\" }}\n              id=\"print-button\"\n            />\n            <Button\n              bsStyle=\"danger\"\n              eventkey=\"8\"\n              onClick={this.props.deleteToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete{\" \"}\n              {subjectType}\n            </Button>\n            <ButtonGroup style={{ float: \"right\" }}>\n              <Marker type={type} id={id} string={string} />\n              <Button onClick={this.props.markModalToggle} bsSize=\"xsmall\">\n                Marked Actions\n              </Button>\n              <Button\n                bsStyle=\"info\"\n                eventkey=\"9\"\n                onClick={this.manualUpdate}\n                bsSize=\"xsmall\"\n                style={{ float: \"right\" }}\n              >\n                <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n              </Button>\n            </ButtonGroup>\n          </div>\n        );\n      }\n    }\n  };\n}\n","import React, { PureComponent } from \"react\";\nimport Modal from \"react-modal\";\nimport { Button } from \"react-bootstrap\";\nimport PropTypes from \"prop-types\";\nimport $ from \"jquery\";\n\nconst customStyles = {\n    content: {\n        top: \"50%\",\n        left: \"50%\",\n        right: \"auto\",\n        bottom: \"auto\",\n        marginRight: \"-50%\",\n        transform: \"translate(-50%, -50%)\"\n    },\n    overlay: {\n        zIndex: \"1101\"\n    }\n};\n\nconst ACTION_BUTTONS = {\n    READY: {\n        style: \"danger\"\n    },\n    LOADING: {\n        text: \"Processing...\",\n        style: \"default\",\n        disabled: true\n    },\n    SUCCESS: {\n        text: \"Success!\",\n        style: \"success\"\n    },\n    ERROR: {\n        text: \"Error!\",\n        style: \"warning\"\n    }\n};\n\nexport class DeleteEvent extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            key: props.id\n        };\n\n        this.toggle = this.toggle.bind(this);\n    }\n\n    toggle() {\n        $.ajax({\n            type: \"delete\",\n            url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            success: function (data) {\n                console.log(\"success: \" + data);\n                this.props.deleteToggle(true);\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"Failed to delete\", data);\n                this.props.deleteToggle();\n            }.bind(this)\n        });\n        this.props.history.push(\"/\" + this.props.type);\n    }\n\n    render() {\n        return (\n            <Modal\n                isOpen={true}\n                onRequestClose={this.props.deleteToggle}\n                style={customStyles}\n            >\n                <div className=\"modal-header\">\n                    <img\n                        alt=\"\"\n                        src=\"images/close_toolbar.png\"\n                        className=\"close_toolbar\"\n                        onClick={this.props.deleteToggle}\n                    />\n                    <h3 id=\"myModalLabel\">\n                        Are you sure you want to delete {this.props.subjectType}:{\" \"}\n                        {this.props.id}?\n          </h3>\n                </div>\n                <div className=\"modal-footer\">\n                    <Button id=\"cancel-delete\" onClick={this.props.deleteToggle}>\n                        Cancel\n          </Button>\n                    <Button bsStyle=\"danger\" id=\"delete\" onClick={this.toggle}>\n                        Delete\n          </Button>\n                </div>\n            </Modal>\n        );\n    }\n}\n\nexport class DeleteEntry extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            key: props.id\n        };\n\n        this.toggle = this.toggle.bind(this);\n    }\n\n    toggle() {\n        $.ajax({\n            type: \"delete\",\n            url: \"scot/api/v2/entry/\" + this.props.entryid,\n            success: function (data) {\n                console.log(\"success: \" + data);\n                let key = this.state.key;\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"Failed to delete entry\", data);\n            }.bind(this)\n        });\n        this.props.deleteToggle();\n    }\n\n    render() {\n        return (\n            <Modal\n                isOpen={true}\n                onRequestClose={this.props.deleteToggle}\n                style={customStyles}\n            >\n                <div className=\"modal-header\">\n                    <img\n                        alt=\"\"\n                        src=\"images/close_toolbar.png\"\n                        className=\"close_toolbar\"\n                        onClick={this.props.deleteToggle}\n                    />\n                    <h3 id=\"myModalLabel\">\n                        Are you sure you want to delete Entry: {this.props.entryid}?\n          </h3>\n                </div>\n                <div className=\"modal-footer\">\n                    <Button id=\"cancel-delete\" onClick={this.props.deleteToggle}>\n                        Cancel\n          </Button>\n                    <Button bsStyle=\"danger\" id=\"delete\" onClick={this.toggle}>\n                        Delete\n          </Button>\n                </div>\n            </Modal>\n        );\n    }\n}\n\n// The type signature for things to be deleted\nconst thingType = PropTypes.shape({\n    type: PropTypes.string.isRequired,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n});\n\nexport default class DeleteModal extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            deleteButton: ACTION_BUTTONS.READY\n        };\n\n        this.deleteAll = this.deleteAll.bind(this);\n    }\n\n    static propTypes = {\n        things: PropTypes.oneOfType([thingType, PropTypes.arrayOf(thingType)])\n            .isRequired,\n        errorToggle: PropTypes.func.isRequired,\n        callback: PropTypes.func.isRequired\n    };\n\n    deleteAll() {\n        this.setState({\n            deleteButton: ACTION_BUTTONS.LOADING\n        });\n\n        let success = true;\n\n        let { things } = this.props;\n        if (!Array.isArray(things)) {\n            things = [things];\n        }\n\n        $.when(...things.map(thing => this.deleteAjax(thing)))\n            .then(\n                // Success\n                () => {\n                    this.setState({\n                        deleteButton: ACTION_BUTTONS.SUCCESS\n                    });\n                },\n                // Failure\n                error => {\n                    console.error(error);\n                    this.setState({\n                        deleteButton: ACTION_BUTTONS.ERROR\n                    });\n                    this.props.errorToggle(\"error deleting\", error);\n                    success = false;\n                }\n            )\n            .always(() => {\n                setTimeout(() => {\n                    this.setState({\n                        deleteButton: ACTION_BUTTONS.READY\n                    });\n\n                    this.props.callback(success);\n                }, 2000);\n            });\n    }\n\n    deleteAjax(thing) {\n        return $.ajax({\n            type: \"delete\",\n            url: \"/scot/api/v2/\" + thing.type + \"/\" + thing.id,\n            contentType: \"application/json; charset=UTF-8\"\n        });\n    }\n\n    render() {\n        let { things } = this.props;\n        let confirmText = \"\";\n\n        if (Array.isArray(things)) {\n            confirmText = things\n                .map(thing => `${thing.type}: ${thing.id}`)\n                .join(\", \");\n        } else {\n            confirmText = `${things.type}: ${things.id}`;\n        }\n\n        const { deleteButton } = this.state;\n\n        return (\n            <Modal\n                isOpen={true}\n                onRequestClose={this.props.callback}\n                style={customStyles}\n            >\n                <div className=\"modal-header\">\n                    <img\n                        alt=\"\"\n                        src=\"images/close_toolbar.png\"\n                        className=\"close_toolbar\"\n                        onClick={this.props.callback}\n                    />\n                    <h3 id=\"myModalLabel\">\n                        Are you sure you want to delete {confirmText}?\n          </h3>\n                </div>\n                <div className=\"modal-footer\">\n                    <Button id=\"cancel-delete\" onClick={this.props.callback}>\n                        Cancel\n          </Button>\n                    <Button\n                        bsStyle={deleteButton.style}\n                        id=\"delete\"\n                        onClick={this.deleteAll}\n                        disabled={deleteButton.disabled}\n                    >\n                        {deleteButton.text ? deleteButton.text : \"Delete\"}\n                    </Button>\n                </div>\n            </Modal>\n        );\n    }\n}\n","import $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Badge\";\nimport DropdownButton from \"react-bootstrap/lib/DropdownButton\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class Owner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentOwner: this.props.data,\n      whoami: undefined,\n      ownerToolbar: false\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n  };\n\n  componentWillReceiveProps = () => {\n    this.setState({ currentOwner: this.props.data });\n  };\n\n  toggle = () => {\n    if (this.state.whoami !== undefined) {\n      let json = { owner: this.state.whoami };\n      $.ajax({\n        type: \"put\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        data: JSON.stringify(json),\n        contentType: \"application/json; charset=UTF-8\",\n        success: function(data) {},\n        error: function(data) {\n          this.props.errorToggle(\"Failed to change owner\", data);\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(\"Failed to detect current user\");\n    }\n    this.ownerToggle();\n  };\n\n  ownerToggle = () => {\n    if (this.state.ownerToolbar === false) {\n      this.setState({ ownerToolbar: true });\n    } else {\n      this.setState({ ownerToolbar: false });\n    }\n  };\n\n  render = () => {\n    return (\n      <div>\n        <DropdownButton\n          bsSize=\"xsmall\"\n          id=\"event_owner\"\n          title={this.state.currentOwner}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.ownerToggle}>\n            Take Ownership\n          </MenuItem>\n        </DropdownButton>\n        {this.state.ownerToolbar ? (\n          <Modal\n            isOpen={true}\n            onRequestClose={this.ownerToggle}\n            style={customStyles}\n          >\n            <div className=\"modal-header\">\n              <img\n                src=\"images/close_toolbar.png\"\n                alt=\"\"\n                className=\"close_toolbar\"\n                onClick={this.ownerToggle}\n              />\n              <h3 id=\"myModalLabel\">Take Ownership</h3>\n            </div>\n            <div className=\"modal-body\">\n              Are you sure you want to take ownership of this event?\n            </div>\n            <div className=\"modal-footer\">\n              <Button id=\"cancel-ownership\" onClick={this.ownerToggle}>\n                Cancel\n              </Button>\n              <Button bsStyle=\"info\" id=\"take-ownership\" onClick={this.toggle}>\n                Take Ownership\n              </Button>\n            </div>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nlet Modal = require(\"react-modal\");\nlet Button = require(\"react-bootstrap/lib/Button\");\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class Entities extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entitiesBody: true\n    };\n  }\n\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.entitiesToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              alt=\"\"\n              onClick={this.props.entitiesToggle}\n            />\n            <h3 id=\"myModalLabel\">List of Entities</h3>\n          </div>\n          <div\n            className=\"modal-body\"\n            style={{ maxHeight: \"50vh\", overflowY: \"auto\" }}\n          >\n            {this.state.entitiesBody ? (\n              <EntitiesData\n                data={this.props.entityData}\n                flairToolbarToggle={this.props.flairToolbarToggle}\n              />\n            ) : null}\n          </div>\n          <div className=\"modal-footer\">\n            <Button onClick={this.props.entitiesToggle}>Done</Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n\nclass EntitiesData extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    let originalobj = {};\n    originalobj[\"entities\"] = {};\n    let obj = originalobj.entities;\n    for (let prop in data) {\n      let subobj = {};\n      let type = data[prop].type;\n      let id = data[prop].id;\n      let value = prop;\n      subobj[id] = value;\n      if (obj.hasOwnProperty(type)) {\n        obj[type].push(subobj);\n      } else {\n        let arr = [];\n        arr.push(subobj);\n        obj[type] = arr;\n      }\n    }\n    for (let prop in obj) {\n      let type = prop;\n      let value = obj[prop];\n      rows.push(\n        <EntitiesDataHeaderIterator\n          type={type}\n          value={value}\n          flairToolbarToggle={this.props.flairToolbarToggle}\n        />\n      );\n    }\n    return <div>{rows}</div>;\n  };\n}\n\nclass EntitiesDataHeaderIterator extends React.Component {\n  render = () => {\n    let rows = [];\n    let type = this.props.type;\n    let value = this.props.value;\n    for (let i = 0; i < value.length; i++) {\n      let eachValue = value[i];\n      let entityId = null;\n      let entityValue = null;\n      for (let prop in eachValue) {\n        entityId = prop;\n        entityValue = eachValue[prop];\n      }\n      rows.push(\n        <EntitiesDataValueIterator\n          entityValue={entityValue}\n          entityId={entityId}\n          flairToolbarToggle={this.props.flairToolbarToggle}\n        />\n      );\n    }\n    return (\n      <div style={{ border: \"1px solid black\", width: \"500px\" }}>\n        <h3>{type}</h3>\n        <div\n          style={{\n            fontWeight: \"normal\",\n            maxHeight: \"300px\",\n            overflowY: \"auto\"\n          }}\n        >\n          {rows}\n        </div>\n      </div>\n    );\n  };\n}\n\nclass EntitiesDataValueIterator extends React.Component {\n  toggle = () => {\n    this.props.flairToolbarToggle(\n      this.props.entityId,\n      this.props.entityValue,\n      \"entity\"\n    );\n  };\n\n  render = () => {\n    let entityValue = this.props.entityValue;\n    return (\n      <a href=\"javascript: void(0)\" onClick={this.toggle}>\n        {entityValue}\n        <br />\n      </a>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ReactTime from \"react-time\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Button\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class ChangeHistory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      historyBody: false,\n      data: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/history\",\n      success: function(result) {\n        this.setState({ historyBody: true, data: result.records });\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to get change history\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.changeHistoryToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              alt=\"\"\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              onClick={this.props.changeHistoryToggle}\n            />\n            <h3 id=\"myModalLabel\">{this.props.subjectType} Change History</h3>\n          </div>\n          <div\n            className=\"modal-body\"\n            style={{ maxHeight: \"30vh\", width: \"700px\", overflowY: \"auto\" }}\n          >\n            {this.state.historyBody ? (\n              <ChangeHistoryData data={this.state.data} />\n            ) : null}\n          </div>\n          <div className=\"modal-footer\">\n            <Button onClick={this.props.changeHistoryToggle}>Done</Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n\nclass ChangeHistoryData extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    for (let prop in data) {\n      rows.push(<ChangeHistoryDataIterator data={data[prop]} />);\n    }\n    return <div>{rows}</div>;\n  };\n}\n\nclass ChangeHistoryDataIterator extends React.Component {\n  render = () => {\n    let data = this.props.data;\n    return (\n      <div>\n        ID: {data.id} -{\" \"}\n        <ReactTime value={data.when * 1000} format=\"MM/DD/YYYY hh:mm:ss a\" /> -{\" \"}\n        {data.who} - {data.what}\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ReactTime from 'react-time'\nimport Modal from 'react-modal'\nimport Button from 'react-bootstrap/lib/Button'\nlet type;\nconst customStyles = {\n    content: {\n        top: \"50%\",\n        left: \"50%\",\n        right: \"auto\",\n        bottom: \"auto\",\n        marginRight: \"-50%\",\n        transform: \"translate(-50%, -50%)\"\n    }\n};\n\nexport default class ViewedByHistory extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            historyBody: false,\n            data: \"\"\n        };\n    }\n    componentDidMount() {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            success: function (result) {\n                this.setState({ historyBody: true, data: result });\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to get user change history\", data);\n            }.bind(this)\n        });\n    };\n\n    render() {\n        return (\n            <div>\n                <Modal\n                    isOpen={true}\n                    onRequestClose={this.props.viewedByHistoryToggle}\n                    style={customStyles}\n                >\n                    <div className=\"modal-header\">\n                        <img\n                            alt=\"\"\n                            src=\"/images/close_toolbar.png\"\n                            className=\"close_toolbar\"\n                            onClick={this.props.viewedByHistoryToggle}\n                        />\n                        <h3 id=\"myModalLabel\">{this.props.subjectType} Viewed By</h3>\n                    </div>\n                    <div\n                        className=\"modal-body\"\n                        style={{ maxHeight: \"30vh\", overflowY: \"auto\" }}\n                    >\n                        {this.state.historyBody ? (\n                            <ViewedByHistoryData data={this.state.data} />\n                        ) : null}\n                    </div>\n                    <div className=\"modal-footer\">\n                        <Button onClick={this.props.viewedByHistoryToggle}>Done</Button>\n                    </div>\n                </Modal>\n            </div>\n        );\n    };\n}\n\nclass ViewedByHistoryData extends React.Component {\n    render() {\n        let rows = [];\n        let data = this.props.data;\n        for (let prop in data.view_history) {\n            rows.push(\n                <ViewedByHistoryDataIterator\n                    data={data.view_history[prop]}\n                    prop={prop}\n                />\n            );\n        }\n        return (\n            <div>{rows}</div>\n        );\n    };\n}\n\nclass ViewedByHistoryDataIterator extends React.Component {\n    render() {\n        let data = this.props.data;\n        let prop = this.props.prop;\n        return (\n            <div>\n                <b>{prop}</b> at{\" \"}\n                <ReactTime value={data.when * 1000} format=\"MM/DD/YYYY hh:mm:ss a\" />{\" \"}\n                from IP: {data.where}\n            </div>\n        );\n    };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport Button from \"react-bootstrap/lib/Button\";\nconst ReactTags = require('react-tag-input').WithContext;\n\nexport default class SelectedPermission extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { readPermissionEntry: false, modifyPermissionEntry: false };\n    }\n\n    toggleNewReadPermission = () => {\n        if (this.state.readPermissionEntry === false) {\n            this.setState({ readPermissionEntry: true });\n        } else if (this.state.readPermissionEntry === true) {\n            this.setState({ readPermissionEntry: false });\n        }\n    };\n\n    toggleNewModifyPermission = () => {\n        if (this.state.modifyPermissionEntry === false) {\n            this.setState({ modifyPermissionEntry: true });\n        } else if (this.state.modifyPermissionEntry === true) {\n            this.setState({ modifyPermissionEntry: false });\n        }\n    };\n\n    permissionsfunc = permissionData => {\n        console.log(permissionData.groups);\n        let writepermissionsarr = [];\n        let readpermissionsarr = [];\n        let readwritepermissionsarr = [];\n        for (let prop in permissionData.groups) {\n            let fullprop = permissionData.groups[prop];\n            if (prop === \"read\") {\n                permissionData.groups[prop].forEach(function (fullprop) {\n                    readpermissionsarr.push(fullprop);\n                });\n            } else if (prop === \"modify\") {\n                permissionData.groups[prop].forEach(function (fullprop) {\n                    writepermissionsarr.push(fullprop);\n                });\n            }\n        }\n        readwritepermissionsarr.push(readpermissionsarr);\n        readwritepermissionsarr.push(writepermissionsarr);\n        return readwritepermissionsarr;\n    };\n\n    render = () => {\n        let modifyRows = [];\n        let readRows = [];\n        let permissionData = this.props.permissionData;\n        let data = this.permissionsfunc(permissionData); //pos 0 is read and pos 1 is write\n        let id = this.props.id;\n        let type = this.props.type;\n        if (data[0] !== undefined) {\n            for (let i = 0; i < data[0].length; i++) {\n                let read_modify = \"read\";\n                readRows.push(\n                    <PermissionIterator\n                        data={data[0][i]}\n                        dataRead={data[0]}\n                        dataModify={data[1]}\n                        updateid={this.props.updateid}\n                        id={id}\n                        type={type}\n                        read_modify={read_modify}\n                        updated={this.props.updated}\n                    />\n                );\n            }\n        }\n        if (data[1] !== undefined) {\n            for (let i = 0; i < data[1].length; i++) {\n                let read_modify = \"modify\";\n                modifyRows.push(\n                    <PermissionIterator\n                        data={data[1][i]}\n                        dataRead={data[0]}\n                        dataModify={data[1]}\n                        updateid={this.props.updateid}\n                        id={id}\n                        type={type}\n                        read_modify={read_modify}\n                        updated={this.props.updated}\n                    />\n                );\n            }\n        }\n        if (type === \"entry\") {\n            return (\n                <div id=\"\" className=\"\">\n                    <span style={{ display: \"inline-flex\" }}>\n                        Read Groups: {readRows}\n                        {this.state.readPermissionEntry ? (\n                            <span style={{ display: \"inherit\", color: \"white\" }}>\n                                <NewPermission\n                                    readUpdate={1}\n                                    modifyUpdate={0}\n                                    dataRead={data[0]}\n                                    dataModify={data[1]}\n                                    type={type}\n                                    updateid={this.props.updateid}\n                                    id={id}\n                                    toggleNewReadPermission={this.toggleNewReadPermission}\n                                    updated={this.props.updated}\n                                    permissionsToggle={this.props.permissionsToggle}\n                                />\n                            </span>\n                        ) : null}\n                        {this.state.readPermissionEntry ? (\n                            <Button\n                                bsSize=\"xsmall\"\n                                bsStyle={\"danger\"}\n                                onClick={this.toggleNewReadPermission}\n                            >\n                                <span\n                                    className=\"glyphicon glyphicon-minus\"\n                                    aria-hidden=\"true\"\n                                />\n                            </Button>\n                        ) : (\n                                <Button\n                                    bsSize=\"xsmall\"\n                                    bsStyle={\"success\"}\n                                    onClick={this.toggleNewReadPermission}\n                                >\n                                    <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                                </Button>\n                            )}\n                        <span style={{ paddingLeft: \"5px\" }}>Modify Groups: </span>\n                        {modifyRows}\n                        {this.state.modifyPermissionEntry ? (\n                            <span style={{ display: \"inherit\", color: \"white\" }}>\n                                <NewPermission\n                                    readUpdate={0}\n                                    modifyUpdate={1}\n                                    dataRead={data[0]}\n                                    dataModify={data[1]}\n                                    type={type}\n                                    updateid={this.props.updateid}\n                                    id={id}\n                                    toggleNewModifyPermission={this.toggleNewModifyPermission}\n                                    updated={this.props.updated}\n                                    permissionsToggle={this.props.permissionsToggle}\n                                />\n                            </span>\n                        ) : null}\n                        {this.state.modifyPermissionEntry ? (\n                            <Button\n                                bsSize=\"xsmall\"\n                                bsStyle={\"danger\"}\n                                onClick={this.toggleNewModifyPermission}\n                            >\n                                <span\n                                    className=\"glyphicon glyphicon-minus\"\n                                    aria-hidden=\"true\"\n                                />\n                            </Button>\n                        ) : (\n                                <Button\n                                    bsSize=\"xsmall\"\n                                    bsStyle={\"success\"}\n                                    onClick={this.toggleNewModifyPermission}\n                                >\n                                    <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                                </Button>\n                            )}\n                    </span>\n                </div>\n            );\n        } else {\n            return (\n                <div\n                    id=\"\"\n                    className=\"toolbar entry-header-info-null\"\n                    style={{ paddingTop: \"0px\" }}\n                >\n                    <span\n                        style={{\n                            display: \"inline-flex\",\n                            paddingRight: \"10px\",\n                            paddingLeft: \"5px\"\n                        }}\n                    >\n                        <h4>Permissions:</h4>\n                    </span>\n                    Read Groups: {readRows}\n                    {this.state.readPermissionEntry ? (\n                        <NewPermission\n                            readUpdate={1}\n                            modifyUpdate={0}\n                            dataRead={data[0]}\n                            dataModify={data[1]}\n                            type={type}\n                            updateid={this.props.updateid}\n                            id={id}\n                            toggleNewReadPermission={this.toggleNewReadPermission}\n                            updated={this.props.updated}\n                            permissionsToggle={this.props.permissionsToggle}\n                        />\n                    ) : null}\n                    {this.state.readPermissionEntry ? (\n                        <Button\n                            bsSize={\"xsmall\"}\n                            bsStyle={\"danger\"}\n                            onClick={this.toggleNewReadPermission}\n                        >\n                            <span className=\"glyphicon glyphicon-minus\" aria-hidden=\"true\" />\n                        </Button>\n                    ) : (\n                            <Button\n                                bsSize={\"xsmall\"}\n                                bsStyle={\"success\"}\n                                onClick={this.toggleNewReadPermission}\n                            >\n                                <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                            </Button>\n                        )}\n                    <span style={{ paddingLeft: \"5px\" }}>Modify Groups: </span>\n                    {modifyRows}\n                    {this.state.modifyPermissionEntry ? (\n                        <NewPermission\n                            readUpdate={0}\n                            modifyUpdate={1}\n                            dataRead={data[0]}\n                            dataModify={data[1]}\n                            type={type}\n                            updateid={this.props.updateid}\n                            id={id}\n                            toggleNewModifyPermission={this.toggleNewModifyPermission}\n                            updated={this.props.updated}\n                            permissionsToggle={this.props.permissionsToggle}\n                        />\n                    ) : null}\n                    {this.state.modifyPermissionEntry ? (\n                        <Button\n                            bsSize={\"xsmall\"}\n                            bsStyle={\"danger\"}\n                            onClick={this.toggleNewModifyPermission}\n                        >\n                            <span className=\"glyphicon glyphicon-minus\" aria-hidden=\"true\" />\n                        </Button>\n                    ) : (\n                            <Button\n                                bsSize={\"xsmall\"}\n                                bsStyle={\"success\"}\n                                onClick={this.toggleNewModifyPermission}\n                            >\n                                <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                            </Button>\n                        )}\n                    <img\n                        src=\"/images/close_toolbar.png\"\n                        alt=\"\"\n                        className=\"close_toolbar\"\n                        onClick={this.props.permissionsToggle}\n                    />\n                </div>\n            );\n        }\n    };\n}\n\nclass PermissionIterator extends React.Component {\n    permissionDelete = () => {\n        let newPermission = {};\n        let tempArr = [];\n        let data = this.props.data;\n        let dataRead = this.props.dataRead;\n        let dataModify = this.props.dataModify;\n        if (this.props.read_modify === \"read\") {\n            for (let i = 0; i < dataRead.length; i++) {\n                if (dataRead[i] !== data) {\n                    tempArr.push(dataRead[i]);\n                }\n            }\n            newPermission.read = tempArr;\n            newPermission.modify = dataModify;\n        } else if (this.props.read_modify === \"modify\") {\n            for (let j = 0; j < dataModify.length; j++) {\n                if (dataModify[j] !== data) {\n                    tempArr.push(dataModify[j]);\n                }\n            }\n            newPermission.read = dataRead;\n            newPermission.modify = tempArr;\n        }\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            data: JSON.stringify({ groups: newPermission }),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function () {\n                console.log(\"success\");\n            },\n            error: function (data) {\n                this.props.errorToggle(\"error Failed to delete group\", data);\n            }.bind(this)\n        });\n    };\n\n    render = () => {\n        let data = this.props.data;\n        let type = this.props.type;\n        if (type === \"entry\") {\n            return (\n                <span id=\"permission_source\" className=\"permissionButton\">\n                    {data}\n                    <span\n                        className=\"fa fa-times permissionButtonClose\"\n                        aria-hidden=\"true\"\n                        onClick={this.permissionDelete}\n                    />\n                </span>\n            );\n        } else {\n            return (\n                <span id=\"permission_source\" className=\"permissionButton\">\n                    {data}\n                    <span\n                        className=\"fa fa-times permissionButtonClose\"\n                        aria-hidden=\"true\"\n                        onClick={this.permissionDelete}\n                    />\n                </span>\n            );\n        }\n    };\n}\n\nclass NewPermission extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            suggestions: this.props.options,\n            key: this.props.updateid,\n        };\n\n    }\n    handleAddition = tag => {\n        let newPermission = {};\n        let dataRead = this.props.dataRead;\n        let dataModify = this.props.dataModify;\n        let toggle = this.props.permissionsToggle;\n        if (this.props.readUpdate === 1) {\n            dataRead.push(tag);\n        } else if (this.props.modifyUpdate === 1) {\n            dataModify.push(tag);\n        }\n        if (this.props.toggleNewModifyPermission !== undefined) {\n            toggle = this.props.toggleNewModifyPermission;\n        } else if (this.props.toggleNewReadPermission !== undefined) {\n            toggle = this.props.toggleNewReadPermission;\n        }\n        newPermission.read = dataRead;\n        newPermission.modify = dataModify;\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            data: JSON.stringify({ groups: newPermission }),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function () {\n                console.log(\"success: permission added\");\n                toggle();\n            },\n            error: function (data) {\n                toggle();\n                this.props.errorToggle(\"error Failed to add group\", data);\n            }.bind(this)\n        });\n    };\n\n    handleInputChange = input => {\n        //blank until there's a lookup for group permissions\n        /*let arr = [];\n            this.serverRequest = $.get('/scot/api/v2/ac/source/' + input, function (result) {\n                let result = result.records;\n                console.log(result);\n                for (let prop in result) {\n                    arr.push(result[prop].value)\n                }\n                this.setState({suggestions:arr})\n            }.bind(this));*/\n    };\n\n    handleDelete = () => {\n        //blank since buttons are handled outside of this\n    };\n\n    handleDrag = () => {\n        //blank since buttons are handled outside of this\n    };\n\n    render() {\n        let suggestions = this.state.suggestions;\n        return (\n            <span className=\"tag-new\">\n                <ReactTags\n                    suggestions={suggestions}\n                    handleAddition={this.handleAddition}\n                    handleInputChange={this.handleInputChange}\n                    handleDelete={this.handleDelete}\n                    handleDrag={this.handleDrag}\n                    minQueryLength={1}\n                    customCSS={1}\n                />\n            </span>\n        );\n    };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\nlet TinyMCE = require(\"react-tinymce\");\nlet Button = require(\"react-bootstrap/lib/Button.js\");\nlet Prompt = require(\"react-router-dom\").Prompt;\nlet Link = require(\"react-router-dom\").Link;\n\nexport default class AddEntryModal extends React.Component {\n  constructor(props) {\n    super(props);\n    let key = new Date();\n    key = key.getTime();\n    let tinyID = \"tiny_\" + key;\n    let content;\n    let asyncContentLoaded;\n    switch (this.props.entryAction) {\n      case \"Add\":\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n      case \"Reply\":\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n      case \"Copy To Entry\":\n        content = this.props.content;\n        asyncContentLoaded = true;\n        break;\n      case \"Edit\":\n        content = \"\";\n        asyncContentLoaded = false;\n        break;\n      case \"Export\":\n        content = this.props.content;\n        asyncContentLoaded = true;\n        break;\n      default:\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n    }\n\n    this.state = {\n      tinyID: tinyID,\n      key: key,\n      content: content,\n      asyncContentLoaded: asyncContentLoaded,\n      leaveCatch: true,\n      whoami: undefined,\n      recentlyUpdated: 0\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n\n    if (this.props.entryAction === \"Edit\") {\n      $.ajax({\n        type: \"GET\",\n        url: \"/scot/api/v2/entry/\" + this.props.id,\n        success: function (response) {\n          this.setState({\n            content: response.body,\n            asyncContentLoaded: true,\n            recentlyUpdated: response.updated\n          });\n          this.forceUpdate();\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle(\n            \"Error getting original data from source. Copy/Paste original\",\n            data\n          );\n          this.setState({\n            content:\n              \"Error getting original data from source. Copy/Paste original\",\n            asyncContentLoaded: true\n          });\n          this.forceUpdate();\n        }.bind(this)\n      });\n    }\n    if ($(\"#not_saved_entry_\" + this.state.key).position()) {\n      $(\".entry-wrapper\").scrollTop(\n        $(\".entry-wrapper\").scrollTop() +\n        $(\"#not_saved_entry_\" + this.state.key).position().top\n      );\n    }\n  };\n\n  shouldComponentUpdate = () => {\n    return false; //prevent updating this component because it causes the page container to scroll upwards and lose focus due to a bug in paste_preprocess. If this is removed it will cause abnormal scrolling.\n  };\n\n  render = () => {\n    let not_saved_entry_id = \"not_saved_entry_\" + this.state.key;\n    return (\n      <div id={not_saved_entry_id} className={\"not_saved_entry\"}>\n        <div\n          className={\"row-fluid entry-outer\"}\n          style={{\n            border: \"3px solid blue\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\"\n          }}\n        >\n          <div className={\"row-fluid entry-header\"}>\n            <div className=\"entry-header-inner\">\n              [\n              <Link style={{ color: \"black\" }} to={\"not_saved_0\"}>\n                Not_Saved_0\n              </Link>\n              ]by {this.state.whoami}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                {this.props.entryAction === \"Export\" ? (\n                  <Button\n                    bsSize={\"xsmall\"}\n                    onClick={this.exportContent}\n                    bsStyle={\"success\"}\n                  >\n                    Export\n                  </Button>\n                ) : (\n                    <Button\n                      bsSize={\"xsmall\"}\n                      onClick={this.submit}\n                      bsStyle={\"success\"}\n                    >\n                      Submit\n                  </Button>\n                  )}\n                <Button bsSize={\"xsmall\"} onClick={this.onCancel}>\n                  Cancel\n                </Button>\n              </span>\n            </div>\n          </div>\n          {this.state.asyncContentLoaded ? (\n            <TinyMCE\n              id={this.state.tinyID}\n              content={this.state.content}\n              className={\"inputtext\"}\n              config={{\n                auto_focus: this.state.tinyID,\n                selector: \"textarea\",\n                plugins:\n                  \"advlist lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template paste textcolor colorpicker textpattern imagetools\",\n                table_clone_elements:\n                  \"strong em b i font h1 h2 h3 h4 h5 h6 p div\",\n                paste_retain_style_properties: \"all\",\n                paste_data_images: true,\n                paste_preprocess: function (plugin, args) {\n                  function replaceA(string) {\n                    return string.replace(/<(\\/)?a([^>]*)>/g, \"<$1span$2>\");\n                  }\n                  args.content = replaceA(args.content) + \" \";\n                },\n                relative_urls: false,\n                remove_script_host: false,\n                link_assume_external_targets: true,\n                toolbar1:\n                  \"full screen spellchecker | undo redo | bold italic | alignleft aligncenter alignright | bullist numlist | forecolor backcolor fontsizeselect fontselect formatselect | blockquote code link image insertdatetime | customBlockquote\",\n                theme: \"modern\",\n                content_css: \"/css/entryeditor.css\",\n                height: 250,\n                verify_html: false,\n                setup: function (editor) {\n                  function blockquote() {\n                    return \"<blockquote><p><br></p></blockquote>\";\n                  }\n\n                  function insertBlockquote() {\n                    let html = blockquote();\n                    editor.insertContent(html);\n                  }\n\n                  editor.addButton(\"customBlockquote\", {\n                    text: \"500px max-height blockquote\",\n                    //image: 'http://p.yusukekamiyamane.com/icons/search/fugue/icons/calendar-blue.png',\n                    tooltip: \"Insert a 500px max-height div (blockquote)\",\n                    onclick: insertBlockquote\n                  });\n                }\n              }}\n            />\n          ) : (\n              <div>Loading Editor...</div>\n            )}\n        </div>\n        <Prompt\n          when={this.state.leaveCatch}\n          message=\"Unsubmitted entry detected. You may want to submit or copy the contents of the entry before navigating elsewhere. Click CANCEL to prevent navigation elsewhere.\"\n        />\n      </div>\n    );\n  };\n\n  onCancel = () => {\n    this.setState({ leaveCatch: false });\n    this.props.addedentry();\n    this.setState({ change: false });\n  };\n\n  submit = () => {\n    if (\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .text() === \"\" &&\n      $(\"#\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .find(\"img\").length === 0\n    ) {\n      alert(\"Please Add Some Text\");\n    } else {\n      if (this.props.entryAction === \"Reply\") {\n        var data = {};\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function (x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function (key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking to see if it's a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = JSON.stringify({\n          parent: Number(this.props.id),\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: this.props.type\n        });\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: data,\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function (response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n          }.bind(this),\n          error: function (response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      } else if (this.props.entryAction === \"Edit\") {\n        $.ajax({\n          type: \"GET\",\n          url: \"/scot/api/v2/entry/\" + this.props.id,\n          success: function (response) {\n            if (this.state.recentlyUpdated !== response.updated) {\n              this.forEdit(false);\n              let set = false;\n              let Confirm = {\n                launch: function (set) {\n                  this.forEdit(set);\n                }.bind(this)\n              };\n              $.confirm({\n                icon: \"glyphicon glyphicon-warning\",\n                confirmButtonClass: \"btn-info\",\n                cancelButtonClass: \"btn-info\",\n                confirmButton: \"Yes, override change\",\n                cancelButton: \"No, Keep edited version from another user\",\n                content: \"edit:\" + \"\\n\\n\" + response.body,\n                backgroundDismiss: false,\n                title: \"Edit Conflict from another user\" + \"\\n\\n\",\n                confirm: function () {\n                  Confirm.launch(true);\n                },\n                cancel: function () {\n                  return;\n                }\n              });\n            } else {\n              this.forEdit(true);\n            }\n          }.bind(this),\n          error: function (data) {\n            this.props.errorToggle(\"failed to get data for edit\", data);\n          }.bind(this)\n        });\n      } else if (this.props.type === \"alert\") {\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function (x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function (key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking if it's a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = JSON.stringify({\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: \"alert\",\n          parent: 0\n        });\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: data,\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function (response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n          }.bind(this),\n          error: function (response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      } else {\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function (x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function (key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking if its a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = {\n          parent: 0,\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: this.props.type\n        };\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: JSON.stringify(data),\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function (response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n          }.bind(this),\n          error: function (response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      }\n    }\n  };\n\n  exportContent = () => {\n    if (this.props.recipients.length > 0) {\n      var data = {};\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .each(function (x, y) {\n          $(y)\n            .find(\"img\")\n            .each(function (key, value) {\n              if ($(value)[0].src.startsWith(\"blob\")) {\n                //Checking to see if it's a locally copied file\n                let canvas = document.createElement(\"canvas\");\n                let set = new Image();\n                set = $(value);\n                canvas.width = set[0].width;\n                canvas.height = set[0].height;\n                let ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(set[0], 0, 0);\n                let dataURL = canvas.toDataURL(\"image/png\");\n                $(value).attr(\"src\", dataURL);\n              }\n            });\n        });\n      data = JSON.stringify({\n        body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .html(),\n        to: this.props.recipients,\n        thing: this.props.type\n      });\n      $.ajax({\n        type: \"post\",\n        url: \"/scot/api/v2/sendexport\",\n        data: data,\n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function () {\n          this.setState({ leaveCatch: false });\n          this.props.exportResponse(\"success\");\n        }.bind(this),\n        error: function (response) {\n          this.props.errorToggle(\n            \"Failed to export \" + this.props.type,\n            response\n          );\n          this.props.exportResponse(\"error\");\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(\"Please enter a valid email address\");\n    }\n  };\n\n  forEdit = set => {\n    if (set) {\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .each(function (x, y) {\n          $(y)\n            .find(\"img\")\n            .each(function (key, value) {\n              if ($(value)[0].src.startsWith(\"blob\")) {\n                //Checking if its a lcoally copied file\n                let canvas = document.createElement(\"canvas\");\n                let set = new Image();\n                set = $(value);\n                canvas.width = set[0].width;\n                canvas.height = set[0].height;\n                let ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(set[0], 0, 0);\n                let dataURL = canvas.toDataURL(\"image/png\");\n                $(value).attr(\"src\", dataURL);\n              }\n            });\n        });\n      let data = {\n        parent: Number(this.props.parent),\n        body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .html(),\n        target_id: Number(this.props.targetid),\n        target_type: this.props.type,\n        parsed: 0\n      };\n      $.ajax({\n        type: \"put\",\n        url: \"/scot/api/v2/entry/\" + this.props.id,\n        data: JSON.stringify(data),\n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function (response) {\n          this.setState({ leaveCatch: false });\n          this.props.addedentry();\n        }.bind(this),\n        error: function (response) {\n          this.props.errorToggle(\"Failed to edit entry.\", response);\n        }.bind(this)\n      });\n    }\n  };\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\n\nexport default class Frame extends React.Component {\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.styleSheets.join('') !== this.props.styleSheets.join('')) {\n            this.updateStylesheets(nextProps.styleSheets);\n        }\n\n        const frame = ReactDOM.findDOMNode(this);\n        ReactDOM.render(\n            nextProps.children,\n            frame.contentDocument.getElementById('root')\n        );\n    }\n\n    componentDidMount() {\n        this.renderFrame();\n\n    }\n\n    componentWillUnmount() {\n        ReactDOM.unmountComponentAtNode(\n            ReactDOM.findDOMNode(this).contentDocument.getElementById('root')\n        );\n    }\n\n\n    updateStylesheets = (styleSheets) => {\n        const links = this.head.querySelectorAll('link');\n        for (let i = 0, l = links.length; i < l; i++) {\n            const link = links[i];\n            link.parentNode.removeChild(link);\n        }\n\n        if (styleSheets && styleSheets.length) {\n            styleSheets.forEach(href => {\n                const link = document.createElement('link');\n                link.setAttribute('rel', 'stylesheet');\n                link.setAttribute('type', 'text/css');\n                link.setAttribute('href', href);\n                this.head.appendChild(link);\n            });\n        }\n    }\n\n\n    renderFrame = () => {\n        const { styleSheets } = this.props;\n        const frame = ReactDOM.findDOMNode(this);\n        const root = document.createElement('div');\n\n        root.setAttribute('id', 'root');\n\n        this.head = frame.contentDocument.head;\n        this.body = frame.contentDocument.body;\n        this.body.appendChild(root);\n\n        this.updateStylesheets(styleSheets);\n\n        ReactDOM.render(this._children, root);\n    }\n\n    render() {\n        this._children = this.props.children;\n        const { children, styleSheets, ...leftover } = this.props;\n\n        return < iframe frameBorder={\"0\"} style={{ width: \"100%\", height: this.props.height }} {...leftover} onLoad={this.renderFrame} />;\n    }\n}\n\n","import React from \"react\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\nimport Dropzone from \"react-dropzone\";\nlet Button = require(\"react-bootstrap/lib/Button.js\");\nlet Link = require(\"react-router-dom\").Link;\nlet finalfiles = [];\n\nexport default class FileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      edit: false,\n      stagecolor: \"#000\",\n      enable: true,\n      addentry: true,\n      saved: true,\n      enablesave: true,\n      whoami: undefined\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n\n    $(\".entry-wrapper\").scrollTop(\n      $(\".entry-wrapper\").scrollTop() +\n        $(\"#not_saved_entry_\" + this.props.id).position().top\n    );\n  };\n\n  render = () => {\n    let not_saved_entry_id = \"not_saved_entry_\" + this.props.id;\n    return (\n      <div id={not_saved_entry_id}>\n        <div\n          className={\"row-fluid entry-outer\"}\n          style={{\n            border: \"3px solid blue\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\"\n          }}\n        >\n          <div className={\"row-fluid entry-header\"}>\n            <div className=\"entry-header-inner\">\n              [\n              <Link style={{ color: \"black\" }} to={\"not_saved_0\"}>\n                Not_Saved_0\n              </Link>\n              ]by {this.state.whoami}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                <Button bsSize={\"xsmall\"} onClick={this.submit}>\n                  Submit\n                </Button>\n                <Button bsSize={\"xsmall\"} onClick={this.onCancel}>\n                  Cancel\n                </Button>\n              </span>\n            </div>\n          </div>\n          <Dropzone\n            onDrop={this.onDrop}\n            style={{\n              \"border-width\": \"2px\",\n              \"border-color\": \"#000\",\n              \"border-radius\": \"4px\",\n              \"border-style\": \"dashed\",\n              \"text-align\": \"center\",\n              \"background-color\": \"azure\"\n            }}\n          >\n            <div style={{ fontSize: \"16px\", color: \"black\", margin: \"5px\" }}>\n              Click or Drop files here to upload\n            </div>\n          </Dropzone>\n          {this.state.files ? (\n            <div>\n              {\" \"}\n              {this.state.files.map(\n                function(file) {\n                  return (\n                    <ul\n                      style={{\n                        \"list-style-type\": \"none\",\n                        margin: \"0\",\n                        padding: \"0\"\n                      }}\n                    >\n                      <li>\n                        <p style={{ display: \"inline\" }}>{file.name}</p>\n                        <button\n                          style={{ \"line-height\": \"1px\" }}\n                          className=\"btn btn-info\"\n                          id={file.name}\n                          onClick={this.Close}\n                        >\n                          x\n                        </button>\n                      </li>\n                    </ul>\n                  );\n                }.bind(this)\n              )}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  };\n\n  onCancel = () => {\n    finalfiles = [];\n    this.props.fileUploadToggle();\n  };\n\n  Close = i => {\n    for (let x = 0; x < finalfiles.length; x++) {\n      if (i.target.id === finalfiles[x].name) {\n        finalfiles.splice(x, 1);\n      }\n    }\n    this.setState({ files: finalfiles });\n  };\n\n  onDrop = files => {\n    for (let i = 0; i < files.length; i++) {\n      finalfiles.push(files[i]);\n    }\n    this.setState({ files: finalfiles });\n  };\n\n  submit = () => {\n    if (finalfiles.length > 0) {\n      for (let i = 0; i < finalfiles.length; i++) {\n        let data = new FormData();\n        data.append(\"upload\", finalfiles[i]);\n        data.append(\"target_type\", this.props.type);\n        data.append(\"target_id\", Number(this.props.targetid));\n        if (this.props.entryid != null) {\n          data.append(\"entry_id\", this.props.entryid);\n        }\n        let xhr = new XMLHttpRequest();\n        xhr.addEventListener(\"progress\", this.uploadProgress);\n        xhr.addEventListener(\"load\", this.uploadComplete);\n        xhr.addEventListener(\"error\", this.uploadFailed);\n        xhr.addEventListener(\"abord\", this.uploadCancelled);\n        xhr.open(\"POST\", \"/scot/api/v2/file\");\n        xhr.send(data);\n      }\n    } else {\n      alert(\"Select a file to upload before submitting.\");\n    }\n  };\n\n  uploadComplete = () => {\n    this.onCancel();\n  };\n\n  uploadFailed = () => {\n    this.props.errorToggle(\"An error occured. Upload failed.\");\n  };\n\n  uploadProgress = () => {\n    //TODO add progress bar\n  };\n\n  uploadCancelled = () => {\n    //this.props.errorToggle('Upload Cancelled');\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\n\nexport default class Summary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: this.props.id\n    };\n  }\n\n  toggle = () => {\n    let newClass;\n    if (this.props.summary === 1) {\n      newClass = \"entry\";\n    } else if (this.props.summary === 0) {\n      newClass = \"summary\";\n    }\n    let json = { class: newClass };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to make summary\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let summaryDisplay = \"Summary Loading...\";\n    let onClick;\n    if (this.props.summary === 0) {\n      summaryDisplay = \"Make Summary\";\n      onClick = this.toggle;\n    } else if (this.props.summary === 1) {\n      summaryDisplay = \"Remove Summary\";\n      onClick = this.toggle;\n    }\n    return (\n      <span style={{ display: \"block\" }} onClick={onClick}>\n        {summaryDisplay}\n      </span>\n    );\n  };\n}\n","import React from \"react\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\n\nexport default class Task extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whoami: undefined\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    this.setState({ whoami: whoami });\n  };\n\n  makeTask = () => {\n    let json = { make_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to close task\", data);\n      }.bind(this)\n    });\n  };\n\n  closeTask = () => {\n    let json = { close_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to close task\", data);\n      }.bind(this)\n    });\n  };\n\n  takeTask = () => {\n    let json = { take_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to make Task owner\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let taskDisplay = \"Task Loading...\";\n    let onClick;\n    if (this.props.taskData.class === \"task\") {\n      if (\n        this.props.taskData.metadata.task.status === undefined ||\n        this.props.taskData.metadata.task.status === null ||\n        this.props.taskData.class !== \"task\"\n      ) {\n        taskDisplay = \"Make Task\";\n        onClick = this.makeTask;\n      } else if (\n        this.state.whoami !== this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"open\"\n      ) {\n        taskDisplay = \"Assign task to me\";\n        onClick = this.takeTask;\n      } else if (\n        this.state.whoami === this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"open\"\n      ) {\n        taskDisplay = \"Close Task\";\n        onClick = this.closeTask;\n      } else if (\n        this.props.taskData.metadata.task.status === \"closed\" ||\n        this.props.taskData.metadata.task.status === \"completed\"\n      ) {\n        taskDisplay = \"Reopen Task\";\n        onClick = this.makeTask;\n      } else if (\n        this.state.whoami === this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"assigned\"\n      ) {\n        taskDisplay = \"Close Task\";\n        onClick = this.closeTask;\n      } else if (\n        this.state.whoami !== this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"assigned\"\n      ) {\n        taskDisplay = \"Assign task to me\";\n        onClick = this.takeTask;\n      }\n    } else {\n      taskDisplay = \"Make Task\";\n      onClick = this.makeTask;\n    }\n    return (\n      <span style={{ display: \"block\" }} onClick={onClick}>\n        {taskDisplay}\n      </span>\n    );\n  };\n}\n","import $ from \"jquery\";\nexport const AddFlair = {\n    entityUpdate: function (\n        entityData,\n        flairToolbarToggle,\n        type,\n        linkWarningToggle,\n        id,\n        scrollTo\n    ) {\n        setTimeout(\n            function () {\n                let entityResult = {};\n                for (let key in entityData) {\n                    entityResult[$(\"<span />\", { html: key }).html()] = entityData[key];\n                }\n\n                if (type !== \"alertgroup\") {\n                    $(\"iframe\").each(\n                        function (index, ifr) {\n                            //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n                            ifr.contentWindow.requestAnimationFrame(function () {\n                                if (ifr.contentDocument != null) {\n                                    let ifrContents = $(ifr).contents();\n                                    //This makes all href point to blank so they don't reload the iframe\n                                    $(ifr.contentDocument.body)\n                                        .find(\"a\")\n                                        .attr(\"target\", \"_blank\");\n                                    //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n                                    ifrContents.find(\"a\").each(function (index, a) {\n                                        let url = $(a).attr(\"href\");\n                                        $(a).attr(\"url\", url);\n                                    });\n                                    //Make href an anchor so it doesn't go anywhere when clicked and instead opens up the modal in linkWarningPopup\n                                    //$(ifr.contentDocument.body).find('a').find('.entity').wrap(\"<a href='about:blank' target='targ'></a>\");\n                                    ifrContents.find(\".entity\").each(function (index, entity) {\n                                        if ($(entity).find(\".extras\")[0] == null) {\n                                            //var currentEntityValue = $(entity).attr('data-entity-value');\n                                            let currentEntityValue = $(\"<span />\", {\n                                                html: $(entity).attr(\"data-entity-value\")\n                                            }).html();\n                                            if (\n                                                currentEntityValue !== undefined &&\n                                                entityResult !== undefined\n                                            ) {\n                                                let entityMatched = entityResult;\n                                                if (\n                                                    entityMatched[currentEntityValue.toLowerCase()] !==\n                                                    undefined\n                                                ) {\n                                                    entityMatched =\n                                                        entityMatched[currentEntityValue.toLowerCase()];\n                                                } else {\n                                                    entityMatched = entityMatched[currentEntityValue];\n                                                }\n\n                                                if (entityMatched !== undefined) {\n                                                    let entityid = entityMatched.id;\n                                                    let entityCount = abbreviateNumber(\n                                                        parseInt(entityMatched.count, 10),\n                                                        0\n                                                    );\n                                                    let entitydata = entityMatched.data;\n                                                    let entityEntryCount = entityMatched.entry;\n                                                    let circle = $('<span class=\"noselect\">');\n                                                    circle.addClass(\"circleNumber\");\n                                                    circle.addClass(\"extras\");\n                                                    circle.text(entityCount);\n                                                    $(entity).append(circle);\n                                                    $(entity).attr(\"data-entity-id\", entityid);\n                                                    $(entity).unbind(\"click\");\n                                                    if (entitydata !== undefined) {\n                                                        if (entitydata.geoip !== undefined) {\n                                                            if (entitydata.geoip.data.isocode !== undefined) {\n                                                                let country_code;\n                                                                if (\n                                                                    entitydata.geoip.data.isp ===\n                                                                    \"Sandia National Laboratories\"\n                                                                ) {\n                                                                    country_code = \"sandia\";\n                                                                } else {\n                                                                    country_code = entitydata.geoip.data.isocode;\n                                                                }\n                                                                let flag = $(\n                                                                    '<img title=\"' +\n                                                                    country_code.toLowerCase() +\n                                                                    '\">'\n                                                                ).attr(\n                                                                    \"src\",\n                                                                    \"/images/flags/\" +\n                                                                    country_code.toLowerCase() +\n                                                                    \".png\"\n                                                                );\n                                                                flag.addClass(\"extras\");\n                                                                $(entity).append(flag);\n                                                            }\n                                                        }\n                                                        if (entitydata.sidd !== undefined) {\n                                                            if (\n                                                                entitydata.sidd.data.blocklist !== undefined\n                                                            ) {\n                                                                if (\n                                                                    entitydata.sidd.data.blocklist.action !==\n                                                                    undefined\n                                                                ) {\n                                                                    if (\n                                                                        entitydata.sidd.data.blocklist.action\n                                                                            .firewall !== false\n                                                                    ) {\n                                                                        $(entity).append(\n                                                                            $(\n                                                                                '<img class=\"extras\" title=\"firewall block\">'\n                                                                            ).attr(\n                                                                                \"src\",\n                                                                                \"/images/flair/firewalled.png\"\n                                                                            )\n                                                                        );\n                                                                    }\n                                                                    if (\n                                                                        entitydata.sidd.data.blocklist.action\n                                                                            .watch !== false\n                                                                    ) {\n                                                                        $(entity).append(\n                                                                            $(\n                                                                                '<img class=\"extras\" title=\"watch list\">'\n                                                                            ).attr(\"src\", \"/images/flair/watch.png\")\n                                                                        );\n                                                                    }\n                                                                    if (\n                                                                        entitydata.sidd.data.blocklist.action\n                                                                            .whitelist !== false\n                                                                    ) {\n                                                                        $(entity).append(\n                                                                            $(\n                                                                                '<img class=\"extras\" title=\"white list\">'\n                                                                            ).attr(\n                                                                                \"src\",\n                                                                                \"/images/flair/white_list.jpg\"\n                                                                            )\n                                                                        );\n                                                                    }\n                                                                    if (\n                                                                        entitydata.sidd.data.blocklist.action\n                                                                            .blackhole !== false\n                                                                    ) {\n                                                                        $(entity).append(\n                                                                            $(\n                                                                                '<img class=\"extras\" title=\"dns black hole\">'\n                                                                            ).attr(\n                                                                                \"src\",\n                                                                                \"/images/flair/blackholed.png\"\n                                                                            )\n                                                                        );\n                                                                    }\n                                                                    if (\n                                                                        entitydata.sidd.data.blocklist.action\n                                                                            .proxy_block !== false\n                                                                    ) {\n                                                                        $(entity).append(\n                                                                            $(\n                                                                                '<img class=\"extras\" title=\"proxy block\">'\n                                                                            ).attr(\"src\", \"/images/flair/blocked.png\")\n                                                                        );\n                                                                    }\n                                                                }\n                                                            }\n                                                        }\n                                                    }\n\n                                                    if (entityEntryCount !== undefined) {\n                                                        if (entityEntryCount !== 0) {\n                                                            let entityEntry =\n                                                                entityMatched.entries[0].body_plain;\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"' +\n                                                                    entityEntry +\n                                                                    '\">'\n                                                                ).attr(\"src\", \"/images/flair/note.png\")\n                                                            );\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n                                    });\n                                    //}\n                                    //pentry(ifr,flairToolbarToggle,type,linkWarningToggle,id);\n                                }\n                            });\n                        }.bind(this)\n                    );\n                } else if (type === \"alertgroup\") {\n                    $(document.body)\n                        .find(\".alertTableHorizontal\")\n                        .find(\".entity\")\n                        .each(function (index, entity) {\n                            if ($(entity).find(\".extras\")[0] == null) {\n                                let subtable = $(document.body).find(\".alertTableHorizontal\");\n                                subtable.find(\"a\").attr(\"target\", \"_blank\");\n                                subtable\n                                    .find(\"a\")\n                                    .find(\".entity\")\n                                    .wrap(\"<a href='about:blank' target='targ'></a>\");\n                                //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n                                subtable.find(\"a\").each(function (index, a) {\n                                    let url = $(a).attr(\"href\");\n                                    $(a).attr(\"url\", url);\n                                });\n                                //var currentEntityValue = $(entity).attr('data-entity-value');\n                                let currentEntityValue = $(\"<span />\", {\n                                    html: $(entity).attr(\"data-entity-value\")\n                                }).html();\n                                if (\n                                    currentEntityValue !== undefined &&\n                                    entityResult !== undefined\n                                ) {\n                                    let entityMatched = entityResult;\n                                    if (\n                                        entityMatched[currentEntityValue.toLowerCase()] !==\n                                        undefined\n                                    ) {\n                                        entityMatched =\n                                            entityMatched[currentEntityValue.toLowerCase()];\n                                    } else {\n                                        entityMatched = entityMatched[currentEntityValue];\n                                    }\n\n                                    if (entityMatched !== undefined) {\n                                        let entityid = entityMatched.id;\n                                        let entityCount = abbreviateNumber(entityMatched.count);\n                                        let entitydata = entityMatched.data;\n                                        let entityEntryCount = entityMatched.entry;\n                                        let circle = $('<span class=\"noselect\">');\n                                        circle.addClass(\"circleNumber\");\n                                        circle.addClass(\"extras\");\n                                        circle.text(entityCount);\n                                        $(entity).append(circle);\n                                        $(entity).attr(\"data-entity-id\", entityid);\n                                        $(entity).unbind(\"click\");\n                                        if (entitydata !== undefined) {\n                                            if (entitydata.geoip !== undefined) {\n                                                if (entitydata.geoip.data.isocode !== undefined) {\n                                                    let country_code;\n                                                    if (\n                                                        entitydata.geoip.data.isp ===\n                                                        \"Sandia National Laboratories\"\n                                                    ) {\n                                                        country_code = \"sandia\";\n                                                    } else {\n                                                        country_code = entitydata.geoip.data.isocode;\n                                                    }\n                                                    let flag = $(\n                                                        '<img title=\"' + country_code.toLowerCase() + '\">'\n                                                    ).attr(\n                                                        \"src\",\n                                                        \"/images/flags/\" +\n                                                        country_code.toLowerCase() +\n                                                        \".png\"\n                                                    );\n                                                    flag.addClass(\"extras\");\n                                                    $(entity).append(flag);\n                                                }\n                                            }\n                                            if (entitydata.sidd !== undefined) {\n                                                if (entitydata.sidd.data.blocklist !== undefined) {\n                                                    if (\n                                                        entitydata.sidd.data.blocklist.action !== undefined\n                                                    ) {\n                                                        if (\n                                                            entitydata.sidd.data.blocklist.action.firewall !==\n                                                            false\n                                                        ) {\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"firewall block\">'\n                                                                ).attr(\"src\", \"/images/flair/firewalled.png\")\n                                                            );\n                                                        }\n                                                        if (\n                                                            entitydata.sidd.data.blocklist.action.watch !==\n                                                            false\n                                                        ) {\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"watch list\">'\n                                                                ).attr(\"src\", \"/images/flair/watch.png\")\n                                                            );\n                                                        }\n                                                        if (\n                                                            entitydata.sidd.data.blocklist.action\n                                                                .whitelist !== false\n                                                        ) {\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"white list\">'\n                                                                ).attr(\"src\", \"/images/flair/white_list.jpg\")\n                                                            );\n                                                        }\n                                                        if (\n                                                            entitydata.sidd.data.blocklist.action\n                                                                .blackhole !== false\n                                                        ) {\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"dns black hole\">'\n                                                                ).attr(\"src\", \"/images/flair/blackholed.png\")\n                                                            );\n                                                        }\n                                                        if (\n                                                            entitydata.sidd.data.blocklist.action\n                                                                .proxy_block !== false\n                                                        ) {\n                                                            $(entity).append(\n                                                                $(\n                                                                    '<img class=\"extras\" title=\"proxy block\">'\n                                                                ).attr(\"src\", \"/images/flair/blocked.png\")\n                                                            );\n                                                        }\n                                                    }\n                                                }\n                                            }\n                                        }\n\n                                        if (entityEntryCount !== undefined) {\n                                            if (entityEntryCount !== 0) {\n                                                let entityEntry = entityMatched.entries[0].body_plain;\n                                                $(entity).append(\n                                                    $(\n                                                        '<img class=\"extras\" title=\"' + entityEntry + '\">'\n                                                    ).attr(\"src\", \"/images/flair/note.png\")\n                                                );\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        });\n                }\n                if (scrollTo !== undefined) {\n                    scrollTo();\n                }\n            }.bind(this),\n            1000\n        );\n    }\n};\n\n/* Placed in selectedHeader and selectedEntry accordingly\nvar Watcher = {\n    pentry: function(ifr,flairToolbarToggle,type,linkWarningToggle,id) {\n        if(type != 'alertgroup') {\n            $('iframe').each(function(index,ifr) {\n                //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n                ifr.contentWindow.requestAnimationFrame( function() {\n                    if(ifr.contentDocument != null) {\n                        $(ifr).hover( function() {\n                            var intervalID = setInterval(checkFlairHover, 50, ifr, flairToolbarToggle,type,linkWarningToggle);\n                            $(ifr).data('intervalID', intervalID);\n                            console.log('Now watching iframe ' + intervalID);\n                        }, function() {\n                            var intervalID = $(ifr).data('intervalID');\n                            window.clearInterval(intervalID);\n                            console.log('No longer watching iframe ' + intervalID);\n                        }).bind(this);\n                    }\n                }.bind(this))\n            }.bind(this))\n        } else {\n            $('.alert-wrapper').find('a, .entity').not('.not_selectable').each(function(index,tr) {\n                $(tr).hover( function() {\n                    var intervalID = setInterval(checkFlairHover, 50, null, flairToolbarToggle,type,linkWarningToggle,id);\n                    $(tr).data('intervalID', intervalID);\n                    console.log('Now watching item ' + intervalID);\n                }, function() {\n                    var intervalID = $(tr).data('intervalID');\n                    window.clearInterval(intervalID);\n                    console.log('No longer watching item ' + intervalID);\n                }).bind(this);\n            }).bind(this)\n        }\n    }\n}\n\nfunction checkFlairHover(iframe,flairToolbarToggle,type,linkWarningToggle,id) {\n    if(type != 'alertgroup') {\n        if(iframe.contentDocument != null) {\n            $(iframe).contents().find('.entity').each(function(index, entity) {\n                if($(entity).css('background-color') == 'rgb(255, 0, 0)') {\n                    $(entity).data('state', 'down');\n                } else if ($(entity).data('state') == 'down') {\n                    $(entity).data('state', 'up');\n                    var entityid = $(entity).attr('data-entity-id');\n                    var entityvalue = $(entity).attr('data-entity-value');\n                    infopop(entityid, entityvalue, flairToolbarToggle);\n                }\n            }.bind(this));\n        }\n        if(iframe.contentDocument != null) {\n            $(iframe).contents().find('a').each(function(index,a) {\n                if($(a).css('color') == 'rgb(255, 0, 0)') {\n                    $(a).data('state','down');\n                } else if ($(a).data('state') == 'down') {\n                    $(a).data('state','up');\n                    var url = $(a).attr('url');\n                    linkWarningPopup(url,linkWarningToggle);\n                }\n            }.bind(this));\n        }\n    } else if (type == 'alertgroup') {\n        var subtable = $(document.body).find('.alertTableHorizontal');\n        subtable.find('.entity').each(function(index, entity) {\n            if($(entity).css('background-color') == 'rgb(255, 0, 0)') {\n                $(entity).data('state', 'down');\n            } else if ($(entity).data('state') == 'down') {\n                $(entity).data('state', 'up');\n                var entityid = $(entity).attr('data-entity-id');\n                var entityvalue = $(entity).attr('data-entity-value');\n                infopop(entityid, entityvalue, flairToolbarToggle);\n            }\n        }.bind(this));\n        subtable.find('a').each(function(index,a) {\n            if($(a).css('color') == 'rgb(255, 0, 0)') {\n                $(a).data('state','down');\n            } else if ($(a).data('state') == 'down') {\n                $(a).data('state','up');\n                var url = $(a).attr('url');\n                linkWarningPopup(url,linkWarningToggle);\n            }\n        }.bind(this));\n    }\n}\n\nfunction infopop(entityid, entityvalue, flairToolbarToggle) {\n    flairToolbarToggle(entityid,entityvalue,'entity');\n}\nfunction linkWarningPopup(url,linkWarningToggle) {\n    linkWarningToggle(url);\n}*/\nfunction abbreviateNumber(num, fixed) {\n    if (num === null) {\n        return null;\n    } // terminate early\n    if (num === 0) {\n        return \"0\";\n    } // terminate early\n    fixed = !fixed || fixed < 0 ? 0 : fixed; // number of decimal places to show\n    let b = num.toPrecision(2).split(\"e\"), // get power\n        k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions\n        c =\n            k < 1\n                ? num.toFixed(0 + fixed)\n                : (num / Math.pow(10, k * 3)).toFixed(1 + fixed), // divide by power\n        d = c < 0 ? c : Math.abs(c), // enforce -0 is 0\n        e = d + [\"\", \"K\", \"M\", \"B\", \"T\"][k]; // append power\n    return e;\n}\nexport default AddFlair;\n//module.exports = {AddFlair, Watcher}\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Button\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class LinkWarning extends React.Component {\n  proceed = () => {\n    window.open(this.props.link);\n    this.props.linkWarningToggle();\n  };\n\n  componentWillMount = () => {\n    let myDomain = window.location.href;\n    let reg = new RegExp(\n      /((https?|ftp):\\/\\/[a-zA-Z0-9\\-_\\.]+\\.)?([a-zA-Z0-9\\-_\\.]+\\.([a-zA-Z]{1,63}))/,\n      \"i\"\n    );\n    let linkRegResult = this.props.link.match(reg);\n    let myDomainRegResult = myDomain.match(reg);\n    if (linkRegResult !== undefined && myDomainRegResult !== undefined) {\n      let linkDomain = linkRegResult[3];\n      let myDomain = myDomainRegResult[3];\n      if (linkDomain === myDomain) {\n        this.proceed();\n      }\n    } else if (linkRegResult === undefined) {\n      this.proceed();\n    }\n    /*\n        if ($.isUrlInternal(this.props.link)) {\n            this.proceed();\n        }*/\n  };\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.linkWarningToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              alt=\"\"\n              onClick={this.props.linkWarningToggle}\n            />\n            <h3 id=\"myModalLabel\">Browse to site?</h3>\n          </div>\n          <div className=\"modal-body\">\n            The link you clicked may take you to a site outside SCOT. If this is\n            a link an attacker controls you may be tipping your hand.\n            <br />\n            <b>{this.props.link}</b>\n          </div>\n          <div className=\"modal-footer\">\n            <Button id=\"cancel-delete\" onClick={this.props.linkWarningToggle}>\n              Cancel\n            </Button>\n            <Button bsStyle=\"info\" id=\"proceed\" onClick={this.proceed}>\n              Proceed\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport AceEditor from \"react-ace\";\nimport Button from \"react-bootstrap/lib/Button.js\";\nimport DropdownButton from \"react-bootstrap/lib/DropdownButton.js\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem.js\";\nimport \"brace/mode/bro\";\nimport \"brace/mode/javascript\";\nimport \"brace/mode/java\";\nimport \"brace/mode/python\";\nimport \"brace/mode/xml\";\nimport \"brace/mode/ruby\";\nimport \"brace/mode/sass\";\nimport \"brace/mode/markdown\";\nimport \"brace/mode/mysql\";\nimport \"brace/mode/json\";\nimport \"brace/mode/html\";\nimport \"brace/mode/c_cpp\";\nimport \"brace/mode/csharp\";\nimport \"brace/mode/perl\";\nimport \"brace/mode/powershell\";\nimport \"brace/mode/yaml\";\nimport \"brace/theme/github\";\nimport \"brace/theme/monokai\";\nimport \"brace/theme/kuroir\";\nimport \"brace/theme/solarized_dark\";\nimport \"brace/theme/solarized_light\";\nimport \"brace/theme/terminal\";\nimport \"brace/theme/textmate\";\nimport \"brace/theme/tomorrow\";\nimport \"brace/theme/twilight\";\nimport \"brace/theme/xcode\";\nimport \"brace/keybinding/vim\";\nimport \"brace/keybinding/emacs\";\nimport * as Cookies from \"../utils/cookies\";\nimport $ from \"jquery\";\n\nexport default class SignatureTable extends React.Component {\n    constructor(props) {\n        super(props);\n        let key = new Date();\n        key = key.getTime();\n        let value = \"\";\n        let currentKeyboardHandler = \"none\";\n        let currentLanguageMode = \"java\";\n        let currentEditorTheme = \"github\";\n        let viewVersionid = this.props.headerData.prod_sigbody_id;\n        let viewSigBodyid;\n        if (Cookies.checkCookie(\"signatureKeyboardHandler\") !== undefined) {\n            currentKeyboardHandler = Cookies.checkCookie(\"signatureKeyboardHandler\");\n        }\n        if (Cookies.checkCookie(\"signatureLanguageMode\") !== undefined) {\n            currentLanguageMode = Cookies.checkCookie(\"signatureLanguageMode\");\n        }\n        if (Cookies.checkCookie(\"signatureEditorTheme\") !== undefined) {\n            currentEditorTheme = Cookies.checkCookie(\"signatureEditorTheme\");\n        }\n        if (\n            Object.keys(this.props.headerData.version).length !== 0 &&\n            this.props.headerData.version.constructor !== Object\n        ) {\n            //if (!jQuery.isEmptyObject(this.props.headerData.version)) {\n            if (\n                this.props.headerData.version[this.props.headerData.data.prod_sigbody_id] !==\n                undefined ||\n                this.props.headerData.version[this.props.headerData.data.prod_sigbody_id] ===\n                0\n            ) {\n                value = this.props.headerData.version[\n                    this.props.headerData.data.prod_sigbody_id\n                ].body;\n                viewSigBodyid = this.props.headerData.version[\n                    this.props.headerData.data.prod_sigbody_id\n                ].id;\n            } else {\n                for (let key in this.props.headerData.version) {\n                    if (key < viewVersionid) {\n                        continue;\n                    } else {\n                        viewVersionid = key;\n                        value = this.props.headerData.version[key].body;\n                        viewSigBodyid = this.props.headerData.version[key].id;\n                    }\n                }\n            }\n        }\n        this.state = {\n            readOnly: true,\n            value: value,\n            signatureData: this.props.headerData,\n            loaded: true,\n            viewSigBodyid: viewSigBodyid,\n            viewVersionid: viewVersionid,\n            lastViewVersionid: null,\n            key: key,\n            cursorEnabledDisabled: \"cursorDisabled\",\n            keyboardHandlers: [\"none\", \"vim\", \"emacs\"],\n            currentKeyboardHandler: currentKeyboardHandler,\n            languageModes: [\n                \"bro\",\n                \"csharp\",\n                \"c_cpp\",\n                \"html\",\n                \"javascript\",\n                \"java\",\n                \"json\",\n                \"markdown\",\n                \"mysql\",\n                \"perl\",\n                \"powershell\",\n                \"python\",\n                \"ruby\",\n                \"sass\",\n                \"xml\",\n                \"yaml\"\n            ],\n            currentLanguageMode: currentLanguageMode,\n            editorThemes: [\n                \"github\",\n                \"monokai\",\n                \"kuroir\",\n                \"solarized_dark\",\n                \"solarized_light\",\n                \"terminal\",\n                \"textmate\",\n                \"tomorrow\",\n                \"twilight\",\n                \"xcode\"\n            ],\n            currentEditorTheme: currentEditorTheme,\n            ajaxType: null\n        };\n    }\n\n    onChange(value) {\n        this.setState({ value: value });\n    }\n\n    submitSigBody = e => {\n        let url = \"scot/api/v2/sigbody/\";\n        let versionid = this.state.viewVersionid; //version revision if creating a new sigbody\n        if (this.state.ajaxType === \"put\") {\n            versionid = this.state.viewSigBodyid; //version id (not revision id) if editing an existing sigbody\n            url = \"scot/api/v2/sigbody/\" + versionid;\n        }\n        $.ajax({\n            type: this.state.ajaxType,\n            url: url,\n            data: JSON.stringify({\n                signature_id: parseInt(this.props.id, 10),\n                body: this.state.value\n            }),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"successfully changed signature data\");\n                let viewVersionid;\n                if (data.revision === undefined) {\n                    viewVersionid = this.state.viewVersionid;\n                } else {\n                    viewVersionid = data.revision;\n                }\n                this.setState({\n                    readOnly: true,\n                    cursorEnabledDisabled: \"cursorDisabled\",\n                    ajaxType: null,\n                    viewVersionid: viewVersionid,\n                    viewSigBodyid: data.id\n                });\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"Failed to create/update sigbody\", data);\n            }.bind(this)\n        });\n    };\n\n    componentWillReceiveProps = nextProps => {\n        this.setState({ signatureData: nextProps.headerData });\n    };\n\n    editSigBody = e => {\n        this.setState({\n            readOnly: false,\n            lastViewVersionid: this.state.viewVersionid,\n            cursorEnabledDisabled: \"cursorEnabled\",\n            ajaxType: \"put\"\n        });\n    };\n\n    createNewSigBody = () => {\n        this.setState({\n            readOnly: false,\n            viewVersionid: null,\n            lastViewVersionid: this.state.viewVersionid,\n            value: \"\",\n            cursorEnabledDisabled: \"cursorEnabled\",\n            ajaxType: \"post\"\n        });\n    };\n\n    createNewSigBodyFromSig = () => {\n        this.setState({\n            readOnly: false,\n            lastViewVersionid: this.state.viewVersionid,\n            cursorEnabledDisabled: \"cursorEnabled\",\n            ajaxType: \"post\",\n            viewVersionid: null\n        });\n    };\n\n    Cancel = () => {\n        let value = \"\";\n        if (\n            Object.keys(this.state.signatureData.version).length !== 0 &&\n            this.state.signatureData.version.constructor !== Object\n        ) {\n            // if (!jQuery.isEmptyObject(this.state.signatureData.version)) {\n            if (\n                this.state.signatureData.version[\n                this.state.signatureData.data.prod_sigbody_id\n                ] !== undefined\n            ) {\n                value = this.state.signatureData.version[this.state.lastViewVersionid]\n                    .body;\n            }\n        }\n        this.setState({\n            readOnly: true,\n            value: value,\n            viewVersionid: this.state.lastViewVersionid,\n            cursorEnabledDisabled: \"cursorDisabled\",\n            ajaxType: null\n        });\n    };\n\n    viewSigBody = e => {\n        if (this.state.readOnly === true) {\n            //only allow button click if you can't edit the signature\n            this.setState({\n                value: this.state.signatureData.version[e.target.id].body,\n                viewVersionid: e.target.id,\n                viewSigBodyid: e.target.viewSigBodyid\n            });\n        }\n    };\n\n    keyboardHandlerUpdate = e => {\n        Cookies.setCookie(\"signatureKeyboardHandler\", e.target.text, 1000);\n        this.setState({ currentKeyboardHandler: e.target.text });\n    };\n\n    languageModeUpdate = e => {\n        Cookies.setCookie(\"signatureLanguageMode\", e.target.text, 1000);\n        this.setState({ currentLanguageMode: e.target.text });\n    };\n\n    editorThemeUpdate = e => {\n        Cookies.setCookie(\"signatureEditorTheme\", e.target.text, 1000);\n        this.setState({ currentEditorTheme: e.target.text });\n    };\n\n    render = () => {\n        let versionsArray = [];\n        let keyboardHandlersArray = [];\n        let languageModesArray = [];\n        let editorThemesArray = [];\n        let not_saved_signature_entry_id =\n            \"not_saved_signature_entry_\" + this.state.key;\n        let currentKeyboardHandlerApplied = this.state.currentKeyboardHandler;\n        let viewVersionid = [];\n        let highestVersionid = 0;\n        if (\n            Object.keys(this.state.signatureData).length !== 0 &&\n            this.state.signatureData.constructor !== Object\n        ) {\n            //if (!jQuery.isEmptyObject(this.state.signatureData)) {\n            if (\n                Object.keys(this.state.signatureData.version).length !== 0 &&\n                this.state.signatureData.version.constructor !== Object\n            ) {\n                //if (!jQuery.isEmptyObject(this.state.signatureData.version)) {\n                for (let key in this.state.signatureData.version) {\n                    let versionidrevision = this.state.signatureData.version[key]\n                        .revision;\n                    let versionidrevisionprodqual = this.state.signatureData.version[key]\n                        .revision;\n                    let versionidSigBodyid = this.state.signatureData.version[key].id;\n                    if (this.state.signatureData.data.prod_sigbody_id === versionidrevision) {\n                        versionidrevisionprodqual = versionidrevision + \" - Production\";\n                    } else if (\n                        this.state.signatureData.data.qual_sigbody_id === versionidrevision\n                    ) {\n                        versionidrevisionprodqual = versionidrevision + \" - Quality\";\n                    } //add production and quality text to identify current status on the menu\n                    let disabled;\n                    if (this.state.readOnly === true) {\n                        disabled = false;\n                    } else {\n                        disabled = true;\n                    }\n                    versionsArray.push(\n                        <MenuItem\n                            id={versionidrevision}\n                            key={versionidrevision}\n                            onClick={this.viewSigBody}\n                            eventKey={versionidrevision}\n                            viewSigBodyid={versionidSigBodyid}\n                            bsSize={\"xsmall\"}\n                            disabled={disabled}\n                        >\n                            {versionidrevisionprodqual}\n                        </MenuItem>\n                    );\n                    if (versionidrevision > highestVersionid) {\n                        highestVersionid = versionidrevision;\n                    }\n                }\n            }\n        }\n\n        if (this.state.keyboardHandlers !== undefined) {\n            for (let i = 0; i < this.state.keyboardHandlers.length; i++) {\n                keyboardHandlersArray.push(\n                    <MenuItem\n                        id={i}\n                        key={i}\n                        onClick={this.keyboardHandlerUpdate}\n                        eventKey={i}\n                        bsSize={\"xsmall\"}\n                    >\n                        {this.state.keyboardHandlers[i]}\n                    </MenuItem>\n                );\n            }\n        }\n\n        if (this.state.currentKeyboardHandler === \"none\") {\n            currentKeyboardHandlerApplied = null;\n        }\n\n        if (this.state.languageModes !== undefined) {\n            for (let i = 0; i < this.state.languageModes.length; i++) {\n                languageModesArray.push(\n                    <MenuItem\n                        id={i}\n                        key={i}\n                        onClick={this.languageModeUpdate}\n                        eventKey={i}\n                        bsSize={\"xsmall\"}\n                    >\n                        {this.state.languageModes[i]}\n                    </MenuItem>\n                );\n            }\n        }\n\n        if (this.state.editorThemes !== undefined) {\n            for (let i = 0; i < this.state.editorThemes.length; i++) {\n                editorThemesArray.push(\n                    <MenuItem\n                        id={i}\n                        key={i}\n                        onClick={this.editorThemeUpdate}\n                        eventKey={i}\n                        bsSize={\"xsmall\"}\n                    >\n                        {this.state.editorThemes[i]}\n                    </MenuItem>\n                );\n            }\n        }\n        if (this.state.signatureData.data.prod_sigbody_id === this.state.viewVersionid) {\n            viewVersionid.push(\n                <span className=\"signature_production_color\">\n                    {this.state.viewVersionid} - Production\n        </span>\n            );\n        } else if (\n            this.state.signatureData.data.qual_sigbody_id === this.state.viewVersionid\n        ) {\n            viewVersionid.push(\n                <span className=\"signature_quality_color\">\n                    {this.state.viewVersionid} - Quality\n        </span>\n            );\n        } else {\n            viewVersionid.push(<span>{this.state.viewVersionid}</span>);\n        }\n        return (\n            <div id={\"signatureDetail\"} className=\"signatureDetail\">\n                {this.state.loaded ? (\n                    <div>\n                        <SignatureMetaData\n                            signatureData={this.state.signatureData}\n                            type={this.props.type}\n                            id={this.props.id}\n                            currentLanguageMode={this.state.currentLanguageMode}\n                            currentEditorTheme={this.state.currentEditorTheme}\n                            currentKeyboardHandlerApplied={currentKeyboardHandlerApplied}\n                            errorToggle={this.props.errorToggle}\n                            showSignatureOptions={this.props.showSignatureOptions}\n                        />\n                        <div\n                            id={not_saved_signature_entry_id}\n                            className={\"not_saved_signature_entry\"}\n                        >\n                            <div\n                                className={\"row-fluid signature-entry-outer\"}\n                                style={{ marginLeft: \"auto\", marginRight: \"auto\" }}\n                            >\n                                <div className={\"row-fluid signature-entry-header\"}>\n                                    <div className=\"signature-entry-header-inner\">\n                                        Signature Body: {viewVersionid}\n                                        <span\n                                            className=\"pull-right\"\n                                            style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n                                        >\n                                            Editor Theme:\n                      <DropdownButton\n                                                bsSize={\"xsmall\"}\n                                                title={this.state.currentEditorTheme}\n                                                id=\"bg-nested-dropdown\"\n                                                style={{ marginRight: \"10px\" }}\n                                            >\n                                                {editorThemesArray}\n                                            </DropdownButton>\n                                            Language Handler:\n                      <DropdownButton\n                                                bsSize={\"xsmall\"}\n                                                title={this.state.currentLanguageMode}\n                                                id=\"bg-nested-dropdown\"\n                                                style={{ marginRight: \"10px\" }}\n                                            >\n                                                {languageModesArray}\n                                            </DropdownButton>\n                                            Keyboard Handler:\n                      <DropdownButton\n                                                bsSize={\"xsmall\"}\n                                                title={this.state.currentKeyboardHandler}\n                                                id=\"bg-nested-dropdown\"\n                                                style={{ marginRight: \"10px\" }}\n                                            >\n                                                {keyboardHandlersArray}\n                                            </DropdownButton>\n                                            Signature Body Version:\n                      <DropdownButton\n                                                bsSize={\"xsmall\"}\n                                                title={viewVersionid}\n                                                id=\"bg-nested-dropdown\"\n                                                style={{ marginRight: \"10px\" }}\n                                            >\n                                                {versionsArray}\n                                            </DropdownButton>\n                                            {this.state.readOnly ? (\n                                                <span>\n                                                    <Button\n                                                        bsSize={\"xsmall\"}\n                                                        onClick={this.createNewSigBody}\n                                                        bsStyle={\"success\"}\n                                                    >\n                                                        Create new version\n                          </Button>\n                                                    {this.state.viewVersionid !== 0 ? (\n                                                        <span>\n                                                            <Button\n                                                                bsSize={\"xsmall\"}\n                                                                onClick={this.createNewSigBodyFromSig}\n                                                            >\n                                                                Create new version using this base\n                              </Button>\n                                                            <Button\n                                                                bsSize={\"xsmall\"}\n                                                                onClick={this.editSigBody}\n                                                            >\n                                                                Update displayed version\n                              </Button>\n                                                        </span>\n                                                    ) : null}\n                                                </span>\n                                            ) : (\n                                                    <span>\n                                                        <Button\n                                                            bsSize={\"xsmall\"}\n                                                            onClick={this.submitSigBody}\n                                                        >\n                                                            Submit\n                          </Button>\n                                                        <Button bsSize={\"xsmall\"} onClick={this.Cancel}>\n                                                            Cancel\n                          </Button>\n                                                    </span>\n                                                )}\n                                        </span>\n                                    </div>\n                                </div>\n                                <AceEditor\n                                    mode={this.state.currentLanguageMode}\n                                    theme={this.state.currentEditorTheme}\n                                    onChange={this.onChange}\n                                    name=\"signatureEditor\"\n                                    editorProps={{ $blockScrolling: true }}\n                                    keyboardHandler={currentKeyboardHandlerApplied}\n                                    value={this.state.value}\n                                    width=\"100%\"\n                                    maxLines={50}\n                                    minLines={10}\n                                    readOnly={this.state.readOnly}\n                                    className={this.state.cursorEnabledDisabled}\n                                    showPrintMargin={false}\n                                />\n                            </div>\n                        </div>\n                    </div>\n                ) : (\n                        <div>Loading Signature Data...</div>\n                    )}\n            </div>\n        );\n    };\n}\n\nclass SignatureMetaData extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            optionsValue: JSON.stringify(this.props.signatureData.options)\n        };\n    }\n\n    submitMetaData = event => {\n        let k = event.target.id;\n        let v = event.target.value;\n        if (k === \"options\" || k === \"target\") {\n            try {\n                v = JSON.parse(v);\n            } catch (err) {\n                this.props.errorToggle(\n                    \"Failed to convert string to object. Try adding quotation marks around the key and values\"\n                );\n                return;\n            }\n            let optionsType = typeof v;\n            if (optionsType !== \"object\") {\n                this.props.errorToggle(\n                    \"options need to be an object but were detected as: \" + optionsType\n                );\n                return;\n            }\n        } //Convery v to JSON for options as its type is JSON\n        let json = {};\n        json[k] = v;\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/signature/\" + this.props.id,\n            data: JSON.stringify(json),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"successfully changed signature data\");\n            },\n            error: function (data) {\n                this.props.errorToggle(\"Failed to update signature metadata\", data);\n            }.bind(this)\n        });\n    };\n\n    onOptionsChange = optionsValue => {\n        this.setState({ optionsValue: optionsValue });\n    };\n\n    render = () => {\n        return (\n            <div>\n                {this.props.showSignatureOptions ? (\n                    <div id=\"signatureTable2\" className=\"signatureTableOptions\">\n                        <div\n                            className={\"row-fluid signature-entry-outer\"}\n                            style={{ marginLeft: \"auto\", marginRight: \"auto\" }}\n                        >\n                            <div className={\"row-fluid signature-entry-header\"}>\n                                <div className=\"signature-entry-header-inner\">\n                                    Signature Options\n                  <Button\n                                        type=\"submit\"\n                                        bsSize=\"xsmall\"\n                                        bsStyle=\"success\"\n                                        onClick={this.submitMetaData}\n                                        id={\"options\"}\n                                        value={this.state.optionsValue}\n                                    >\n                                        Apply\n                  </Button>\n                                </div>\n                            </div>\n                            <AceEditor\n                                mode=\"json\"\n                                theme={this.props.currentEditorTheme}\n                                onChange={this.onOptionsChange}\n                                name=\"signatureEditorOptions\"\n                                editorProps={{ $blockScrolling: true }}\n                                keyboardHandler={this.props.currentKeyboardHandlerApplied}\n                                value={this.state.optionsValue}\n                                minLines={10}\n                                maxLines={25}\n                                width=\"100%\"\n                                readOnly={false}\n                                showPrintMargin={false}\n                            />\n                        </div>\n                    </div>\n                ) : null}\n            </div>\n        );\n    };\n}\n\nclass SignatureGroup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            signatureGroupValue: \"\"\n        };\n    }\n\n    handleAddition = signature_group => {\n        let newSignatureGroupArr = [];\n        let data = this.props.data;\n        for (let i = 0; i < data.length; i++) {\n            if (data[i] != undefined) {\n                if (typeof data[i] == \"string\") {\n                    newSignatureGroupArr.push(data[i]);\n                } else {\n                    newSignatureGroupArr.push(data[i].value);\n                }\n            }\n        }\n        newSignatureGroupArr.push(signature_group.target.value);\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/signature/\" + this.props.id,\n            data: JSON.stringify({ signature_group: newSignatureGroupArr }),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"success: signature_group added\");\n                this.setState({ signatureGroupValue: \"\" });\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"Failed to add signature_group\", data);\n            }.bind(this)\n        });\n    };\n\n    InputChange = event => {\n        this.setState({ signatureGroupValue: event.target.value });\n    };\n\n    handleDelete = event => {\n        let data = this.props.data;\n        let clickedThing = event.target.id;\n        let newSignatureGroupArr = [];\n        for (let i = 0; i < data.length; i++) {\n            if (data[i] !== undefined) {\n                if (typeof data[i] === \"string\") {\n                    if (data[i] !== clickedThing) {\n                        newSignatureGroupArr.push(data[i]);\n                    }\n                } else {\n                    if (data[i].value !== clickedThing) {\n                        newSignatureGroupArr.push(data[i].value);\n                    }\n                }\n            }\n        }\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/signature/\" + this.props.id,\n            data: JSON.stringify({ signature_group: newSignatureGroupArr }),\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"deleted signature_group success: \" + data);\n            },\n            error: function (data) {\n                this.props.errorToggle(\"Failed to delete signature_group\", data);\n            }.bind(this)\n        });\n    };\n\n    render = () => {\n        let data = this.props.data;\n        let signatureGroupArr = [];\n        let value;\n        for (let i = 0; i < data.length; i++) {\n            if (typeof data[i] === \"string\") {\n                value = data[i];\n            } else if (typeof data[i] === \"object\") {\n                if (data[i] !== undefined) {\n                    value = data[i].value;\n                }\n            }\n            signatureGroupArr.push(\n                <span id=\"event_signature\" className=\"tagButton\">\n                    {value}{\" \"}\n                    <i\n                        id={value}\n                        onClick={this.handleDelete}\n                        className=\"fa fa-times tagButtonClose\"\n                    />\n                </span>\n            );\n        }\n        return (\n            <div className=\"col-lg-2 col-md-4\">\n                <span className=\"signatureTableWidth\">Signature Group:</span>\n                <span className=\"signatureTableWidth\">\n                    <input\n                        id={this.props.metaType}\n                        onChange={this.InputChange}\n                        value={this.state.signatureGroupValue}\n                    />\n                    {this.state.signatureGroupValue !== \"\" ? (\n                        <Button\n                            bsSize=\"xsmall\"\n                            bsStyle=\"success\"\n                            onClick={this.handleAddition}\n                            value={this.state.signatureGroupValue}\n                        >\n                            Submit\n            </Button>\n                    ) : (\n                            <Button bsSize=\"xsmall\" bsType=\"submit\" disabled>\n                                Submit\n            </Button>\n                        )}\n                </span>\n                {signatureGroupArr}\n            </div>\n        );\n    };\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AutoComplete from \"react-autocomplete\";\nimport $ from \"jquery\";\n\nclass AutoCompleteInput extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestions: [],\n      value: \"\"\n    };\n\n    this.HandleAdd = this.HandleAdd.bind(this);\n    this.HandleInputChange = this.HandleInputChange.bind(this);\n  }\n\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.array.isRequired\n  };\n\n  componentWillMount() {\n    if (this.props.value) {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  HandleAdd(value) {\n    this.setState({ value: value });\n    this.props.OnChange(value);\n  }\n\n  HandleInputChange(input) {\n    this.props.OnChange(input.target.value);\n\n    this.setState({ value: input.target.value });\n\n    if (input.target && input.target.value.length >= 1) {\n      let arr = [];\n      $.ajax({\n        type: \"get\",\n        url: \"/scot/api/v2/ac/\" + this.props.type + \"/\" + input.target.value,\n        success: function(result) {\n          result = result.records;\n          for (let i = 0; i < result.length; i++) {\n            if (typeof result[i] === \"string\") {\n              let obj = {};\n              obj.label = result[i];\n              arr.push(obj);\n            }\n          }\n\n          this.setState({ suggestions: arr });\n        }.bind(this),\n        error: function() {\n          console.log(\"failed to get autocomplete data\");\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"AutoCompleteInput\">\n        <AutoComplete\n          getItemValue={item => item.label}\n          items={this.state.suggestions}\n          renderItem={(item, isHighlighted) => (\n            <div style={{ background: isHighlighted ? \"lightgray\" : \"white\" }}>\n              {item.label}\n            </div>\n          )}\n          value={this.state.value}\n          onChange={this.HandleInputChange}\n          onSelect={this.HandleAdd}\n          menuStyle={{\n            borderRadius: \"3px\",\n            boxShadow: \"0 2px 12px rgba(0, 0, 0, 0.1)\",\n            background: \"rgba(255, 255, 255, 0.9)\",\n            padding: \"2px 0\",\n            fontSize: \"90%\",\n            overflow: \"auto\",\n            maxHeight: \"200px\", // TODO: don't cheat, let it flow to the bottom\n            top: \"unset\",\n            left: \"unset\",\n            position: \"absolute\"\n          }}\n          inputProps={{ style: { width: \"100%\" } }}\n          wrapperProps={{ style: { width: \"300px\" } }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default AutoCompleteInput;\n","import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport $ from \"jquery\";\n//import TagInput from '../components/TagInput';\nimport AutoCompleteInput from \"../components/autocomplete_input.js\";\n\nclass EntityCreateModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: \"\",\n      match: \"\",\n      userdef: true,\n      status: \"tracked\",\n      multiword: \"yes\",\n      confirmation: false,\n      countLoading: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.match) {\n      this.setState({ match: this.props.match });\n    }\n\n    this.mounted = true;\n  }\n\n  componentDidMount() {\n    // $(document).keypress(\n    //   function (event) {\n    //     if ($(\"input\").is(\":focus\")) {\n    //       return;\n    //     }\n\n    //     if (\n    //       event.keyCode === 13 &&\n    //       this.state.match.length >= 1 &&\n    //       this.state.value >= 1\n    //     ) {\n    //       if (this.state.confirmation === false) {\n    //         this.Confirmation();\n    //       } else {\n    //         this.Submit();\n    //       }\n    //     }\n    //     return;\n    //   }.bind(this)\n    // ).bind(this);\n    this.HasSpacesCheck(this.props.match);\n  }\n\n  componentWillUnmount() {\n    $(document).unbind(\"keypress\");\n    this.mounted = false;\n  }\n\n  HasSpacesCheck = (match) => {\n    if (/\\s/g.test(match) === true) {\n      this.setState({ multiword: \"yes\" });\n    } else {\n      this.setState({ multiword: \"no\" });\n    }\n  }\n\n  GetCount = () => {\n    this.setState({ countLoading: true });\n    let match = encodeURIComponent(this.state.match);\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/hitsearch?match=\" + match,\n      success: function (data) {\n        this.setState({ count: data.count, countLoading: false });\n      }.bind(this),\n      error: function (data) {\n        this.setState({ count: \"unable to get count\", countLoading: false });\n      }.bind(this)\n    });\n  }\n\n  Confirmation = () => {\n    if (this.state.confirmation === false) {\n      this.GetCount();\n      this.setState({ confirmation: true });\n    } else {\n      this.setState({ confirmation: false, value: \"\" });\n    }\n  }\n\n  Submit = () => {\n    let json = {\n      value: this.state.value,\n      match: this.state.match,\n      status: \"active\",\n      options: { multiword: this.state.multiword }\n    };\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/entitytype\",\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (data) {\n        console.log(\"success: \" + data);\n        this.props.ToggleCreateEntity();\n      }.bind(this),\n      error: function (data) {\n        if (data.responseJSON.error_msg) {\n          this.props.errorToggle(\n            \"failed to create user defined entity: error_message: \" +\n            data.responseJSON.error_msg,\n            data\n          );\n        } else {\n          this.props.errorToggle(\"failed to create user defined entity\", data);\n        }\n      }.bind(this)\n    });\n  }\n\n  OnChangeMatch = (e) => {\n    this.setState({ match: e.target.value });\n    this.HasSpacesCheck(e.target.value);\n  }\n\n  OnChangeValue = (e) => {\n    this.setState({ value: e });\n  }\n\n  render() {\n    return (\n      <Modal\n        dialogClassName=\"entity-create-modal\"\n        show={this.props.modalActive}\n        onHide={this.props.ToggleCreateEntity}\n      >\n        <Modal.Header closeButton={true}>\n          <Modal.Title>\n            {!this.state.confirmation ? (\n              <span>Create a user defined entity</span>\n            ) : (\n                <span>Confirm and submit user defined entity</span>\n              )}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {!this.state.confirmation ? (\n            <span>\n              <span style={{ display: \"flex\" }}>\n                <span style={{ width: \"150px\" }}>\n                  <b>New Entity Name:</b>\n                </span>\n                <span style={{ width: \"300px\" }}>\n                  <input\n                    type={\"tag\"}\n                    onChange={this.OnChangeMatch}\n                    value={this.state.match}\n                    style={{ width: \"100%\" }}\n                  />\n                </span>\n              </span>\n              <span style={{ display: \"flex\" }}>\n                <span style={{ width: \"150px\" }}>\n                  <b>Entity Type:</b>\n                </span>\n                <span>\n                  <AutoCompleteInput\n                    type={\"entitytype\"}\n                    OnChange={this.OnChangeValue}\n                    value={this.state.value}\n                  />\n                </span>\n              </span>\n            </span>\n          ) : (\n              <span>\n                <div>\n                  Entity Name: <b>{this.state.match}</b>\n                </div>\n                <div>\n                  Entity Type: <b>{this.state.value}</b>\n                </div>\n                <div>\n                  Multiword: <b>{this.state.multiword}</b>\n                </div>\n              </span>\n            )}\n        </Modal.Body>\n        <Modal.Footer>\n          {!this.state.confirmation ? (\n            <span>\n              {this.state.value.length >= 1 && this.state.match.length >= 1 ? (\n                <Button\n                  onClick={this.Confirmation}\n                  bsStyle={\"primary\"}\n                  type={\"submit\"}\n                  active={true}\n                >\n                  Continue\n                </Button>\n              ) : null}\n              <Button onClick={this.props.ToggleCreateEntity}>Cancel</Button>\n            </span>\n          ) : (\n              <span>\n                <span style={{ color: \"red\", float: \"left\" }}>\n                  {this.state.countLoading ? (\n                    <span>Count: is loading...</span>\n                  ) : (\n                      <span>Count: {this.state.count}</span>\n                    )}\n                </span>\n                <span>\n                  <Button onClick={this.Submit} bsStyle={\"success\"}>\n                    Submit\n                </Button>\n                  <Button onClick={this.Confirmation}>Go Back</Button>\n                </span>\n              </span>\n            )}\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default EntityCreateModal;\n","\nimport React from 'react';\nimport ReactDateTime from 'react-datetime'\nimport { Button, Tooltip, OverlayTrigger, FormControl } from 'react-bootstrap';\nimport $ from 'jquery'\n\n//Add data into this metadata field by entering in the form layout in scot.cfg.pl.\n\nexport default class CustomMetaDataTable extends React.Component {\n\n  onChange = (event) => {\n    let k = event.target.id;\n    let v = event.target.value;\n    let data_string = 'data.' + k;\n    let data = {};\n    data[data_string] = v;\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n      data: JSON.stringify(data),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('successfully changed custom table data');\n        this.forceUpdate();\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to updated custom table data', data);\n      }.bind(this)\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    //Only update the metadata if the headerData is different\n    if (this.props.headerData === nextProps.headerData) {\n      return false;\n    } else {\n      return true;\n    }\n\n  }\n\n  render() {\n    let multiSelectArr = [];\n    let dropdownArr = [];\n    let datesArr = [];\n    let inputArr = [];\n    let textAreaArr = [];\n    let inputMultiArr = [];\n    let booleanArr = [];\n    let formType = this.props.form[this.props.headerData[\"data_fmt_ver\"]];\n    if (formType) {\n      for (let i = 0; i < formType.length; i++) {\n        let value = formType[i]['value'];\n        let url = formType[i]['value_type']['url'];\n        if (url) {\n          url = url.replace('%s', this.props.id);\n        }\n        if (formType[i]['value_type']['key'].split('.').reduce((o, i) => o[i], this.props.headerData.data)) {\n          value = formType[i]['value_type']['key'].split('.').reduce((o, i) => o[i], this.props.headerData.data);\n        }\n\n        switch (formType[i]['type']) {\n          case 'dropdown':\n            if (formType[i]['value_type']['type'] == 'static') {\n              dropdownArr.push(<DropdownComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} value={value} dropdownValues={formType[i]['value']} help={formType[i].help} />);\n            } else {\n              dropdownArr.push(<DropdownComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} />);\n            }\n            break;\n\n          case 'input':\n            if (formType[i]['value_type']['type'] == 'static') {\n              inputArr.push(<InputComponent onBlur={this.onChange} value={value} id={formType[i].key} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              inputArr.push(<InputComponent onBlur={this.onChange} id={formType[i].key} label={formType[i].label} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} />);\n            }\n            break;\n\n          case 'calendar':\n            if (formType[i]['value_type']['type'] == 'static') {\n              let calendarValue = value * 1000;\n              datesArr.push(<Calendar typeTitle={formType[i].label} value={calendarValue} typeLower={formType[i].key} type={this.props.type} id={this.props.id} help={formType[i].help} />);\n            } else {\n              datesArr.push(<Calendar typeTitle={formType[i].label} typeLower={formType[i].key} type={this.props.type} id={this.props.id} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'textarea':\n            if (formType[i]['value_type']['type'] == 'static') {\n              textAreaArr.push(<TextAreaComponent id={formType[i].key} value={value} onBlur={this.onChange} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              textAreaArr.push(<TextAreaComponent id={formType[i].key} onBlur={this.onChange} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'input_multi':\n            if (formType[i]['value_type']['type'] == 'static') {\n              inputMultiArr.push(<InputMultiComponent id={formType[i].key} value={value} errorToggle={this.props.errorToggle} mainType={this.props.type} mainId={this.props.id} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              inputMultiArr.push(<InputMultiComponent id={formType[i].key} errorToggle={this.props.errorToggle} mainType={this.props.type} mainId={this.props.id} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'boolean':\n            if (formType[i]['value_type']['type'] == 'static') {\n              booleanArr.push(<BooleanComponent id={formType[i].key} value={value} onChange={this.onChange} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              booleanArr.push(<BooleanComponent id={formType[i].key} onChange={this.onChange} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'multi_select':\n            if (formType[i]['value_type']['type'] == 'static') {\n              multiSelectArr.push(<MultiSelectComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} value={value} dropdownValues={formType[i]['value']} help={formType[i].help} mainType={this.props.type} mainId={this.props.id} />);\n            } else {\n              multiSelectArr.push(<MultiSelectComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} mainType={this.props.type} mainId={this.props.id} />);\n            }\n            break;\n        }\n      }\n    }\n\n    return (\n      <div>\n        {formType ?\n          <div className='custom-metadata-table container'>\n            <div className='row'>\n              {dropdownArr}\n              {datesArr}\n              {inputArr}\n              {textAreaArr}\n              {inputMultiArr}\n              {booleanArr}\n              {multiSelectArr}\n            </div>\n          </div>\n          :\n          null\n        }\n      </div>\n\n    );\n  }\n\n};\n\nclass DropdownComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: null,\n      options: [],\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      let arr = [];\n      let selected = '';\n\n      for (let j = 0; j < this.props.dropdownValues.length; j++) {\n        if (this.props.value == this.props.dropdownValues[j]['value']) {\n          selected = this.props.value;\n        }\n\n        arr.push(<option>{this.props.dropdownValues[j]['value']}</option>);\n      }\n\n      this.setState({ selected: selected, options: arr });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let arr = [];\n        let selected = '';\n        let referenceKey = this.props.referenceKey;\n        if (referenceKey == 'qual_sigbody_id' || referenceKey == 'prod_sigbody_id') {\n          arr.push(<option>0</option>);\n          for (let key in result['version']) {\n            if (result['version'][key]['revision'] == result.data[referenceKey]) {\n              selected = result.data[referenceKey];\n            }\n            arr.push(<option>{result['version'][key]['revision']}</option>);\n          }\n        } else {\n          for (let j = 0; j < result[this.props.referenceKey].length; j++) {\n            if (result[this.props.referenceKey][j].selected == 1) {\n              selected = result[this.props.referenceKey][j].value;\n            }\n\n            arr.push(<option>{result[this.props.referenceKey][j].value}</option>);\n          }\n        }\n\n        this.setState({ selected: selected, options: arr });\n\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ selected: nextProps.value });\n    }\n  }\n\n  onChange = (event) => {\n    this.props.onChange(event);\n    this.setState({ selected: event.target.value });\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <select id={this.props.id} value={this.state.selected} onChange={this.onChange}>\n            {this.state.options}\n          </select>\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n\n    );\n  }\n};\n\nclass InputComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = '';\n        value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  inputOnChange = (event) => {\n    this.setState({ value: event.target.value });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input className='custom-metadata-input-width' id={this.props.id} onBlur={this.props.onBlur} onChange={this.inputOnChange} value={this.state.value} />\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    let loading = false;\n    if (this.props.dynamic) {\n      loading = true;\n    }\n    this.state = {\n      showCalendar: false,\n      loading: loading,\n      value: '',\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey] * 1000;\n        this.setState({ value: value, loading: false });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  onChange = (event) => {\n    let data_string = 'data.' + this.props.typeLower;\n    let v = event._d.getTime() / 1000;\n    let json = {};\n    json[data_string] = v;\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n      data: JSON.stringify(json),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('successfully changed custom table data');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to updated custom table data', data);\n      }.bind(this)\n    });\n\n  }\n\n  showCalendar = () => {\n    if (this.state.showCalendar == false) {\n      this.setState({ showCalendar: true });\n    } else {\n      this.setState({ showCalendar: false });\n    }\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div' style={{ display: 'flex', flexFlow: 'row' }}>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.typeTitle}\n        </span>\n        {!this.state.loading ?\n          <ReactDateTime className='custom-metadata-input-width' value={this.state.value} onChange={this.onChange} />\n          :\n          <span>\n            Loading...\n                    </span>\n        }\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass TextAreaComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  inputOnChange = (event) => {\n    this.setState({ value: event.target.value });\n  }\n\n  render() {\n\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n        <span>\n          <textarea id={this.props.id} onBlur={this.props.onBlur} onChange={this.inputOnChange} value={this.state.value} className='custom-metadata-textarea-width' />\n        </span>\n      </div>\n    );\n  }\n};\n\nclass InputMultiComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: '',\n      value: [],\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  handleAddition = group => {\n    if (this.state.value !== undefined) {\n      let groupArr = [];\n      let data = this.state.value;\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] != undefined) {\n          if (typeof (data[i]) == 'string') {\n            groupArr.push(data[i]);\n          } else {\n            groupArr.push(data[i].value);\n          }\n        }\n      }\n      groupArr.push(group.target.value);\n\n      let newData = {};\n      let data_string = 'data.' + this.props.id;\n      newData[data_string] = groupArr;\n\n      // newData[this.props.id] = groupArr;\n\n\n      $.ajax({\n        type: 'put',\n        url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n        data: JSON.stringify(newData),\n        contentType: 'application/json; charset=UTF-8',\n        success: function () {\n          console.log('success: group added');\n          this.setState({ inputValue: '', value: newData[this.props.id] });\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle('Failed to add group', data);\n        }.bind(this)\n      });\n    }\n  }\n\n  InputChange = event => {\n    this.setState({ inputValue: event.target.value });\n  }\n\n  handleDelete = event => {\n    let data = this.state.value;\n    let clickedThing = event.target.id;\n    let groupArr = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof (data[i]) == 'string') {\n          if (data[i] != clickedThing) {\n            groupArr.push(data[i]);\n          }\n        } else {\n          if (data[i].value != clickedThing) {\n            groupArr.push(data[i].value);\n          }\n        }\n      }\n    }\n\n    let newData = {\n      data: {\n        [this.props.id]: groupArr\n      },\n    };\n\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n      data: JSON.stringify(newData),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        this.setState({ value: newData[this.props.id] });\n        console.log('deleted group success: ' + data);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to delete group', data);\n      }.bind(this)\n    });\n  }\n\n\n  render() {\n    let data = this.state.value;\n    let groupArr = [];\n    let value;\n    if (data !== undefined) {\n      for (let i = 0; i < data.length; i++) {\n        if (typeof (data[i]) == 'string') {\n          value = data[i];\n        } else if (typeof (data[i]) == 'object') {\n          if (data[i] != undefined) {\n            value = data[i].value;\n          }\n        }\n        groupArr.push(<span id=\"event_signature\" className='tagButton'>{value} <i id={value} onClick={this.handleDelete} className=\"fa fa-times tagButtonClose\" /></span>);\n      }\n    }\n\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input className='custom-metadata-input-width' id={this.props.id} onChange={this.InputChange} value={this.state.inputValue} />\n          {this.state.inputValue != '' ? <Button bsSize='xsmall' bsStyle='success' onClick={this.handleAddition} value={this.state.inputValue}>Submit</Button> : <Button bsSize='xsmall' bsType='submit' disabled>Submit</Button>}\n        </span>\n        <span className='custom-metadata-multi-input-tags'>\n          {groupArr}\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass BooleanComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps = (nextProps) => {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  onChange = e => {\n    let value;\n    if (e.target.value == 'true') {\n      value = 1;\n    } else {\n      value = 0;\n    }\n\n    let obj = {};\n    obj['target'] = {};\n    obj['target']['id'] = this.props.id;\n    obj['target']['value'] = value;\n\n    this.props.onChange(obj);\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input type='checkbox' className='custom-metadata-input-width' id={this.props.id} name={this.props.id} value={this.state.value} onClick={this.onChange} />\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass MultiSelectComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: []\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.makeForm();\n    }\n  }\n\n  makeForm = nextProps => {\n    let props = this.props;\n    if (nextProps) { props = nextProps; }\n\n    let arr = [];\n    for (let j = 0; j < props.dropdownValues.length; j++) {\n      if (props.value.includes(props.dropdownValues[j]['value'])) {\n        arr.push(<option selected>{props.dropdownValues[j]['value']}</option>);\n      } else {\n        arr.push(<option>{props.dropdownValues[j]['value']}</option>);\n      }\n    }\n\n    this.setState({ options: arr });\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let arr = [];\n        for (let j = 0; j < result[this.props.referenceKey].length; j++) {\n          if (result[this.props.referenceKey][j].selected == 1) {\n            arr.push(<option selected>{result[this.props.referenceKey][j].value}</option>);\n          } else {\n            arr.push(<option>{result[this.props.referenceKey][j].value}</option>);\n          }\n\n        }\n\n        this.setState({ options: arr });\n\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps = nextProps => {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.makeForm(nextProps);\n    }\n  }\n\n\n  onChange = event => {\n    let multiSelectArr = [];\n    for (let i = 0; i < event.target.options.length; i++) {\n      if (event.target.options[i] != undefined) {\n        if (event.target.options[i].selected == true) {\n          multiSelectArr.push(event.target.options[i].value);\n        } else {\n          continue;\n        }\n      }\n    }\n\n    let newData = {};\n    let data_string = 'data.' + this.props.id;\n    newData[data_string] = multiSelectArr;\n\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n      data: JSON.stringify(newData),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('success: multi select added');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to add multi select', data);\n      }.bind(this)\n    });\n    this.setState({ selected: event.target.value });\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <FormControl id={this.props.id} componentClass='select' placeholder='select' bsClass='custom-metadata-multi-select-width' multiple onChange={this.onChange} size={this.state.options.length}>\n            {this.state.options}\n          </FormControl>\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n","import React from \"react\";\nimport $ from \"jquery\";\nimport EntityDetail from \"../modal/entity_detail\";\nimport ReactTime from \"react-time\";\nimport SplitButton from \"react-bootstrap/lib/SplitButton.js\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem.js\";\nimport Button from \"react-bootstrap/lib/Button.js\";\nimport AddEntry from \"../components/add_entry.js\";\nimport FileUpload from \"../components/file_upload.js\";\nimport { DeleteEntry } from '../modal/delete';\nimport Summary from '../components/summary'\nimport Task from \"../components/task\"\nimport SelectedPermission from \"../components/permission.js\";\nimport Frame from \"../components/frame\";\nimport AddFlair from \"../components/add_flair\";\nimport LinkWarning from \"../modal/link_warning\"\nimport { Link } from 'react-router-dom'\nimport SignatureTable from \"../components/signature_table\"\nimport TrafficLightProtocol from \"../components/traffic_light_protocol\";\nimport Marker from \"../components/marker\"\nimport EntityCreateModal from \"../modal/entity_create\"\nimport CustomMetaDataTable from \"../components/custom_metadata_table\";\nimport tablesorter from 'tablesorter'\n\n\nexport default class SelectedEntry extends React.Component {\n  constructor(props) {\n    super(props);\n    let entityDetailKey = Math.floor(Math.random() * 1000);\n    this.state = {\n      showEntryData: this.props.showEntryData,\n      showEntityData: this.props.showEntityData,\n      entryData: this.props.entryData,\n      entityData: this.props.entityData,\n      entityid: null,\n      entitytype: null,\n      entityoffset: null,\n      entityobj: null,\n      key: this.props.id,\n      flairToolbar: false,\n      notificationType: null,\n      notificationMessage: \"\",\n      height: null,\n      entityDetailKey: entityDetailKey,\n      isMounted: false\n    };\n  }\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    if (\n      this.props.type === \"alert\" ||\n      this.props.type === \"entity\" ||\n      this.props.isPopUp === 1\n    ) {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entry\",\n        success: function (result) {\n          let entryResult = result.records;\n          if (this.state.isMounted) {\n            this.setState({ showEntryData: true, entryData: entryResult });\n            for (let i = 0; i < result.records.length; i++) {\n              this.props.createCallback(result.records[i].id, this.updatedCB)\n            }\n            this.Watcher();\n          }\n        }.bind(this),\n        error: function (result) {\n          if (this.state.isMounted) {\n            this.setState({ showEntryData: true });\n            this.props.errorToggle(\"Failed to load entry data.\", result);\n          }\n        }.bind(this)\n      });\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n        success: function (result) {\n          let entityResult = result.records;\n          if (this.state.isMounted) {\n            this.setState({ showEntityData: true, entityData: entityResult });\n            let waitForEntry = {\n              waitEntry: function () {\n                if (this.state.showEntryData === false) {\n                  setTimeout(waitForEntry.waitEntry, 50);\n                } else {\n                  setTimeout(\n                    function () {\n                      AddFlair.entityUpdate(\n                        entityResult,\n                        this.flairToolbarToggle,\n                        this.props.type,\n                        this.linkWarningToggle,\n                        this.props.id\n                      );\n                    }.bind(this)\n                  );\n                }\n              }.bind(this)\n            };\n            waitForEntry.waitEntry();\n          }\n        }.bind(this),\n        error: function (result) {\n          if (this.state.isMounted) {\n            this.setState({ showEntityData: true });\n            this.props.errorToggle(\"Failed to load entity data.\", result);\n          }\n        }.bind(this)\n      });\n      this.props.createCallback(this.props.id, this.updatedCB)\n    }\n\n    this.containerHeightAdjust();\n    window.addEventListener(\"resize\", this.containerHeightAdjust);\n    $(\"#ReactTable\").resize(\n      function () {\n        this.containerHeightAdjust();\n      }.bind(this)\n    );\n  };\n\n  componentWillReceiveProps = () => {\n    this.containerHeightAdjust();\n  };\n\n  componentDidUpdate = () => {\n    if (this.state.runWatcher === true) {\n      this.Watcher();\n    }\n  };\n\n  componentWillUnmount = () => {\n    this.setState({ isMounted: false });\n  };\n\n  updatedCB = () => {\n    if (\n      this.props.type === \"alert\" ||\n      this.props.type === \"entity\" ||\n      this.props.isPopUp === 1\n    ) {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entry\",\n        success: function (result) {\n          let entryResult = result.records;\n          if (this.state.isMounted) {\n            this.setState({ showEntryData: true, entryData: entryResult });\n            for (let i = 0; i < result.records.length; i++) {\n\n              this.props.createCallback(result.records[i].id, this.updatedCB);\n            }\n            this.Watcher();\n          }\n        }.bind(this),\n        error: function (result) {\n          if (this.state.isMounted) {\n            this.setState({ showEntryData: true });\n            this.props.errorToggle(\"Failed to load entry data \", result);\n          }\n        }.bind(this)\n      });\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n        success: function (result) {\n          let entityResult = result.records;\n          if (this.state.isMounted) {\n            this.setState({ showEntityData: true, entityData: entityResult });\n            let waitForEntry = {\n              waitEntry: function () {\n                if (this.state.showEntryData === false) {\n                  setTimeout(waitForEntry.waitEntry, 50);\n                } else {\n                  setTimeout(\n                    function () {\n                      AddFlair.entityUpdate(\n                        entityResult,\n                        this.flairToolbarToggle,\n                        this.props.type,\n                        this.linkWarningToggle,\n                        this.props.id\n                      );\n                    }.bind(this)\n                  );\n                }\n              }.bind(this)\n            };\n            waitForEntry.waitEntry();\n          }\n        }.bind(this),\n        error: function (result) {\n          if (this.state.isMounted) {\n            this.setState({ showEntityData: true });\n            this.props.errorToggle(\"Failed to load entity data\", result);\n          }\n        }.bind(this)\n      });\n    }\n  };\n\n  flairToolbarToggle = (id, value, type, entityoffset, entityobj) => {\n    if (this.state.isMounted) {\n      this.setState({\n        flairToolbar: true,\n        entityid: id,\n        entityvalue: value,\n        entitytype: type,\n        entityoffset: entityoffset,\n        entityobj: entityobj\n      });\n    }\n  };\n\n  flairToolbarOff = () => {\n    if (this.state.isMounted) {\n      let newEntityDetailKey = this.state.entityDetailKey + 1;\n      this.setState({\n        flairToolbar: false,\n        entityDetailKey: newEntityDetailKey\n      });\n    }\n  };\n\n  linkWarningToggle = href => {\n    if (this.state.isMounted) {\n      if (this.state.linkWarningToolbar === false) {\n        this.setState({ linkWarningToolbar: true, link: href });\n      } else {\n        this.setState({ linkWarningToolbar: false });\n      }\n    }\n  };\n\n  Watcher = () => {\n    let containerid = \"#\" + this.props.type + \"-detail-container\";\n    if (this.props.type !== \"alertgroup\") {\n      $(containerid)\n        .find(\"iframe\")\n        .each(\n          function (index, ifr) {\n            //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n            ifr.contentWindow.requestAnimationFrame(\n              function () {\n                if (ifr.contentDocument != null) {\n                  let arr = [];\n                  //arr.push(this.props.type);\n                  arr.push(this.checkFlairHover);\n                  $(ifr).off(\"mouseenter\");\n                  $(ifr).off(\"mouseleave\");\n                  $(ifr).on(\n                    \"mouseenter\",\n                    function (v, type) {\n                      let intervalID = setInterval(this[0], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                      $(ifr).data(\"intervalID\", intervalID);\n                      console.log(\"Now watching iframe \" + intervalID);\n                    }.bind(arr)\n                  );\n                  $(ifr).on(\"mouseleave\", function () {\n                    let intervalID = $(ifr).data(\"intervalID\");\n                    window.clearInterval(intervalID);\n                    console.log(\"No longer watching iframe \" + intervalID);\n                  });\n                }\n              }.bind(this)\n            );\n          }.bind(this)\n        );\n    } else {\n      $(containerid)\n        .find(\"a, .entity\")\n        .not(\".not_selectable\")\n        .each(\n          function (index, tr) {\n            $(tr).off(\"mousedown\");\n            $(tr).on(\n              \"mousedown\",\n              function (index) {\n                let thing = index.target;\n                if ($(thing)[0].className === \"extras\") {\n                  thing = $(thing)[0].parentNode;\n                } //if an extra is clicked reference the parent element\n                if ($(thing).attr(\"url\")) {\n                  //link clicked\n                  let url = $(thing).attr(\"url\");\n                  this.linkWarningToggle(url);\n                } else {\n                  //entity clicked\n                  let entityid = $(thing).attr(\"data-entity-id\");\n                  let entityvalue = $(thing).attr(\"data-entity-value\");\n                  let entityoffset = $(thing).offset();\n                  let entityobj = $(thing);\n                  this.flairToolbarToggle(\n                    entityid,\n                    entityvalue,\n                    \"entity\",\n                    entityoffset,\n                    entityobj\n                  );\n                }\n              }.bind(this)\n            );\n          }.bind(this)\n        );\n    }\n  };\n\n  checkFlairHover = ifr => {\n    function returnifr() {\n      return ifr;\n    }\n    if (this.props.type !== \"alertgroup\") {\n      if (ifr.contentDocument != null) {\n        $(ifr)\n          .contents()\n          .find(\".entity\")\n          .each(\n            function (index, entity) {\n              if ($(entity).css(\"background-color\") === \"rgb(255, 0, 0)\") {\n                $(entity).data(\"state\", \"down\");\n              } else if ($(entity).data(\"state\") === \"down\") {\n                $(entity).data(\"state\", \"up\");\n                let entityid = $(entity).attr(\"data-entity-id\");\n                let entityvalue = $(entity).attr(\"data-entity-value\");\n                let entityobj = $(entity);\n                let ifr = returnifr();\n                let entityoffset = {\n                  top: $(entity).offset().top + $(ifr).offset().top,\n                  left: $(entity).offset().left + $(ifr).offset().left\n                };\n                this.flairToolbarToggle(\n                  entityid,\n                  entityvalue,\n                  \"entity\",\n                  entityoffset,\n                  entityobj\n                );\n              }\n            }.bind(this)\n          );\n      }\n      if (ifr.contentDocument != null) {\n        $(ifr)\n          .contents()\n          .find(\"a\")\n          .each(\n            function (index, a) {\n              if ($(a).css(\"color\") === \"rgb(255, 0, 0)\") {\n                $(a).data(\"state\", \"down\");\n              } else if ($(a).data(\"state\") === \"down\") {\n                $(a).data(\"state\", \"up\");\n                let url = $(a).attr(\"url\");\n                this.linkWarningToggle(url);\n              }\n            }.bind(this)\n          );\n      }\n    }\n  };\n\n  containerHeightAdjust = () => {\n    //Using setTimeout so full screen toggle animation has time to finish before resizing detail section\n    setTimeout(\n      function () {\n        let scrollHeight;\n        let ListViewTableHeight = parseInt(document.defaultView.getComputedStyle(document.getElementsByClassName('ReactTable')[0]).height, 10);\n        if (ListViewTableHeight !== 0) {\n          scrollHeight =\n            $(window).height() -\n            ListViewTableHeight -\n            $(\"#header\").height() -\n            78;\n          scrollHeight = scrollHeight + \"px\";\n        } else {\n          scrollHeight = $(window).height() - $(\"#header\").height() - 78;\n          scrollHeight = scrollHeight + \"px\";\n        }\n        //$('#detail-container').css('height',scrollHeight);\n        if (this.state.isMounted) {\n          this.setState({ height: scrollHeight });\n        }\n      }.bind(this),\n      500\n    );\n  };\n\n  render = () => {\n    let divid = \"detail-container\";\n    let height = this.state.height;\n    let data = this.props.entryData;\n    let type = this.props.type;\n    let id = this.props.id;\n    let showEntryData = this.props.showEntryData;\n    let divClass = \"row-fluid entry-wrapper entry-wrapper-main\";\n    if (type === \"alert\") {\n      //divClass = 'row-fluid entry-wrapper entry-wrapper-main-300'\n      divClass = \"row-fluid entry-wrapper entry-wrapper-main-nh\";\n      data = this.state.entryData;\n      showEntryData = this.state.showEntryData;\n    } else if (type === \"alertgroup\") {\n      divClass = \"row-fluid alert-wrapper entry-wrapper-main\";\n    } else if (type === \"entity\" || this.props.isPopUp === 1) {\n      divClass = \"row-fluid entry-wrapper-entity\";\n      data = this.state.entryData;\n      showEntryData = this.state.showEntryData;\n    }\n    //lazy loading flair - this needs to be done here because it is not initialized when this function is called by itself (alerts and entities)\n    if (type === \"alert\" || this.props.isPopUp === 1) {\n      divid = this.props.type + \"-detail-container\";\n      height = null;\n    }\n    return (\n      <div id={divid} key={id} className={divClass} style={{ height: height }}>\n        {type !== \"entity\" && type !== \"alert\" ? (\n          <CustomMetaDataTable\n            type={type}\n            id={id}\n            errorToggle={this.props.errorToggle}\n            form={this.props.form}\n            headerData={this.props.headerData}\n          />\n        ) : null}\n        {/*{(type == 'incident' && this.props.headerData != null) ? <IncidentTable type={type} id={id} headerData={this.props.headerData} errorToggle={this.props.errorToggle}/> : null}*/}\n        {type === \"signature\" && this.props.headerData !== null ? (\n          <SignatureTable\n            type={type}\n            id={id}\n            headerData={this.props.headerData}\n            errorToggle={this.props.errorToggle}\n            showSignatureOptions={this.props.showSignatureOptions}\n          />\n        ) : null}\n        {showEntryData ? (\n          <EntryIterator\n            data={data}\n            type={type}\n            id={id}\n            alertSelected={this.props.alertSelected}\n            headerData={this.props.headerData}\n            alertPreSelectedId={this.props.alertPreSelectedId}\n            isPopUp={this.props.isPopUp}\n            entryToggle={this.props.entryToggle}\n            updated={this.updatedCB}\n            aType={this.props.aType}\n            aID={this.props.aID}\n            entryToolbar={this.props.entryToolbar}\n            errorToggle={this.props.errorToggle}\n            fileUploadToggle={this.props.fileUploadToggle}\n            fileUploadToolbar={this.props.fileUploadToolbar}\n            flairOff={this.props.flairOff}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        ) : (\n            <span>Loading...</span>\n          )}\n        {this.props.entryToolbar ? (\n          <div>\n            {this.props.isAlertSelected === false ? (\n              <AddEntry\n                entryAction={\"Add\"}\n                type={this.props.type}\n                targetid={this.props.id}\n                id={null}\n                addedentry={this.props.entryToggle}\n                updated={this.updatedCB}\n                errorToggle={this.props.errorToggle}\n              />\n            ) : null}\n          </div>\n        ) : null}\n        {this.props.fileUploadToolbar ? (\n          <div>\n            {this.props.isAlertSelected === false ? (\n              <FileUpload\n                type={this.props.type}\n                targetid={this.props.id}\n                id={\"file_upload\"}\n                fileUploadToggle={this.props.fileUploadToggle}\n                updated={this.updatedCB}\n                errorToggle={this.props.errorToggle}\n              />\n            ) : null}\n          </div>\n        ) : null}\n        {this.state.flairToolbar ? (\n          <EntityDetail\n            key={this.state.entityDetailKey}\n            flairToolbarToggle={this.flairToolbarToggle}\n            flairToolbarOff={this.flairToolbarOff}\n            entityid={this.state.entityid}\n            entityvalue={this.state.entityvalue}\n            entitytype={this.state.entitytype}\n            type={this.props.type}\n            id={this.props.id}\n            aID={this.props.aID}\n            aType={this.props.aType}\n            entityoffset={this.state.entityoffset}\n            entityobj={this.state.entityobj}\n            linkWarningToggle={this.linkWarningToggle}\n            errorToggle={this.props.errorToggle}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        ) : null}\n        {this.state.linkWarningToolbar ? (\n          <LinkWarning\n            linkWarningToggle={this.linkWarningToggle}\n            link={this.state.link}\n          />\n        ) : null}\n      </div>\n    );\n  };\n}\n\nclass EntryIterator extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    let type = this.props.type;\n    let id = this.props.id;\n    if (data[0] === undefined) {\n      if (type !== \"alertgroup\") {\n        return (\n          <div>\n            <div style={{ color: \"blue\" }}>\n              No entries found. Click the green Add Entry button if you would\n              like to create one\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <div style={{ color: \"blue\" }}>\n              No alerts found or they are unable to be rendered. Please check\n              the source and correct the formatting of the alert if necessary\n            </div>\n          </div>\n        );\n      }\n    } else {\n      if (type !== \"alertgroup\") {\n        data.forEach(\n          function (data) {\n            rows.push(\n              <EntryParent\n                key={data.id}\n                items={data}\n                type={type}\n                id={id}\n                isPopUp={this.props.isPopUp}\n                errorToggle={this.props.errorToggle}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            );\n          }.bind(this)\n        );\n      } else {\n        rows.push(\n          <AlertParent\n            key={id}\n            items={data}\n            type={type}\n            id={id}\n            headerData={this.props.headerData}\n            alertSelected={this.props.alertSelected}\n            alertPreSelectedId={this.props.alertPreSelectedId}\n            aType={this.props.aType}\n            aID={this.props.aID}\n            entryToolbar={this.props.entryToolbar}\n            entryToggle={this.props.entryToggle}\n            updated={this.props.updated}\n            fileUploadToggle={this.props.fileUploadToggle}\n            fileUploadToolbar={this.props.fileUploadToolbar}\n            errorToggle={this.props.errorToggle}\n            flairOff={this.props.flairOff}\n          />\n        );\n      }\n      return <div>{rows}</div>;\n    }\n  };\n}\n\nclass AlertParent extends React.Component {\n  constructor(props) {\n    super(props);\n    let arr = [];\n    this.state = {\n      activeIndex: arr,\n      lastIndex: null,\n      allSelected: false,\n      lastId: null,\n      activeId: arr,\n      tableSorterUpdateType: \"update\"\n    };\n  }\n\n  componentDidMount = () => {\n    let filterOption = false;\n    let widgetOption = [\"sortTbody\"];\n    if (this.props.items.length > 1) {\n      filterOption = true;\n      widgetOption = [\"sortTbody\", \"filter\"];\n    }\n    $(\"#sortabletable\").tablesorter({\n      widgets: widgetOption,\n      widgetOptions: {\n        sortTbody_primaryRow: \".main\",\n        sortTbody_sortRows: false,\n        sortTbody_noSort: \"tablesorter-no-sort-tbody\",\n        scroller_jumpToHeader: false,\n        scroller_upAfterSort: false,\n\n        // include child row content while filtering the second demo table\n        filter_childRows: filterOption\n      }\n    });\n\n    //Ctrl + A to select all alerts\n    $(\"#main-detail-container\").keydown(\n      function (event) {\n        //prevent from working when in input\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        //check for ctrl + a with keyCode\n        if (\n          event.keyCode === 65 &&\n          (event.ctrlKey === true || event.metaKey === true)\n        ) {\n          this.rowClicked(null, null, \"all\", null);\n          event.preventDefault();\n        }\n      }.bind(this)\n    );\n  };\n\n  componentWillUnmount = () => {\n    $(\"#main-detail-container\").unbind(\"keydown\");\n  };\n\n  componentDidUpdate = () => {\n    //update the table, but not if a tinymce editor window is open as it will break the editing window\n    if (!$(\".mce-tinymce\")[0] && window.getSelection().toString() === \"\") {\n      $(\"#sortabletable\").trigger(this.state.tableSorterUpdateType);\n    }\n  };\n\n  componentWillReceiveProps = nextProps => {\n    //see: http://adripofjavascript.com/blog/drips/object-equality-in-javascript.html\n    var aProps = Object.getOwnPropertyNames(this.props.headerData);\n    var bProps = Object.getOwnPropertyNames(nextProps.headerData);\n\n    // If number of properties is different,\n    // objects are not equivalent\n    if (aProps.length !== bProps.length) {\n      this.setState({ tableSorterUpdateType: \"update\" });\n      return;\n    }\n\n    for (var i = 0; i < aProps.length; i++) {\n      var propName = aProps[i];\n\n      // If values of same property are not equal,\n      // objects are not equivalent\n      if (this.props.headerData[propName] !== nextProps.headerData[propName]) {\n        this.setState({ tableSorterUpdateType: \"update\" });\n        return;\n      }\n    }\n\n    // If we made it this far, objects\n    // are considered equivalent\n    this.setState({ tableSorterUpdateType: \"updateCache\" });\n    return;\n  };\n\n  rowClicked = (id, index, clickType, status) => {\n    let array = this.state.activeIndex.slice();\n    let activeIdArray = this.state.activeId.slice();\n    let selected = true;\n    this.setState({ allSelected: false });\n    if (clickType === \"ctrl\") {\n      for (let i = 0; i < activeIdArray.length; i++) {\n        if (activeIdArray[i] === id) {\n          activeIdArray.splice(i, 1);\n          this.setState({ activeId: activeIdArray });\n          selected = false;\n        }\n      }\n      if (selected === true) {\n        activeIdArray.push(id);\n        this.setState({ activeId: activeIdArray });\n      }\n    } else if (clickType === \"shift\") {\n      let keyObj = {};\n      let i = 0;\n      $(\".alertTableHorizontal\")\n        .find(\"tr\")\n        .not(\".not_selectable\")\n        .each(function (index, x) {\n          let id = $(x).attr(\"id\");\n          keyObj[id] = i;\n          i++;\n        });\n      if (this.state.lastId !== undefined) {\n        let min = Math.min(keyObj[this.state.lastId], keyObj[id]);\n        let max = Math.max(keyObj[this.state.lastId], keyObj[id]);\n        //let min = max - min + 1;\n        let range = [];\n        /*while (min--) {\n                    range[min]=max--;\n                }*/\n        for (let q = min; q <= max; q++) {\n          range.push(q);\n        }\n        for (let i = 0; i < range.length; i++) {\n          for (let prop in keyObj) {\n            if (keyObj[prop] === range[i]) {\n              activeIdArray.push(parseInt(prop, 10));\n            }\n          }\n        }\n        this.setState({ activeId: activeIdArray });\n      }\n    } else if (clickType === \"all\") {\n      activeIdArray = [];\n      for (let i = 0; i < this.props.items.length; i++) {\n        activeIdArray.push(this.props.items[i].id);\n      }\n      this.setState({ activeId: activeIdArray, allSelected: true });\n    } else {\n      activeIdArray = [];\n      activeIdArray.push(id);\n      this.setState({ activeId: activeIdArray });\n    }\n    this.setState({ lastIndex: index, lastId: id });\n    if (activeIdArray.length === 1) {\n      this.props.alertSelected(\"oneactive\", activeIdArray[0], \"alert\");\n    } else if (activeIdArray.length === 0) {\n      this.props.alertSelected(null, null, \"alert\");\n    } else {\n      this.props.alertSelected(\"showall\", null, \"alert\");\n    }\n  };\n\n  render = () => {\n    //let z = 0;\n    let search = null;\n    let items = this.props.items;\n    let body = [];\n    let header = [];\n    let columns = false;\n    let dataColumns = false;\n    let linkToSearch = [];\n    if (items[0] !== undefined) {\n      let col_names;\n      //checking two locations for columns. Will make this a single location in future revision\n\n      if (col_names === undefined) {\n        if (items[0].columns !== undefined) {\n          if (items[0].columns.length !== 0) {\n            col_names = items[0].columns.slice(0); //slices forces a copy of array\n          }\n        }\n      }\n\n      if (col_names === undefined) {\n        if (items[0].data !== undefined) {\n          if (items[0].data.columns !== undefined) {\n            if (items[0].data.columns.length !== 0) {\n              col_names = items[0].data.columns.slice(0);\n            }\n          }\n        }\n      }\n      if (col_names === undefined) {\n        if (this.props.headerData !== undefined) {\n          if (this.props.headerData.columns !== undefined) {\n            if (this.props.headerData.columns.length !== 0) {\n              col_names = this.props.headerData.columns.slice(0);\n            }\n          }\n        }\n      }\n      if (col_names === undefined) {\n        console.log(\"Error finding columns in JSON\");\n        if (this.props.headerData !== undefined) {\n          if (this.props.headerData.body !== undefined) {\n            return (\n              <div>\n                <div style={{ color: \"red\" }}>\n                  If you see this message, please notify your SCOT admin.\n                  Parsing failed on the message below. The raw alert is\n                  displayed.\n                </div>\n                <div\n                  className=\"alertTableHorizontal\"\n                  dangerouslySetInnerHTML={{\n                    __html: this.props.headerData.body\n                  }}\n                />\n              </div>\n            );\n          }\n        }\n      }\n      col_names.unshift(\"entries\"); //Add entries to 3rd column\n      col_names.unshift(\"status\"); //Add status to 2nd column\n      col_names.unshift(\"id\"); //Add entries number to 1st column\n      for (let i = 0; i < col_names.length; i++) {\n        header.push(<AlertHeader colName={col_names[i]} key={i} />);\n      }\n      for (let z = 0; z < items.length; z++) {\n        let dataFlair = null;\n        if (\n          Object.getOwnPropertyNames(items[z].data_with_flair).length !== 0 &&\n          !this.props.flairOff\n        ) {\n          dataFlair = items[z].data_with_flair;\n        } else {\n          dataFlair = items[z].data;\n        }\n\n        body.push(\n          <AlertBody\n            key={z}\n            index={z}\n            data={items[z]}\n            dataFlair={dataFlair}\n            headerData={this.props.headerData}\n            activeIndex={this.state.activeIndex}\n            rowClicked={this.rowClicked}\n            alertSelected={this.props.alertSelected}\n            allSelected={this.state.allSelected}\n            alertPreSelectedId={this.props.alertPreSelectedId}\n            activeId={this.state.activeId}\n            aID={this.props.aID}\n            aType={this.props.aType}\n            entryToggle={this.props.entryToggle}\n            entryToolbar={this.props.entryToolbar}\n            updated={this.props.updated}\n            fileUploadToggle={this.props.fileUploadToggle}\n            fileUploadToolbar={this.props.fileUploadToolbar}\n            errorToggle={this.props.errorToggle}\n          />\n        );\n      }\n\n      if (items[0].data_with_flair !== undefined && !this.props.flairOff) {\n        search = items[0].data_with_flair.search;\n      } else {\n        search = items[0].data.search;\n      }\n\n      for (let y = 0; y < this.props.headerData.ahrefs.length; y++) {\n        linkToSearch.push(\n          <a href={this.props.headerData.ahrefs[y].link}>\n            {this.props.headerData.ahrefs[y].subject}\n          </a>\n        );\n        linkToSearch.push(<br />);\n      }\n    } else if (this.props.headerData !== undefined) {\n      if (this.props.headerData.body !== undefined) {\n        return (\n          <div>\n            <div style={{ color: \"red\" }}>\n              If you see this message, please notify your SCOT admin. Parsing\n              failed on the message below. The raw alert is displayed.\n            </div>\n            <div\n              className=\"alertTableHorizontal\"\n              dangerouslySetInnerHTML={{ __html: this.props.headerData.body }}\n            />\n          </div>\n        );\n      }\n    }\n    return (\n      <div>\n        <div>\n          <table\n            className=\"tablesorter alertTableHorizontal\"\n            id={\"sortabletable\"}\n            width=\"100%\"\n          >\n            <thead>\n              <tr>{header}</tr>\n            </thead>\n            {body}\n          </table>\n        </div>\n        {search !== undefined ? (\n          <div className=\"alertTableHorizontal\">\n            {linkToSearch}\n            <div dangerouslySetInnerHTML={{ __html: search }} />\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n}\n\nclass AlertHeader extends React.Component {\n  render = () => {\n    return <th>{this.props.colName}</th>;\n  };\n}\n\nclass AlertBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: \"un-selected\",\n      promotedNumber: null,\n      showEntry: false,\n      promoteFetch: false,\n      showAddEntryToolbar: false,\n      showFileUpload: false,\n      showFileUploadToolbar: false,\n      isMounted: false\n    };\n  }\n\n  onClick = event => {\n    if (event.shiftKey === true) {\n      this.props.rowClicked(\n        this.props.data.id,\n        this.props.index,\n        \"shift\",\n        null\n      );\n    } else if (event.ctrlKey === true || event.metaKey === true) {\n      this.props.rowClicked(\n        this.props.data.id,\n        this.props.index,\n        \"ctrl\",\n        this.props.data.status\n      );\n    } else {\n      this.props.rowClicked(\n        this.props.data.id,\n        this.props.index,\n        \"\",\n        this.props.data.status\n      );\n    }\n  };\n\n  toggleEntry = () => {\n    if (this.state.showEntry === false) {\n      this.setState({ showEntry: true });\n    } else {\n      this.setState({ showEntry: false });\n    }\n  };\n\n  toggleOnAddEntry = () => {\n    if (this.state.showAddEntryToolbar === false) {\n      this.setState({ showAddEntryToolbar: true, showEntry: true });\n    }\n  };\n  toggleOffAddEntry = () => {\n    if (this.state.showAddEntryToolbar === true) {\n      this.setState({ showAddEntryToolbar: false });\n      this.props.entryToggle();\n    }\n  };\n\n  toggleFileUpload = () => {\n    if (this.state.showFileUpload === false) {\n      this.setState({ showFileUpload: true });\n    } else {\n      this.setState({ showFileUpload: false });\n    }\n  };\n\n  toggleOnFileUpload = () => {\n    if (this.state.showFileUploadToolbar === false) {\n      this.setState({ showFileUploadToolbar: true, showEntry: true });\n    }\n  };\n\n  toggleOffFileUpload = () => {\n    if (this.state.showFileUploadToolbar === true) {\n      this.setState({ showFileUploadToolbar: false });\n      this.props.fileUploadToggle();\n    }\n  };\n\n  navigateTo = () => {\n    window.open(\"#/event/\" + this.state.promotedNumber);\n  };\n\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    if (this.props.data.status === \"promoted\") {\n      $.ajax({\n        type: \"GET\",\n        url: \"/scot/api/v2/alert/\" + this.props.data.id + \"/event\",\n        success: function (response) {\n          if (this.state.isMounted) {\n            this.setState({ promotedNumber: response.records[0].id });\n          }\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle(\"failed to get promoted id\", data);\n        }.bind(this)\n      });\n\n      if (this.state.isMounted) {\n        this.setState({ promoteFetch: true });\n      }\n    }\n    //Pre Selects the alert in an alertgroup if alertPreSelectedId is passed to the component\n    if (this.props.alertPreSelectedId != null) {\n      if (this.props.alertPreSelectedId === this.props.data.id) {\n        this.props.rowClicked(\n          this.props.data.id,\n          this.props.index,\n          \"\",\n          this.props.data.status\n        );\n      }\n    }\n  };\n\n  componentWillReceiveProps = nextProps => {\n    if (this.state.promoteFetch === false) {\n      if (this.props.data.status === \"promoted\") {\n        $.ajax({\n          type: \"GET\",\n          url: \"/scot/api/v2/alert/\" + this.props.data.id + \"/event\",\n          success: function (response) {\n            if (this.state.isMounted) {\n              this.setState({ promotedNumber: response.records[0].id });\n            }\n          }.bind(this),\n          error: function (data) {\n            this.props.errorToggle(\"failed to get promoted id\", data);\n          }.bind(this)\n        });\n\n        if (this.state.isMounted) {\n          this.setState({ promoteFetch: true });\n        }\n      }\n    }\n    if (\n      this.props.data.id === this.props.aID &&\n      nextProps.entryToolbar === true &&\n      this.state.showAddEntryToolbar === false\n    ) {\n      this.toggleOnAddEntry();\n    } else if (\n      this.props.data.id !== nextProps.aID &&\n      nextProps.entryToolbar === true &&\n      this.state.showAddEntryToolbar === true\n    ) {\n      this.toggleOffAddEntry();\n    }\n    if (\n      this.props.data.id === this.props.aID &&\n      nextProps.fileUploadToolbar === true &&\n      this.state.showFileUploadToolbar === false\n    ) {\n      this.toggleOnFileUpload();\n    } else if (\n      this.props.data.id !== nextProps.aID &&\n      nextProps.fileUploadToolbar === true &&\n      this.state.showFileUploadToolbar === true\n    ) {\n      this.toggleOffFileUpload();\n    }\n  };\n\n  componentWillUnmount = () => {\n    this.setState({ isMounted: false });\n  };\n\n  render = () => {\n    let data = this.props.data;\n    let dataFlair = this.props.dataFlair;\n    let columns;\n    let selected = \"un-selected\";\n    let rowReturn = [];\n    let buttonStyle = \"\";\n    if (data.status === \"open\") {\n      buttonStyle = \"red\";\n    } else if (data.status === \"closed\") {\n      buttonStyle = \"green\";\n    } else if (data.status === \"promoted\") {\n      buttonStyle = \"warning\";\n    }\n\n    if (columns === undefined) {\n      if (data.columns !== undefined) {\n        if (data.columns.length !== 0) {\n          columns = data.columns;\n        }\n      }\n    }\n    if (columns === undefined) {\n      if (data.data !== undefined) {\n        if (data.data.columns !== undefined) {\n          if (data.data.columns.length !== 0) {\n            columns = data.data.columns;\n          }\n        }\n      }\n    }\n    if (columns === undefined) {\n      if (this.props.headerData !== undefined) {\n        if (this.props.headerData.length !== 0) {\n          columns = this.props.headerData.columns;\n        } else {\n          console.log(\"Error finding columns in JSON\");\n        }\n      }\n    }\n\n    for (let i = 0; i < columns.length; i++) {\n      let value = columns[i];\n      rowReturn.push(\n        <AlertRow data={data} dataFlair={dataFlair} value={value} />\n      );\n    }\n    if (this.props.allSelected === false) {\n      for (let j = 0; j < this.props.activeId.length; j++) {\n        if (this.props.activeId[j] === data.id) {\n          selected = \"selected\";\n        }\n      }\n    } else {\n      selected = \"selected\";\n    }\n    let id = \"alert_\" + data.id + \"_status\";\n    return (\n      <tbody>\n        <tr\n          id={data.id}\n          className={\"main \" + selected}\n          style={{ cursor: \"pointer\" }}\n          onMouseUp={this.onClick}\n        >\n          <td style={{ marginRight: \"4px\" }}>{data.id}</td>\n          <td style={{ marginRight: \"4px\" }}>\n            {data.status !== \"promoted\" ? (\n              <span style={{ color: buttonStyle }}>{data.status}</span>\n            ) : (\n                <Button\n                  bsSize=\"xsmall\"\n                  bsStyle={buttonStyle}\n                  id={id}\n                  onMouseDown={this.navigateTo}\n                  style={{\n                    lineHeight: \"12pt\",\n                    fontSize: \"10pt\",\n                    marginLeft: \"auto\"\n                  }}\n                >\n                  {data.status}\n                </Button>\n              )}\n          </td>\n          {data.entry_count === 0 ? (\n            <td style={{ marginRight: \"4px\" }}>{data.entry_count}</td>\n          ) : (\n              <td style={{ marginRight: \"4px\" }}>\n                <span\n                  style={{\n                    color: \"blue\",\n                    textDecoration: \"underline\",\n                    cursor: \"pointer\"\n                  }}\n                  onMouseDown={this.toggleEntry}\n                >\n                  {data.entry_count}\n                </span>\n              </td>\n            )}\n          {rowReturn}\n        </tr>\n        <AlertRowBlank\n          id={data.id}\n          type={\"alert\"}\n          showEntry={this.state.showEntry}\n          aID={this.props.aID}\n          aType={this.props.aType}\n          updated={this.props.updated}\n          showAddEntryToolbar={this.state.showAddEntryToolbar}\n          toggleOffAddEntry={this.toggleOffAddEntry}\n          showFileUploadToolbar={this.state.showFileUploadToolbar}\n          toggleOffFileUpload={this.toggleOffFileUpload}\n          errorToggle={this.props.errorToggle}\n        />\n      </tbody>\n    );\n  };\n}\n\nclass AlertRow extends React.Component {\n  render() {\n    let value = this.props.value;\n    let arr = [];\n    //First condition is for non-flaired items, second is for flaired\n    if (Array.isArray(this.props.dataFlair[value])) {\n      for (let i = 0; i < this.props.dataFlair[value].length; i++) {\n        arr.push(\n          <div\n            dangerouslySetInnerHTML={{\n              __html: $(\"<div>\")\n                .text(this.props.dataFlair[value][i])\n                .html()\n            }}\n          />\n        );\n        arr.push(<br />);\n      }\n    } else {\n      arr.push(\n        <div\n          dangerouslySetInnerHTML={{ __html: this.props.dataFlair[value] }}\n        />\n      );\n    }\n    return (\n      <td style={{ marginRight: \"4px\" }}>\n        <div className=\"alert_data_cell\">{arr}</div>\n      </td>\n    );\n  }\n}\n\nclass AlertRowBlank extends React.Component {\n  render() {\n    let showEntry = this.props.showEntry;\n    let showAddEntryToolbar = this.props.showAddEntryToolbar;\n    let showFileUploadToolbar = this.props.showFileUploadToolbar;\n    let DisplayValue = \"none\";\n    let arr = [];\n    arr.push(\n      <SelectedEntry\n        type={this.props.type}\n        id={this.props.id}\n        errorToggle={this.props.errorToggle}\n      />\n    );\n    if (showEntry === true) {\n      DisplayValue = \"table-row\";\n    }\n    return (\n      <tr className=\"not_selectable\" style={{ display: DisplayValue }}>\n        <td colSpan=\"50\">\n          {showEntry ? (\n            <div>\n              {\n                <SelectedEntry\n                  type={this.props.type}\n                  id={this.props.id}\n                  errorToggle={this.props.errorToggle}\n                />\n              }\n            </div>\n          ) : null}\n          {showAddEntryToolbar ? (\n            <AddEntry\n              entryAction={\"Add\"}\n              type={this.props.type}\n              targetid={this.props.id}\n              id={null}\n              addedentry={this.props.toggleOffAddEntry}\n              updated={this.props.updated}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {showFileUploadToolbar ? (\n            <FileUpload\n              type={this.props.aType}\n              targetid={this.props.id}\n              errorToggle={this.props.errorToggle}\n              fileUploadToggle={this.props.toggleOffFileUpload}\n            />\n          ) : null}\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass EntryParent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editEntryToolbar: false,\n      replyEntryToolbar: false,\n      deleteToolbar: false,\n      permissionsToolbar: false,\n      fileUploadToolbar: false,\n      showEntityCreateModal: false,\n      highlightedText: null\n    };\n  }\n\n  componentDidMount = () => {\n    this.props.createCallback(this.props.items.id, this.refreshButton);\n    // Store.storeKey(this.props.items.id);\n    // Store.addChangeListener(this.refreshButton);\n  };\n\n  //TODO modify manual entry refresh to be done on automatically based on STOMP single entry update. This works for now.\n  refreshButton = () => {\n    if ($(\"#refresh-detail\")) {\n      $(\"#refresh-detail\").click();\n    }\n  };\n\n  editEntryToggle = () => {\n    if (this.state.editEntryToolbar === false) {\n      this.setState({ editEntryToolbar: true });\n    } else {\n      this.setState({ editEntryToolbar: false });\n    }\n  };\n\n  replyEntryToggle = () => {\n    if (this.state.replyEntryToolbar === false) {\n      this.setState({ replyEntryToolbar: true });\n    } else {\n      this.setState({ replyEntryToolbar: false });\n    }\n  };\n\n  deleteToggle = () => {\n    if (this.state.deleteToolbar === false) {\n      this.setState({ deleteToolbar: true });\n    } else {\n      this.setState({ deleteToolbar: false });\n    }\n  };\n\n  permissionsToggle = () => {\n    if (this.state.permissionsToolbar === false) {\n      this.setState({ permissionsToolbar: true });\n    } else {\n      this.setState({ permissionsToolbar: false });\n    }\n  };\n\n  reparseFlair = () => {\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/entry/\" + this.props.items.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"reparsing started\");\n      },\n      error: function (data) {\n        this.props.errorToggle(\"failed to start reparsing of data\", data);\n      }.bind(this)\n    });\n  };\n\n  fileUploadToggle = () => {\n    if (this.state.fileUploadToolbar === false) {\n      this.setState({ fileUploadToolbar: true });\n    } else {\n      this.setState({ fileUploadToolbar: false });\n    }\n  };\n\n  render = () => {\n    let itemarr = [];\n    let subitemarr = [];\n    let items = this.props.items;\n    let type = this.props.type;\n    let id = this.props.id;\n    let isPopUp = this.props.isPopUp;\n    let itemsClass = this.props.items.class;\n    let summary = 0; //define Summary as false unless itemsClass is \"summary\"\n    let editEntryToolbar = this.state.editEntryToolbar;\n    let editEntryToggle = this.editEntryToggle;\n    let errorToggle = this.props.errorToggle;\n    let outerClassName = \"row-fluid entry-outer\";\n    let innerClassName = \"row-fluid entry-header\";\n    let taskOwner = \"\";\n    if (itemsClass === \"summary\") {\n      outerClassName += \" summary_entry\";\n      summary = 1;\n    }\n    if (itemsClass === \"task\") {\n      if (\n        items.metadata.task.status === \"open\" ||\n        items.metadata.task.status === \"assigned\"\n      ) {\n        taskOwner = \"-- Task Owner \" + items.metadata.task.who + \" \";\n        outerClassName += \" todo_open_outer\";\n        innerClassName += \" todo_open\";\n      } else if (\n        (items.metadata.task.status === \"closed\" ||\n          items.metadata.task.status === \"completed\") &&\n        items.metadata.task.who != null\n      ) {\n        taskOwner = \"-- Task Owner \" + items.metadata.task.who + \" \";\n        outerClassName += \" todo_completed_outer\";\n        innerClassName += \" todo_completed\";\n      } else if (\n        items.metadata.task.status === \"closed\" ||\n        items.metadata.task.status === \"completed\"\n      ) {\n        outerClassName += \" todo_undefined_outer\";\n        innerClassName += \" todo_undefined\";\n      }\n    }\n    if (itemsClass === \"alert\") {\n      outerClassName += \" event_entry_container_alert\";\n    }\n    itemarr.push(\n      <EntryData\n        id={items.id}\n        key={items.id}\n        subitem={items}\n        type={type}\n        targetid={id}\n        editEntryToolbar={editEntryToolbar}\n        editEntryToggle={editEntryToggle}\n        isPopUp={isPopUp}\n        errorToggle={this.props.errorToggle}\n      />\n    );\n    for (let prop in items) {\n      let childfunc = (prop) => {\n        if (prop === \"children\") {\n          let childobj = items[prop];\n          items[prop].forEach(function (childobj) {\n            subitemarr.push(\n              new Array(\n                (\n                  <EntryParent\n                    items={childobj}\n                    id={id}\n                    type={type}\n                    editEntryToolbar={editEntryToolbar}\n                    editEntryToggle={editEntryToggle}\n                    isPopUp={isPopUp}\n                    errorToggle={errorToggle}\n                    createCallback={this.props.createCallback}\n                    removeCallback={this.props.removeCallback}\n                  />\n                )\n              )\n            );\n          }.bind(this));\n        }\n      }\n      childfunc(prop);\n    }\n    itemarr.push(subitemarr);\n\n    let entryActions = [];\n    if (this.props.items) {\n      if (this.props.items.actions) {\n        for (let i = 0; i < this.props.items.actions.length; i++) {\n          if (\n            this.props.items.actions[i].send_to_name &&\n            this.props.items.actions[i].send_to_url\n          ) {\n            entryActions.push(\n              <EntryAction\n                id={this.props.items.actions[i].send_to_name}\n                datahref={this.props.items.actions[i].send_to_url}\n                errorToggle={this.props.errorToggle}\n              />\n            );\n          }\n        }\n      }\n    }\n\n    let header1 = \"[\" + items.id + \"] \";\n    let header2 = \" by \" + items.owner + \" \" + taskOwner + \"(updated on \";\n    let header3 = \")\";\n    let createdTime = items.created;\n    let updatedTime = items.updated;\n    let entryHeaderInnerId =\n      \"entry-header-inner-\" + this.props.id + \" entry-header-inner\";\n    let tlpBorder;\n    let tlpColorCSS;\n    if (items.tlp !== \"unset\") {\n      if (items.tlp !== \"amber\") {\n        tlpColorCSS = items.tlp;\n      } else {\n        tlpColorCSS = \"orange\";\n      }\n      tlpBorder = \"3px solid \" + tlpColorCSS;\n    }\n    return (\n      <div>\n        {this.state.showEntityCreateModal ? (\n          <EntityCreateModal\n            match={this.state.highlightedText}\n            modalActive={this.state.showEntityCreateModal}\n            ToggleCreateEntity={this.ToggleCreateEntity}\n            errorToggle={this.props.errorToggle}\n            createCallback={this.props.createCallback}\n          />\n        ) : null}\n        <div\n          className={outerClassName}\n          style={{\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\",\n            border: tlpBorder\n          }}\n        >\n          <span\n            className=\"anchor\"\n            id={\"/\" + type + \"/\" + id + \"/\" + items.id}\n          />\n          <div className={innerClassName}>\n            <div id={entryHeaderInnerId} className={entryHeaderInnerId}>\n              [\n              <Link\n                style={{ color: \"black\" }}\n                to={\"/\" + type + \"/\" + id + \"/\" + items.id}\n              >\n                {items.id}\n              </Link>\n              ]{\" \"}\n              <ReactTime\n                value={items.created * 1000}\n                format=\"MM/DD/YYYY hh:mm:ss a\"\n              />{\" \"}\n              by {items.owner} {taskOwner}\n              (updated on{\" \"}\n              <ReactTime\n                value={items.updated * 1000}\n                format=\"MM/DD/YYYY hh:mm:ss a\"\n              />\n              )\n              {this.state.highlightedText !== \"\" &&\n                this.state.highlightedText != null ? (\n                  <Button\n                    bsSize=\"xsmall\"\n                    bsStyle=\"success\"\n                    onClick={this.ToggleCreateEntity}\n                  >\n                    Create Entity\n                </Button>\n                ) : null}\n              {this.props.items.body_flair !== \"\" &&\n                this.props.items.parsed === 0 ? (\n                  <span style={{ color: \"green\", fontWeight: \"bold\" }}>\n                    {\" \"}\n                    Entry awaiting flair engine. Content may be inaccurate.\n                </span>\n                ) : null}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                {this.state.permissionsToolbar ? (\n                  <SelectedPermission\n                    updateid={id}\n                    id={items.id}\n                    type={\"entry\"}\n                    permissionData={items}\n                    permissionsToggle={this.permissionsToggle}\n                  />\n                ) : null}\n                {items.tlp !== \"unset\" && items.tlp !== undefined ? (\n                  <span>\n                    TLP:{\" \"}\n                    <span style={{ color: tlpColorCSS }}>{items.tlp} </span>\n                  </span>\n                ) : null}\n                <SplitButton\n                  bsSize=\"xsmall\"\n                  title=\"Reply\"\n                  key={items.id}\n                  id={\"Reply \" + items.id}\n                  onClick={this.replyEntryToggle}\n                  pullRight\n                >\n                  {type !== \"entity\" ? (\n                    <MenuItem eventKey=\"1\" onClick={this.fileUploadToggle}>\n                      Upload File\n                    </MenuItem>\n                  ) : null}\n                  {entryActions}\n                  <MenuItem eventKey=\"3\">\n                    <Summary\n                      type={type}\n                      id={id}\n                      entryid={items.id}\n                      summary={summary}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  </MenuItem>\n                  <MenuItem eventKey=\"4\">\n                    <Task\n                      type={type}\n                      id={id}\n                      entryid={items.id}\n                      taskData={items}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  </MenuItem>\n                  <Marker\n                    type={\"entry\"}\n                    id={items.id}\n                    string={items.body_plain}\n                  />\n                  <MenuItem onClick={this.permissionsToggle}>\n                    Permissions\n                  </MenuItem>\n                  <MenuItem onClick={this.reparseFlair}>Reparse Flair</MenuItem>\n                  <TrafficLightProtocol\n                    type={\"entry\"}\n                    id={items.id}\n                    tlp={items.tlp}\n                    errorToggle={this.props.errorToggle}\n                  />\n                  <MenuItem divider />\n                  <MenuItem eventKey=\"2\" onClick={this.deleteToggle}>\n                    Delete\n                  </MenuItem>\n                </SplitButton>\n                <Button bsSize=\"xsmall\" onClick={this.editEntryToggle}>\n                  Edit\n                </Button>\n              </span>\n            </div>\n          </div>\n          {itemarr}\n          {this.state.replyEntryToolbar ? (\n            <AddEntry\n              entryAction={\"Reply\"}\n              type={type}\n              header1={header1}\n              header2={header2}\n              header3={header3}\n              createdTime={createdTime}\n              updatedTime={updatedTime}\n              targetid={id}\n              id={items.id}\n              addedentry={this.replyEntryToggle}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {this.state.fileUploadToolbar ? (\n            <FileUpload\n              type={this.props.type}\n              targetid={this.props.id}\n              entryid={this.props.items.id}\n              fileUploadToggle={this.fileUploadToggle}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n        </div>\n        {this.state.deleteToolbar ? (\n          <DeleteEntry\n            type={type}\n            id={id}\n            deleteToggle={this.deleteToggle}\n            entryid={items.id}\n            errorToggle={this.props.errorToggle}\n          />\n        ) : null}\n      </div>\n    );\n  };\n\n  componentWillReceiveProps = () => {\n    this.checkHighlight();\n  };\n\n  checkHighlight = () => {\n    let content;\n    let iframe = document.getElementById(\"iframe_\" + this.props.items.id);\n    if (iframe) {\n      content = iframe.contentWindow.getSelection().toString();\n      if (this.state.highlightedText !== content) {\n        console.log(iframe + \" has highlighted text: \" + content);\n        this.setState({ highlightedText: content });\n      } else {\n        return;\n      }\n    }\n  };\n\n  ToggleCreateEntity = () => {\n    this.setState({ showEntityCreateModal: !this.state.showEntityCreateModal });\n  };\n}\n\nclass EntryAction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      [this.props.id]: false,\n      disabled: false\n    };\n  }\n\n  submit = () => {\n    let url = this.props.datahref;\n    let id = this.props.id;\n\n    $.ajax({\n      type: \"post\",\n      url: url,\n      success: function (response) {\n        this.setState({ [id]: true, disabled: false });\n        console.log(\"submitted the entry action\");\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"failed to submit the entry action\", data);\n        this.setState({ disabled: false });\n      }.bind(this)\n    });\n    this.setState({ disabled: true });\n  };\n\n  render = () => {\n    return (\n      <MenuItem disabled={this.state.disabled}>\n        <span\n          id={this.props.id}\n          data-href={this.props.datahref}\n          onClick={this.submit}\n          style={{ display: \"block\" }}\n        >\n          {this.props.id}{\" \"}\n          {this.state[this.props.id] ? (\n            <span style={{ color: \"green\" }}>success</span>\n          ) : null}\n        </span>\n      </MenuItem>\n    );\n  };\n}\n\nclass EntryData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: \"1px\"\n    };\n  }\n\n  onLoad = () => {\n    if (document.getElementById(\"iframe_\" + this.props.id) !== undefined &&\n      document.getElementById(\"iframe_\" + this.props.id) !== null) {\n      if (\n        document.getElementById(\"iframe_\" + this.props.id).contentDocument\n          .readyState === \"complete\"\n      ) {\n        let ifr = $(\"#iframe_\" + this.props.id);\n        let ifrContents = $(ifr).contents();\n        let ifrContentsHead = $(ifrContents).find(\"head\");\n        if (ifrContentsHead) {\n          if (!$(ifrContentsHead).find(\"link\")) {\n            ifrContentsHead.append(\n              $(\"<link/>\", {\n                rel: \"stylesheet\",\n                href: \"css/sandbox.css\",\n                type: \"text/css\"\n              })\n            );\n          }\n        }\n        //if (this.props.type != 'entity') {\n        setTimeout(\n          function () {\n            if (\n              document.getElementById(\"iframe_\" + this.props.id) !== undefined &&\n              document.getElementById(\"iframe_\" + this.props.id) !== null) {\n              document\n                .getElementById(\"iframe_\" + this.props.id)\n                .contentWindow.requestAnimationFrame(\n                  function () {\n                    let newheight;\n                    newheight = document.getElementById(\n                      \"iframe_\" + this.props.id\n                    ).contentWindow.document.body.scrollHeight;\n                    newheight = newheight + \"px\";\n                    if (this.state.height !== newheight) {\n                      this.setState({ height: newheight });\n                    }\n                  }.bind(this)\n                );\n            }\n          }.bind(this),\n          250\n        );\n        //}\n      } else {\n        setTimeout(this.onLoad, 0);\n      }\n    }\n  };\n\n  componentWillReceiveProps = () => {\n    this.onLoad();\n  };\n\n  render = () => {\n    let rawMarkup = this.props.subitem.body_flair;\n    if (this.props.subitem.body_flair === \"\") {\n      rawMarkup = this.props.subitem.body;\n    }\n    let id = this.props.id;\n    let entry_body_id = \"entry-body-\" + this.props.id;\n    let entry_body_inner_id = \"entry-body-inner-\" + this.props.id;\n    return (\n      <div\n        id={entry_body_id}\n        key={this.props.id}\n        className={\"row-fluid entry-body\"}\n      >\n        <div\n          id={entry_body_inner_id}\n          className={\"row-fluid entry-body-inner\"}\n          style={{ marginLeft: \"auto\", marginRight: \"auto\", width: \"99.3%\" }}\n        >\n          {this.props.editEntryToolbar ? (\n            <AddEntry\n              entryAction={\"Edit\"}\n              type={this.props.type}\n              targetid={this.props.targetid}\n              id={id}\n              addedentry={this.props.editEntryToggle}\n              parent={this.props.subitem.parent}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : (\n              <Frame\n                id={\"iframe_\" + id}\n                sandbox={\"allow-same-origin\"}\n                styleSheets={[\"/css/sandbox.css\"]}\n                height={this.state.height} >\n                <div dangerouslySetInnerHTML={{ __html: rawMarkup }} />\n              </Frame>\n            )}\n        </div>\n      </div >\n    );\n  };\n  componentDidMount = () => {\n    // this.onLoad();\n  };\n}\n","import React from 'react'\nimport Button from 'react-bootstrap/lib/Button';\nimport $ from 'jquery'\nconst ReactTags = require('react-tag-input').WithContext;\n\nexport default class Badge extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      source: false,\n      tag: false,\n    }\n  }\n\n  toggleBadgeEntry = (badgetype) => {\n    if (this.state[badgetype] == false) {\n      this.setState({ [badgetype]: true });\n    } else if (this.state[badgetype] == true) {\n      this.setState({ [badgetype]: false });\n    }\n  }\n\n  render() {\n    let rows = [];\n    let id = this.props.id;\n    let type = this.props.type;\n    let data = this.props.data;\n    let badgevar = \"\";\n\n    if (this.props.badgeType === 'tag') {\n      badgevar = \"Tags\"\n    } else if (this.props.badgeType === 'source') {\n      badgevar = \"Sources\"\n    }\n\n\n    //Don't show if guide\n    if (this.props.type == 'guide') {\n      return (<th />);\n    }\n\n    if (data != undefined) {\n      for (let i = 0; i < data.length; i++) {\n        rows.push(<BadgeDataIterator data={data} badgeType={this.props.badgeType} dataOne={data[i]} id={id} type={type} updated={this.props.updated} key={i} errorToggle={this.props.errorToggle} />);\n      }\n    }\n    return (\n      <th>\n        <th>\n          {badgevar}:\n                </th>\n        <td>\n          {rows}\n          {this.state.source ? <NewBadge data={data} type={type} id={id} badgeType={this.props.badgeType} toggleBadgeEntry={this.toggleBadgeEntry} updated={this.props.updated} errorToggle={this.props.errorToggle} /> : null}\n          {this.state.tag ? <NewBadge data={data} type={type} id={id} badgeType={this.props.badgeType} toggleBadgeEntry={this.toggleBadgeEntry} updated={this.props.updated} errorToggle={this.props.errorToggle} /> : null}\n          {this.props.badgeType === 'tag' ?\n            this.state.tag ? <span className='add-tag-button'><Button bsSize={'xsmall'} bsStyle={'danger'} onClick={() => { this.toggleBadgeEntry(this.props.badgeType) }}><span className='glyphicon glyphicon-minus' aria-hidden='true'></span></Button></span> : <span className='remove-tag-button'><Button bsSize={'xsmall'} bsStyle={'success'} onClick={() => { this.toggleBadgeEntry(this.props.badgeType) }}><span className='glyphicon glyphicon-plus' aria-hidden='true'></span></Button></span> :\n            this.props.badgeType === 'source' ?\n              this.state.source ? <span className='add-source-button'><Button bsSize={'xsmall'} bsStyle={'danger'} onClick={() => { this.toggleBadgeEntry(this.props.badgeType) }}><span className='glyphicon glyphicon-minus' aria-hidden='true'></span></Button></span> : <span className='remove-source-button'><Button bsSize={'xsmall'} bsStyle={'success'} onClick={() => { this.toggleBadgeEntry(this.props.badgeType) }}><span className='glyphicon glyphicon-plus' aria-hidden='true'></span></Button></span> : null}\n        </td>\n      </th>\n    );\n  }\n};\n\nclass BadgeDataIterator extends React.Component {\n\n  badgeDelete = () => {\n    let badgeType = this.props.badgeType;\n    let data = this.props.data;\n    let newBadgeArr = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof (data[i]) == 'string') {\n          if (data[i] != this.props.dataOne) {\n            newBadgeArr.push(data[i]);\n          }\n        } else {\n          if (data[i].value != this.props.dataOne.value) {\n            newBadgeArr.push(data[i].value);\n          }\n        }\n      }\n    }\n\n    let newobject = {};\n    newobject[badgeType] = newBadgeArr;\n\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n      data: JSON.stringify(newobject),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        console.log('deleted' + this.props.badgeType + ' data');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to delete' + badgeType + ', data ');\n      }.bind(this)\n    });\n  }\n\n  render() {\n    let dataOne = this.props.dataOne;\n    let value;\n    if (typeof (dataOne) == 'string') {\n      value = dataOne;\n    } else if (typeof (dataOne) == 'object') {\n      if (dataOne != undefined) {\n        value = dataOne.value;\n      }\n    }\n\n\n    return (\n      (this.props.badgeType === 'tag') ? <span id=\"event_tag\" className='tagButton'>{value} <span className='tagButtonClose'><i onClick={this.badgeDelete} className=\"fa fa-times\" /></span></span> :\n        (this.props.badgeType === 'source') ? <span id=\"event_source\" className='sourceButton'>{value} <span className='sourceButtonClose'><i onClick={this.badgeDelete} className=\"fa fa-times\" /></span></span> : null\n    );\n  }\n};\n\nclass NewBadge extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suggestions: this.props.options\n    };\n  }\n\n  handleAddition = tag => {\n    let newBadgeArr = [];\n    let badgeType = this.props.badgeType;\n    let data = this.props.data;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof (data[i]) == 'string') {\n          newBadgeArr.push(data[i]);\n        } else {\n          newBadgeArr.push(data[i].value);\n        }\n      }\n    }\n    if (!newBadgeArr.includes(tag)) {\n      newBadgeArr.push(tag);\n      let newobject = {};\n      newobject[badgeType] = newBadgeArr;\n      $.ajax({\n        type: 'put',\n        url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n        data: JSON.stringify(newobject),\n        contentType: 'application/json; charset=UTF-8',\n        success: function () {\n          console.log('success: ' + this.props.badgeType + ' added');\n          this.props.toggleBadgeEntry();\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle('Failed to add ' + this.props.badgeType + ' data ');\n          this.props.toggleBadgeEntry();\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(this.props.badgeType + ' already exists');\n    }\n  }\n\n\n  handleInputChange = input => {\n    let arr = [];\n    let endpoint = this.props.badgeType;\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/ac/' + endpoint + '/' + input,\n      success: function (result) {\n        for (let i = 0; i < result.records.length; i++) {\n          arr.push(result.records[i]);\n        }\n        this.setState({ suggestions: arr });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to get autocomplete data for tag', data);\n      }.bind(this)\n    });\n  }\n\n  handleDelete = () => {\n    //blank since buttons are handled outside of this\n  }\n\n  handleDrag = () => {\n    //blank since buttons are handled outside of this\n  }\n\n  render() {\n    let suggestions = this.state.suggestions;\n    return (\n      <span className='tag-new'>\n        <ReactTags\n          labelField=\"hey\"\n          suggestions={suggestions}\n          handleAddition={this.handleAddition}\n          handleDelete={this.handleDelete}\n          handleDrag={this.handleDrag}\n          handleInputChange={this.handleInputChange}\n          minQueryLength={1}\n          customCSS={1} />\n      </span>\n    );\n  }\n};\n","import React, { Component } from \"react\";\nimport { Modal, Button, ButtonGroup } from \"react-bootstrap\";\nimport ReactTable from \"react-table\";\nimport $ from \"jquery\";\n\nexport default class Links extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: [],\n            allSelected: false,\n            loading: false\n        };\n\n        this.getLinks = this.getLinks.bind(this);\n        this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(\n            this\n        );\n        this.handleRowSelection = this.handleRowSelection.bind(this);\n        this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n    }\n\n    componentWillMount() {\n        this.getLinks();\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    render() {\n        const columns = [\n            {\n                Header: cell => {\n                    return (\n                        <div>\n                            <div className=\"links-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        this.state.allSelected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                id: \"selected\",\n                accessor: d => d.selected,\n                Cell: row => {\n                    return (\n                        <div>\n                            <div className=\"links-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        row.row.selected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                maxWidth: 100,\n                filterable: false\n            },\n            {\n                Header: \"Type\",\n                accessor: \"type\",\n                maxWidth: 150,\n                sortable: true\n            },\n            {\n                Header: \"ID\",\n                accessor: \"id\",\n                maxWidth: 100,\n                sortable: true\n            },\n            {\n                Header: \"Context\",\n                accessor: \"context\",\n                minWidth: 100,\n                maxWidth: 800,\n                sortable: true\n            },\n            {\n                Header: \"Memo\",\n                accessor: \"memo\",\n                minWidth: 100,\n                maxWidth: 800,\n                sortable: true\n            },\n            {\n                Header: \"Link ID\",\n                accessor: \"linkid\",\n                maxWidth: 100,\n                sortable: true\n            }\n        ];\n\n        return (\n            <Modal\n                dialogClassName=\"links-modal\"\n                show={this.props.modalActive}\n                onHide={this.props.linksModalToggle}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        {this.state.data.length} items linked to {this.props.type}{\" \"}\n                        {this.props.id}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <ReactTable\n                        columns={columns}\n                        data={this.state.data}\n                        defaultPageSize={10}\n                        getTdProps={this.handleCheckboxSelection}\n                        getTheadThProps={this.handleTHeadCheckboxSelection}\n                        getTrProps={this.handleRowSelection}\n                        minRows={0}\n                        noDataText=\"No items Linked.\"\n                        loading={this.state.loading}\n                        style={{\n                            maxHeight: \"60vh\"\n                        }}\n                        filterable\n                    />\n                </Modal.Body>\n                <Modal.Footer>\n                    <Actions\n                        data={this.state.data}\n                        id={this.props.id}\n                        type={this.props.type}\n                        getLinks={this.getLinks}\n                        errorToggle={this.props.errorToggle}\n                    />\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n\n    getLinks() {\n        this.setState({ loading: true });\n\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/link\",\n            success: function (data) {\n                let arr = [];\n\n                for (let i = 0; i < data.records.length; i++) {\n                    let verticeObject = {};\n                    verticeObject.linkid = data.records[i].id;\n                    verticeObject.context = data.records[i].context;\n                    for (let j = 0; j < data.records[i].vertices.length; j++) {\n                        //if ids are equal, check if the type is equal. If so, it's what is displayed so don't show it.\n                        if (data.records[i].vertices[j].id === this.props.id) {\n                            if (data.records[i].vertices[j].type !== this.props.type) {\n                                verticeObject.id = data.records[i].vertices[j].id;\n                                verticeObject.type = data.records[i].vertices[j].type;\n                                verticeObject.memo = data.records[i].memo[j];\n                                arr.push(verticeObject);\n                            } else {\n                                continue;\n                            }\n                        } else {\n                            verticeObject.id = data.records[i].vertices[j].id;\n                            verticeObject.type = data.records[i].vertices[j].type;\n                            verticeObject.memo = data.records[i].memo[j];\n                            arr.push(verticeObject);\n                        }\n                    }\n                }\n\n                this.setState({ data: arr, loading: false });\n            }.bind(this),\n            error: function (data) {\n                this.setState({ loading: false });\n                this.props.errorToggle(\"failed to get links\", data);\n            }.bind(this)\n        });\n    }\n\n    handleRowSelection(state, rowInfo, column) {\n        return {\n            onClick: event => {\n                let data = this.state.data;\n\n                for (let row of data) {\n                    if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                        row.selected = true;\n                    } else {\n                        row.selected = false;\n                    }\n                }\n\n                this.setState({ data: data, allSelected: false });\n                return;\n            },\n            style: {\n                background:\n                    rowInfo !== undefined\n                        ? rowInfo.row.selected\n                            ? \"rgb(174, 218, 255)\"\n                            : null\n                        : null\n            }\n        };\n    }\n\n    handleCheckboxSelection(state, rowInfo, column) {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n\n                    for (let row of data) {\n                        if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                            row.selected = !row.selected;\n                            break;\n                        }\n                    }\n\n                    this.setState({\n                        data: data,\n                        allSelected: this.checkAllSelected(data)\n                    });\n                    event.stopPropagation();\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    handleTHeadCheckboxSelection(state, rowInfo, column, instance) {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n                    let allSelected = !this.state.allSelected;\n\n                    for (let row of data) {\n                        for (let pageRow of state.pageRows) {\n                            if (row.id === pageRow.id && row.type === pageRow.type) {\n                                //compare displayed rows to rows in dataset and only select those\n                                row.selected = allSelected;\n                                break;\n                            }\n                        }\n                    }\n\n                    this.setState({ data: data, allSelected: allSelected });\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    checkAllSelected(data) {\n        for (let row of data) {\n            if (!row.selected) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nclass Actions extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            entry: false,\n            thing: false,\n            actionSuccess: false\n        };\n\n        this.RemoveLink = this.RemoveLink.bind(this);\n        this.RemoveLinkAjax = this.RemoveLinkAjax.bind(this);\n        this.ToggleActionSuccess = this.ToggleActionSuccess.bind(this);\n    }\n\n    componentWillMount() {\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    render() {\n        let entry = false;\n        let thing = false;\n\n        for (let key of this.props.data) {\n            if (key.type && key.selected) {\n                if (key.type === \"entry\") {\n                    entry = true;\n                } else {\n                    thing = true;\n                }\n            }\n        }\n\n        return (\n            <div>\n                {this.state.actionSuccess ? (\n                    <div>\n                        <span bsStyle={{ color: \"green\" }}>Action Successful!</span>\n                    </div>\n                ) : null}\n                <div>\n                    {thing || entry ? (\n                        <h4 style={{ float: \"left\" }}>Actions</h4>\n                    ) : (\n                            <div>\n                                {\" \"}\n                                {this.props.data.length > 0 ? (\n                                    <h4 style={{ float: \"left\" }}>Select a link for options</h4>\n                                ) : null}{\" \"}\n                            </div>\n                        )}\n                    <ButtonGroup style={{ float: \"right\" }}>\n                        {thing || entry ? (\n                            <Button onClick={this.RemoveLink}>Remove Link</Button>\n                        ) : null}\n                    </ButtonGroup>\n                </div>\n            </div>\n        );\n    }\n\n    RemoveLink() {\n        for (let key of this.props.data) {\n            if (key.selected) {\n                // eslint-disable-next-line\n                this.RemoveLinkAjax(parseInt(key.linkid));\n            }\n        }\n    }\n\n    RemoveLinkAjax(id) {\n        $.ajax({\n            type: \"delete\",\n            url: \"/scot/api/v2/link/\" + id,\n            success: function (response) {\n                console.log(\"successfully removed link\");\n                this.ToggleActionSuccess();\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to remove link\", data);\n            }.bind(this)\n        });\n    }\n\n    ToggleActionSuccess() {\n        let newActionSuccess = !this.state.actionSuccess;\n        this.props.getLinks();\n        this.setState({ actionSuccess: newActionSuccess });\n    }\n}\n\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n    Modal,\n    Button,\n    ButtonGroup,\n    Panel,\n    FormControl,\n    Form,\n    Col\n} from \"react-bootstrap\";\nimport ReactTable from \"react-table\";\nimport { removeMarkedItems } from \"../components/marker\";\nimport DeleteModal from \"./delete\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\n\nconst ACTION_BUTTONS = {\n    READY: {\n        style: \"default\"\n    },\n    LOADING: {\n        text: \"Processing...\",\n        style: \"default\",\n        disabled: true\n    },\n    SUCCESS: {\n        text: \"Success!\",\n        style: \"success\"\n    },\n    ERROR: {\n        text: \"Error!\",\n        style: \"danger\"\n    }\n};\n\nexport default class Mark extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: [],\n            allSelected: false\n        };\n\n        this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(\n            this\n        );\n        this.handleRowSelection = this.handleRowSelection.bind(this);\n        this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n        this.getMarkedItems = this.getMarkedItems.bind(this);\n    }\n\n    componentWillMount() {\n        this.mounted = true;\n\n        this.getMarkedItems();\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    render() {\n        const columns = [\n            {\n                Header: cell => {\n                    return (\n                        <div>\n                            <div className=\"mark-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        this.state.allSelected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                id: \"selected\",\n                accessor: d => d.selected,\n                Cell: row => {\n                    return (\n                        <div>\n                            <div className=\"mark-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        row.row.selected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                maxWidth: 100,\n                filterable: false\n            },\n            {\n                Header: \"Type\",\n                accessor: \"type\",\n                maxWidth: 150,\n                sortable: true\n            },\n            {\n                Header: \"ID\",\n                accessor: \"id\",\n                maxWidth: 100,\n                sortable: true\n            },\n            {\n                Header: \"Subject\",\n                accessor: \"subject\",\n                maxWidth: \"100%\",\n                sortable: true\n            }\n        ];\n\n        return (\n            <Modal\n                dialogClassName=\"mark-modal\"\n                show={this.props.modalActive}\n                onHide={this.props.markModalToggle}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>Marked Objects</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {this.state.data.length > 0 ? (\n                        <ReactTable\n                            columns={columns}\n                            data={this.state.data}\n                            defaultPageSize={10}\n                            getTdProps={this.handleCheckboxSelection}\n                            getTheadThProps={this.handleTHeadCheckboxSelection}\n                            getTrProps={this.handleRowSelection}\n                            minRows={0}\n                            noDataText=\"No items marked.\"\n                            style={{\n                                maxHeight: \"60vh\"\n                            }}\n                            filterable\n                        />\n                    ) : (\n                            <h3>No marked items detected.</h3>\n                        )}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Actions\n                        data={this.state.data}\n                        id={this.props.id}\n                        type={this.props.type}\n                        getMarkedItems={this.getMarkedItems}\n                        errorToggle={this.props.errorToggle}\n                    />\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n\n    handleRowSelection = (state, rowInfo, column) => {\n        return {\n            onClick: event => {\n                let data = this.state.data;\n\n                for (let row of data) {\n                    if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                        row.selected = true;\n                    } else {\n                        row.selected = false;\n                    }\n                }\n\n                this.setState({ data: data, allSelected: false });\n                return;\n            },\n            style: {\n                background:\n                    rowInfo !== undefined\n                        ? rowInfo.row.selected\n                            ? \"rgb(174, 218, 255)\"\n                            : null\n                        : null\n            }\n        };\n    }\n\n    handleCheckboxSelection = (state, rowInfo, column) => {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n\n                    for (let row of data) {\n                        if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                            row.selected = !row.selected;\n                            break;\n                        }\n                    }\n\n                    this.setState({\n                        data: data,\n                        allSelected: this.checkAllSelected(data)\n                    });\n                    event.stopPropagation();\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    handleTHeadCheckboxSelection = (state, rowInfo, column, instance) => {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n                    let allSelected = !this.state.allSelected;\n\n                    for (let row of data) {\n                        for (let pageRow of state.pageRows) {\n                            if (row.id === pageRow.id && row.type === pageRow.type) {\n                                //compare displayed rows to rows in dataset and only select those\n                                row.selected = allSelected;\n                                break;\n                            }\n                        }\n                    }\n\n                    this.setState({ data: data, allSelected: allSelected });\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    checkAllSelected = (data) => {\n        for (let row of data) {\n            if (!row.selected) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    getMarkedItems = () => {\n        let markedItems = SessionStorage.getLocalStorage(\"marked\");\n        let currentItem = {\n            id: this.props.id,\n            type: this.props.type,\n            subject: this.props.string\n        };\n\n        if (markedItems) {\n            markedItems = JSON.parse(markedItems);\n            markedItems.unshift(currentItem); //Add currently viewed item to the top of the list\n            this.setState({ data: markedItems });\n        } else {\n            return; //return if no items are marked\n        }\n    }\n}\n\nclass Actions extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            entry: false,\n            thing: false,\n            actionSuccess: false,\n            linkContextString: null,\n            linkPanel: false,\n            pendingDelete: false,\n\n            reparseButton: ACTION_BUTTONS.READY,\n            deleteButton: ACTION_BUTTONS.READY,\n            promoteButton: ACTION_BUTTONS.READY\n        };\n    }\n\n    componentWillMount() {\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    deleteCallback = (success) => {\n        if (success === true) {\n            this.RemoveSelected();\n        }\n\n        this.setState({\n            pendingDelete: false\n        });\n    }\n\n    render() {\n        let entry = false,\n            thing = false,\n            alert = true;\n\n        let numSelected = 0;\n        for (let key of this.props.data) {\n            if (key.type && key.selected) {\n                numSelected++;\n\n                if (key.type === \"entry\") {\n                    entry = true;\n                } else {\n                    thing = true;\n                }\n\n                if (key.type !== \"alert\") {\n                    alert = false;\n                }\n            }\n        }\n\n        const addToEvent =\n            numSelected !== 0 && alert && this.props.type === \"event\";\n\n        const {\n            reparseButton,\n            deleteButton,\n            promoteButton,\n            pendingDelete\n        } = this.state;\n\n        let deleteThings = null;\n        if (pendingDelete) {\n            deleteThings = this.props.data\n                .filter(thing => thing.selected)\n                .map(thing => {\n                    return { type: thing.type, id: thing.id };\n                });\n        }\n\n        return (\n            <div>\n                {this.state.actionSuccess ? (\n                    <div>\n                        <Button bsStyle=\"success\" onClick={this.RemoveSelected}>\n                            Action Successful! Remove Mark?\n            </Button>\n                        <Button onClick={this.ToggleActionSuccess}>Keep Marked</Button>\n                    </div>\n                ) : (\n                        <div style={{ display: \"grid\" }}>\n                            <div>\n                                {thing || entry ? (\n                                    <h4 style={{ float: \"left\" }}>Actions</h4>\n                                ) : (\n                                        <div>\n                                            {\" \"}\n                                            {this.props.data.length > 0 ? (\n                                                <h4 style={{ float: \"left\" }}>Select a Marked Object</h4>\n                                            ) : null}{\" \"}\n                                        </div>\n                                    )}\n                                <ButtonGroup style={{ float: \"right\" }}>\n                                    {entry && !thing && this.props.type !== \"alertgroup\" ? (\n                                        <Button onClick={this.MoveEntry}>\n                                            Move to {this.props.type} {this.props.id}\n                                        </Button>\n                                    ) : null}\n                                    {entry && !thing && this.props.type !== \"alertgroup\" ? (\n                                        <Button onClick={this.CopyEntry}>\n                                            Copy to {this.props.type} {this.props.id}\n                                        </Button>\n                                    ) : null}\n                                    {thing || entry ? (\n                                        <Button onClick={this.ExpandLinkToggle}>\n                                            Link to {this.props.type} {this.props.id}\n                                        </Button>\n                                    ) : null}\n                                    {addToEvent && (\n                                        <Button\n                                            bsStyle={promoteButton.style}\n                                            onClick={this.Promote}\n                                            disabled={promoteButton.disabled}\n                                        >\n                                            {promoteButton.text\n                                                ? promoteButton.text\n                                                : `Add to ${this.props.type} ${this.props.id}`}\n                                        </Button>\n                                    )}\n                                    {(thing || entry) && (\n                                        <Button\n                                            bsStyle={reparseButton.style}\n                                            onClick={this.Reparse}\n                                            disabled={reparseButton.disabled}\n                                        >\n                                            {reparseButton.text ? reparseButton.text : \"Reparse Flair\"}\n                                        </Button>\n                                    )}\n                                    {(thing || entry) && (\n                                        <Button bsStyle=\"warning\" onClick={this.RemoveSelected}>\n                                            Unmark\n                  </Button>\n                                    )}\n                                    {(thing || entry) && (\n                                        <Button\n                                            bsStyle=\"danger\"\n                                            onClick={this.StartDelete}\n                                            disabled={deleteButton.disabled}\n                                        >\n                                            {deleteButton.text ? deleteButton.text : \"Delete\"}\n                                        </Button>\n                                    )}\n                                </ButtonGroup>\n                            </div>\n                            {this.state.linkPanel && (thing || entry) ? (\n                                <Panel collapsible expanded={this.state.linkPanel}>\n                                    <Form horizontal>\n                                        <Col sm={2}>Provide context to this link:</Col>\n                                        <Col sm={9}>\n                                            <FormControl\n                                                type=\"text\"\n                                                value={this.state.linkContextString}\n                                                placeholder=\"optional\"\n                                                onChange={this.LinkContextChange}\n                                            />\n                                        </Col>\n                                        <Col sm={1}>\n                                            <Button onClick={this.Link} bsStyle={\"success\"}>\n                                                Submit\n                    </Button>\n                                        </Col>\n                                    </Form>\n                                </Panel>\n                            ) : null}\n                            {pendingDelete && (\n                                <DeleteModal\n                                    things={deleteThings}\n                                    errorToggle={this.props.errorToggle}\n                                    callback={this.deleteCallback}\n                                />\n                            )}\n                        </div>\n                    )}\n            </div>\n        );\n    }\n\n    LinkContextChange = (e) => {\n        this.setState({ linkContextString: e.target.value });\n    }\n\n    ExpandLinkToggle = (newState)=> {\n        if (newState === true || newState === false) {\n            this.setState({ linkPanel: newState, linkContextString: \"\" });\n        } else {\n            let linkPanel = !this.state.linkPanel;\n            this.setState({ linkPanel: linkPanel, linkContextString: \"\" });\n        }\n    }\n\n    RemoveSelected = () => {\n        for (let key of this.props.data) {\n            if (key.selected) {\n                removeMarkedItems(key.type, key.id);\n            }\n        }\n\n        //update marked items after removal\n        this.props.getMarkedItems();\n\n        //turn off the action success buttons after removal\n        if (this.state.actionSuccess) {\n            this.setState({ actionSuccess: false });\n        }\n    }\n\n    StartDelete = () => {\n        this.setState({\n            pendingDelete: true\n        });\n    }\n\n    MoveEntry = () =>{\n        for (let key of this.props.data) {\n            if (key.selected && key.type === \"entry\") {\n                this.EntryAjax(key.id, true);\n            }\n        }\n    }\n\n    CopyEntry = () => {\n        for (let key of this.props.data) {\n            if (key.selected && key.type === \"entry\") {\n                this.EntryAjax(key.id, false);\n            }\n        }\n    }\n\n    Link = () => {\n        for (let key of this.props.data) {\n            if (key.selected) {\n                let arrayToLink = [];\n                let obj = {};\n                let currentobj = {};\n\n                //assign new thing to link\n                // eslint-disable-next-line\n                obj.id = parseInt(key.id);\n                obj.type = key.type;\n\n                //assign current thing to link to\n                // eslint-disable-next-line\n                currentobj.id = parseInt(this.props.id);\n                currentobj.type = this.props.type;\n\n                arrayToLink.push(obj);\n                arrayToLink.push(currentobj);\n\n                this.LinkAjax(arrayToLink);\n            }\n\n            /*\n                      if ( arrayToLink.length > 0 ) {\n                      //add current thing to be linked to\n                      let obj = {};\n                      obj.id = parseInt( this.props.id );\n                      obj.type = this.props.type;\n      \n                      arrayToLink.push( obj );\n                      this.LinkAjax( arrayToLink );\n                  }*/\n        }\n    }\n\n    Reparse = () => {\n        this.setState({\n            reparseButton: ACTION_BUTTONS.LOADING\n        });\n\n        $.when(\n            ...this.props.data.filter(thing => thing.selected).map(thing => {\n                return this.ReparseAjax(thing);\n            })\n        )\n            .then(\n                // Success\n                () => {\n                    this.setState({\n                        reparseButton: ACTION_BUTTONS.SUCCESS\n                    });\n                },\n                // Failure\n                error => {\n                    console.error(error);\n                    this.setState({\n                        reparseButton: ACTION_BUTTONS.ERROR\n                    });\n                    this.props.errorToggle(\"error reparsing\", error);\n                }\n            )\n            .always(() => {\n                setTimeout(() => {\n                    this.setState({\n                        reparseButton: ACTION_BUTTONS.READY\n                    });\n                }, 2000);\n            });\n    }\n\n    ReparseAjax = (thing) => {\n        return $.ajax({\n            type: \"put\",\n            url: \"/scot/api/v2/\" + thing.type + \"/\" + thing.id,\n            data: JSON.stringify({ parsed: 0 }),\n            contentType: \"application/json; charset=UTF-8\"\n        });\n    }\n\n    Promote = () => {\n        this.setState({\n            promoteButton: ACTION_BUTTONS.LOADING\n        });\n\n        let success = true;\n\n        $.when(\n            ...this.props.data.filter(thing => thing.selected).map(thing => {\n                return this.PromoteAjax(thing);\n            })\n        )\n            .then(\n                // Success\n                () => {\n                    this.setState({\n                        promoteButton: ACTION_BUTTONS.SUCCESS\n                    });\n                },\n                // Failure\n                error => {\n                    success = false;\n                    console.error(error);\n                    this.setState({\n                        promoteButton: ACTION_BUTTONS.ERROR\n                    });\n                    this.props.errorToggle(\"error adding alerts to event\", error);\n                }\n            )\n            .always(() => {\n                setTimeout(() => {\n                    this.setState({\n                        promoteButton: ACTION_BUTTONS.READY\n                    });\n\n                    if (success) {\n                        window.location.reload();\n                    }\n                }, 2000);\n            });\n    }\n\n    PromoteAjax = (thing) => {\n        return $.ajax({\n            type: \"put\",\n            url: \"/scot/api/v2/alert/\" + thing.id,\n            // eslint-disable-next-line\n            data: JSON.stringify({ promote: parseInt(this.props.id) }),\n            contentType: \"application/json; charset=UTF-8\"\n        });\n    }\n\n    LinkAjax = (arrayToLink) => {\n        let data = {};\n        data.weight = 1; //passed in object\n        data.vertices = arrayToLink; //link to current thing\n\n        if (this.state.linkContextString) {\n            //add context string if one was submitted\n            data.context = this.state.linkContextString;\n        }\n\n        $.ajax({\n            type: \"post\",\n            url: \"/scot/api/v2/link\",\n            data: JSON.stringify(data),\n            contentType: \"application/json; charset=UTF-8\",\n            dataType: \"json\",\n            success: function (response) {\n                console.log(\"successfully linked\");\n                this.ExpandLinkToggle(false); //disable link panel\n                this.ToggleActionSuccess(true);\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to link\", data);\n            }.bind(this)\n        });\n    }\n\n    EntryAjax = (id, removeOriginal) => {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/entry/\" + id,\n            success: function (response) {\n                let data = {};\n                data = {\n                    parent: 0,\n                    body: response.body,\n                    // eslint-disable-next-line\n                    target_id: parseInt(this.props.id),\n                    target_type: this.props.type\n                };\n                $.ajax({\n                    type: \"post\",\n                    url: \"/scot/api/v2/entry\",\n                    data: JSON.stringify(data),\n                    contentType: \"application/json; charset=UTF-8\",\n                    dataType: \"json\",\n                    success: function (response) {\n                        if (removeOriginal) {\n                            this.RemoveEntryAfterMove(id);\n                            this.RemoveSelected();\n                        } else {\n                            if (!this.state.actionSuccess) {\n                                this.ToggleActionSuccess(true);\n                            }\n                        }\n                    }.bind(this),\n                    error: function (data) {\n                        this.props.errorToggle(\"failed to create new entry\", data);\n                    }.bind(this)\n                });\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to get entry data\", data);\n            }.bind(this)\n        });\n    }\n\n    RemoveEntryAfterMove = (id) => {\n        $.ajax({\n            type: \"delete\",\n            url: \"/scot/api/v2/entry/\" + id,\n            success: function (response) {\n                console.log(\"removed original entry\");\n            },\n            error: function (data) {\n                this.props.errorToggle(\"Failed to remove original entry\", data);\n            }\n        });\n    }\n\n    ToggleActionSuccess = (status) => {\n        if (status === true || status === false) {\n            this.setState({ actionSuccess: status });\n        } else {\n            let newActionSuccess = !this.state.actionSuccess;\n            this.setState({ actionSuccess: newActionSuccess });\n        }\n    }\n}\n\nActions.propTypes = {\n    data: PropTypes.object\n};\n\nActions.defaultProps = {\n    data: {}\n};\n\nMark.propTypes = {\n    modalActive: PropTypes.bool\n};\n\nMark.defaultProps = {\n    modalActive: true\n};\n\n","import React from \"react\";\nimport $ from \"jquery\";\nimport DetailDataStatus from \"../components/detail_data_status\";\nimport ReactTime from \"react-time\"\nimport SelectedHeaderOptions from \"./selected_header_options.js\";\nimport { DeleteEvent } from \"../modal/delete.js\"\nimport Owner from \"../modal/owner.js\";\nimport Entities from \"../modal/entities.js\";\nimport ChangeHistory from \"../modal/change_history.js\";\nimport ViewedByHistory from \"../modal/viewed_by_history.js\";\nimport SelectedPermission from \"../components/permission.js\";\nimport SelectedEntry from \"./selected_entry.js\";\nimport Badge from '../components/badge.js'\nimport Notification from \"react-notification-system\";\nimport AddFlair from \"../components/add_flair.js\";\nimport EntityDetail from \"../modal/entity_detail.js\";\nimport LinkWarning from \"../modal/link_warning.js\";\nimport Links from \"../modal/links.js\";\nimport Mark from \"../modal/mark.js\";\nimport ExportModal from \"../modal/export_event.js\";\nimport PromotedData from \"../modal/promoted_data.js\";\nlet InitialAjaxLoad;\n\nexport default class SelectedHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    let entityDetailKey = Math.floor(Math.random() * 1000);\n    this.state = {\n      showEventData: false,\n      headerData: {},\n      sourceData: \"\",\n      tagData: \"\",\n      permissionsToolbar: false,\n      entitiesToolbar: false,\n      changeHistoryToolbar: false,\n      viewedByHistoryToolbar: false,\n      entryToolbar: false,\n      deleteToolbar: false,\n      promoteToolbar: false,\n      notificationType: null,\n      notificationMessage: null,\n      key: this.props.id,\n      showEntryData: false,\n      entryData: \"\",\n      showEntityData: false,\n      entityData: \"\",\n      entityid: null,\n      entitytype: null,\n      entityoffset: null,\n      entityobj: null,\n      flairToolbar: false,\n      linkWarningToolbar: false,\n      exportModal: false,\n      refreshing: false,\n      loading: false,\n      eventLoaded: false,\n      entryLoaded: false,\n      entityLoaded: false,\n      alertSelected: false,\n      aIndex: null,\n      aType: null,\n      aStatus: null,\n      aID: 0,\n      guideID: null,\n      fileUploadToolbar: false,\n      isNotFound: false,\n      runWatcher: false,\n      entityDetailKey: entityDetailKey,\n      processing: false,\n      showSignatureOptions: false,\n      showMarkModal: false,\n      showLinksModal: false,\n      isDeleted: false,\n      flairOff: false,\n      highlightedText: \"\",\n      flairing: false,\n      isMounted: false\n    };\n  }\n\n  componentWillMount = () => {\n    this.setState({ loading: true });\n  };\n\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    let delayFunction = {\n      delay: function () {\n        let entryType = \"entry\";\n        if (this.props.type === \"alertgroup\") {\n          entryType = \"alert\";\n        }\n        //Main Type Load\n        $.ajax({\n          type: \"get\",\n          url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n          success: function (result) {\n            if (this.state.isMounted) {\n              let eventResult = result;\n              this.setState({\n                headerData: eventResult,\n                showEventData: true,\n                isNotFound: false,\n                tagData: eventResult.tag,\n                sourceData: eventResult.source\n              });\n              if (\n                this.state.showEventData === true &&\n                this.state.showEntryData === true &&\n                this.state.showEntityData === true\n              ) {\n                this.setState({ loading: false });\n              }\n              if (\n                this.props.type === \"alertgroup\" &&\n                eventResult.parsed === -1\n              ) {\n                this.setState({ flairing: true });\n              } else {\n                this.setState({ flairing: false });\n              }\n            }\n          }.bind(this),\n          error: function (result) {\n            this.setState({ showEventData: true, isNotFound: true });\n            if (\n              this.state.showEventData === true &&\n              this.state.showEntryData === true &&\n              this.state.showEntityData === true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load detail data. Error message: \" +\n              result.responseText,\n              result\n            );\n          }.bind(this)\n        });\n        //entry load\n        $.ajax({\n          type: \"get\",\n          url:\n            \"scot/api/v2/\" +\n            this.props.type +\n            \"/\" +\n            this.props.id +\n            \"/\" +\n            entryType,\n          success: function (result) {\n            if (this.state.isMounted) {\n              let entryResult = result.records;\n              this.setState({\n                showEntryData: true,\n                entryData: entryResult,\n                runWatcher: true\n              });\n              this.Watcher();\n              if (\n                this.state.showEventData === true &&\n                this.state.showEntryData === true &&\n                this.state.showEntityData === true\n              ) {\n                this.setState({ loading: false });\n              }\n            }\n          }.bind(this),\n          error: function (result) {\n            this.setState({ showEntryData: true });\n            if (\n              this.state.showEventData === true &&\n              this.state.showEntryData === true &&\n              this.state.showEntityData === true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load entry data. Error message: \" +\n              result.responseText,\n              result\n            );\n          }\n        });\n        //entity load\n        $.ajax({\n          type: \"get\",\n          url:\n            \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n          success: function (result) {\n            if (this.state.isMounted) {\n              let entityResult = result.records;\n              this.setState({ showEntityData: true, entityData: entityResult });\n              var waitForEntry = {\n                waitEntry: function () {\n                  if (this.state.showEntryData === false) {\n                    setTimeout(waitForEntry.waitEntry, 50);\n                  } else {\n                    setTimeout(\n                      function () {\n                        AddFlair.entityUpdate(\n                          entityResult,\n                          this.flairToolbarToggle,\n                          this.props.type,\n                          this.linkWarningToggle,\n                          this.props.id,\n                          this.scrollTo\n                        );\n                      }.bind(this)\n                    );\n                    if (\n                      this.state.showEventData === true &&\n                      this.state.showEntryData === true &&\n                      this.state.showEntityData === true\n                    ) {\n                      this.setState({ loading: false });\n                    }\n                  }\n                }.bind(this)\n              };\n              waitForEntry.waitEntry();\n            }\n          }.bind(this),\n          error: function (result) {\n            this.setState({ showEntityData: true });\n            if (\n              this.state.showEventData === true &&\n              this.state.showEntryData === true &&\n              this.state.showEntityData === true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load entity data.\",\n              result\n            );\n          }.bind(this)\n        });\n        //guide load\n        if (this.props.type === \"alertgroup\") {\n          $.ajax({\n            type: \"get\",\n            url:\n              \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/guide\",\n            success: function (result) {\n              if (this.state.isMounted) {\n                let arr = [];\n                for (let i = 0; i < result.records.length; i++) {\n                  arr.push(result.records[i].id);\n                }\n                this.setState({ guideID: arr });\n              }\n            }.bind(this),\n            error: function (result) {\n              this.setState({ guideID: null });\n              this.props.errorToggle(\n                \"Error: Failed to load guide data. Error message:\" +\n                result.responseText,\n                result\n              );\n            }.bind(this)\n          });\n        }\n        this.props.createCallback(parseInt(this.props.id, 10), this.updated);\n      }.bind(this)\n    };\n    InitialAjaxLoad = setTimeout(delayFunction.delay, 400);\n  };\n\n  componentWillUnmount = () => {\n    this.setState({ isMounted: false });\n    clearTimeout(InitialAjaxLoad);\n    this.props.removeCallback(parseInt(this.props.id, 10), this.updated);\n  };\n\n  componentDidUpdate = () => {\n    //This runs the watcher which handles the entity popup and link warning.\n    if (this.state.runWatcher === true) {\n      this.Watcher();\n    }\n  };\n\n  componentWillReceiveProps = () => {\n    //resets the watcher flag to false. This will only get set to true if a call for entries is made.\n    this.setState({ runWatcher: false });\n  };\n\n  updated = (_type, _message) => {\n    if (!this.state.isDeleted) {\n      this.setState({\n        refreshing: true,\n        eventLoaded: false,\n        entryLoaded: false,\n        entityLoaded: false\n      });\n      let entryType = \"entry\";\n      if (this.props.type === \"alertgroup\") {\n        entryType = \"alert\";\n      }\n      //main type load\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        success: function (result) {\n          if (this.state.isMounted) {\n            let eventResult = result;\n            this.setState({\n              headerData: eventResult,\n              showEventData: true,\n              eventLoaded: true,\n              isNotFound: false,\n              tagData: eventResult.tag,\n              sourceData: eventResult.source\n            });\n            if (\n              this.state.eventLoaded === true &&\n              this.state.entryLoaded === true &&\n              this.state.entityLoaded === true\n            ) {\n              this.setState({ refreshing: false });\n            }\n            if (this.props.type === \"alertgroup\" && eventResult.parsed === -1) {\n              this.setState({ flairing: true });\n            } else {\n              this.setState({ flairing: false });\n            }\n          }\n        }.bind(this),\n        error: function (result) {\n          this.setState({\n            showEventData: true,\n            eventLoaded: true,\n            isNotFound: true\n          });\n          if (\n            this.state.eventLoaded === true &&\n            this.state.entryLoaded === true &&\n            this.state.entityLoaded === true\n          ) {\n            this.setState({ refreshing: false });\n          }\n          this.props.errorToggle(\n            \"Error: Failed to reload detail data. Error message: \" +\n            result.responseText,\n            result\n          );\n        }.bind(this)\n      });\n      //entry load\n      $.ajax({\n        type: \"get\",\n        url:\n          \"scot/api/v2/\" +\n          this.props.type +\n          \"/\" +\n          this.props.id +\n          \"/\" +\n          entryType,\n        success: function (result) {\n          if (this.state.isMounted) {\n            let entryResult = result.records;\n            this.setState({\n              showEntryData: true,\n              entryLoaded: true,\n              entryData: entryResult,\n              runWatcher: true\n            });\n            this.Watcher();\n            if (\n              this.state.eventLoaded === true &&\n              this.state.entryLoaded === true &&\n              this.state.entityLoaded === true\n            ) {\n              this.setState({ refreshing: false });\n            }\n          }\n        }.bind(this),\n        error: function (result) {\n          this.setState({ showEntryData: true, entryLoaded: true });\n          if (\n            this.state.eventLoaded === true &&\n            this.state.entryLoaded === true &&\n            this.state.entityLoaded === true\n          ) {\n            this.setState({ refreshing: false });\n          }\n          this.props.errorToggle(\n            \"Error: Failed to reload entry data. Error message: \" +\n            result.responseText,\n            result\n          );\n        }\n      });\n      //entity load\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n        success: function (result) {\n          if (this.state.isMounted) {\n            let entityResult = result.records;\n            this.setState({\n              showEntityData: true,\n              entityLoaded: true,\n              entityData: entityResult\n            });\n            var waitForEntry = {\n              waitEntry: function () {\n                if (this.state.entryLoaded === false) {\n                  setTimeout(waitForEntry.waitEntry, 50);\n                } else {\n                  setTimeout(\n                    function () {\n                      AddFlair.entityUpdate(\n                        entityResult,\n                        this.flairToolbarToggle,\n                        this.props.type,\n                        this.linkWarningToggle,\n                        this.props.id\n                      );\n                    }.bind(this)\n                  );\n                  if (\n                    this.state.eventLoaded === true &&\n                    this.state.entryLoaded === true &&\n                    this.state.entityLoaded === true\n                  ) {\n                    this.setState({ refreshing: false });\n                  }\n                }\n              }.bind(this)\n            };\n            waitForEntry.waitEntry();\n          }\n        }.bind(this),\n        error: function (result) {\n          this.setState({ showEntityData: true });\n          if (\n            this.state.eventLoaded === true &&\n            this.state.entryLoaded === true &&\n            this.state.entityLoaded === true\n          ) {\n            this.setState({ refreshing: false });\n          }\n          this.props.errorToggle(\n            \"Error: Failed to reload entity data.\",\n            result\n          );\n        }.bind(this)\n      });\n      //error popup if an error occurs\n      if ((_type !== undefined && _type !== null) && (_message !== null && _message !== undefined)) {\n        this.props.errorToggle(_message);\n      }\n    }\n  };\n\n  flairToolbarToggle = (id, value, type, entityoffset, entityobj) => {\n    this.setState({\n      flairToolbar: true,\n      entityid: id,\n      entityvalue: value,\n      entitytype: type,\n      entityoffset: entityoffset,\n      entityobj: entityobj\n    });\n  };\n\n  flairToolbarOff = () => {\n    if (this.state.isMounted) {\n      let newEntityDetailKey = this.state.entityDetailKey + 1;\n      this.setState({\n        flairToolbar: false,\n        entityDetailKey: newEntityDetailKey\n      });\n    }\n  };\n\n  linkWarningToggle = href => {\n    if (this.state.linkWarningToolbar === false) {\n      this.setState({ linkWarningToolbar: true, link: href });\n    } else {\n      this.setState({ linkWarningToolbar: false });\n    }\n  };\n\n  exportToggle = () => {\n    if (this.state.exportModal === false) {\n      this.setState({ exportModal: true });\n    } else {\n      this.setState({ exportModal: false });\n    }\n  };\n\n  viewedbyfunc = headerData => {\n    let viewedbyarr = [];\n    if (headerData !== null) {\n      for (let prop in headerData.view_history) {\n        viewedbyarr.push(prop);\n      }\n    }\n    return viewedbyarr;\n  };\n\n  entryToggle = () => {\n    if (this.state.entryToolbar === false) {\n      this.setState({ entryToolbar: true });\n    } else {\n      this.setState({ entryToolbar: false });\n      //click refresh detail button on screen to refresh data while the tinymce window was open since it held back updates of the DOM\n      //hold off on refresh as the tinymce preventing update is currently commented out\n      /*if ($('#refresh-detail')) {\n                $('#refresh-detail').click();\n            }*/\n    }\n  };\n\n  deleteToggle = isDeleted => {\n    if (this.state.deleteToolbar === false) {\n      this.setState({ deleteToolbar: true });\n    } else {\n      this.setState({ deleteToolbar: false });\n    }\n    //set isDeleted to true so notifications won't fire\n    if (isDeleted) {\n      this.setState({ isDeleted: true });\n    }\n  };\n\n  changeHistoryToggle = () => {\n    if (this.state.changeHistoryToolbar === false) {\n      this.setState({ changeHistoryToolbar: true });\n    } else {\n      this.setState({ changeHistoryToolbar: false });\n    }\n  };\n\n  viewedByHistoryToggle = () => {\n    if (this.state.viewedByHistoryToolbar === false) {\n      this.setState({ viewedByHistoryToolbar: true });\n    } else {\n      this.setState({ viewedByHistoryToolbar: false });\n    }\n  };\n\n  permissionsToggle = () => {\n    if (this.state.permissionsToolbar === false) {\n      this.setState({ permissionsToolbar: true });\n    } else {\n      this.setState({ permissionsToolbar: false });\n    }\n  };\n\n  entitiesToggle = () => {\n    if (this.state.entitiesToolbar === false) {\n      this.setState({ entitiesToolbar: true });\n    } else {\n      this.setState({ entitiesToolbar: false });\n    }\n  };\n\n  promoteToggle = () => {\n    if (this.state.promoteToolbar === false) {\n      this.setState({ promoteToolbar: true });\n    } else {\n      this.setState({ promoteToolbar: false });\n    }\n  };\n\n  fileUploadToggle = () => {\n    if (this.state.fileUploadToolbar === false) {\n      this.setState({ fileUploadToolbar: true });\n    } else {\n      this.setState({ fileUploadToolbar: false });\n    }\n  };\n\n  titleCase = string => {\n    let newstring = string.charAt(0).toUpperCase() + string.slice(1);\n    return newstring;\n  };\n\n  alertSelected = (aIndex, aID, aType, aStatus) => {\n    this.setState({\n      alertSelected: true,\n      aIndex: aIndex,\n      aID: aID,\n      aType: aType,\n      aStatus: aStatus\n    });\n  };\n\n  Watcher = () => {\n    $(\"iframe\").each(\n      function (index, ifr) {\n        //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n        ifr.contentWindow.requestAnimationFrame(\n          function () {\n            if (ifr.contentDocument != null) {\n              let arr = [];\n              //arr.push(this.props.type);\n              arr.push(this.checkFlairHover);\n              arr.push(this.checkHighlight);\n              $(ifr).off(\"mouseenter\");\n              $(ifr).off(\"mouseleave\");\n              $(ifr).on(\n                \"mouseenter\",\n                function (v, type) {\n                  let intervalID = setInterval(this[0], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                  let intervalID1 = setInterval(this[1], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                  $(ifr).data(\"intervalID\", intervalID);\n                  $(ifr).data(\"intervalID1\", intervalID1);\n                  console.log(\"Now watching iframe \" + intervalID);\n                }.bind(arr)\n              );\n              $(ifr).on(\"mouseleave\", function () {\n                let intervalID = $(ifr).data(\"intervalID\");\n                let intervalID1 = $(ifr).data(\"intervalID1\");\n                window.clearInterval(intervalID);\n                window.clearInterval(intervalID1);\n                console.log(\"No longer watching iframe \" + intervalID);\n              });\n            }\n          }.bind(this)\n        );\n      }.bind(this)\n    );\n    if (this.props.type === \"alertgroup\") {\n      $(\"#detail-container\")\n        .find(\"a, .entity\")\n        .not(\".not_selectable\")\n        .each(\n          function (index, tr) {\n            $(tr).off(\"mousedown\");\n            $(tr).on(\n              \"mousedown\",\n              function (index) {\n                let thing = index.target;\n                if ($(thing)[0].className === \"extras\") {\n                  thing = $(thing)[0].parentNode;\n                } //if an extra is clicked reference the parent element\n                if ($(thing).attr(\"url\")) {\n                  //link clicked\n                  let url = $(thing).attr(\"url\");\n                  this.linkWarningToggle(url);\n                } else {\n                  //entity clicked\n                  let entityid = $(thing).attr(\"data-entity-id\");\n                  let entityvalue = $(thing).attr(\"data-entity-value\");\n                  let entityoffset = $(thing).offset();\n                  let entityobj = $(thing);\n                  this.flairToolbarToggle(\n                    entityid,\n                    entityvalue,\n                    \"entity\",\n                    entityoffset,\n                    entityobj\n                  );\n                }\n              }.bind(this)\n            );\n          }.bind(this)\n        );\n    }\n  };\n\n  checkHighlight = ifr => {\n    let content;\n    if (ifr) {\n      content = ifr.contentWindow.getSelection().toString();\n      if (this.state.highlightedText !== content) {\n        //this only tells the lower components to run their componentWIllReceiveProps methods to check for highlighted text.\n        this.setState({ highlightedText: content });\n      } else {\n        return;\n      }\n    }\n  };\n\n  checkFlairHover = (ifr, nicktype) => {\n    function returnifr() {\n      return ifr;\n    }\n    if (ifr.contentDocument != null) {\n      $(ifr)\n        .contents()\n        .find(\".entity\")\n        .each(\n          function (index, entity) {\n            if ($(entity).css(\"background-color\") === \"rgb(255, 0, 0)\") {\n              $(entity).data(\"state\", \"down\");\n            } else if ($(entity).data(\"state\") === \"down\") {\n              $(entity).data(\"state\", \"up\");\n              let entityid = $(entity).attr(\"data-entity-id\");\n              let entityvalue = $(entity).attr(\"data-entity-value\");\n              let entityobj = $(entity);\n              let ifr = returnifr();\n              let entityoffset = {\n                top: $(entity).offset().top + $(ifr).offset().top,\n                left: $(entity).offset().left + $(ifr).offset().left\n              };\n              this.flairToolbarToggle(\n                entityid,\n                entityvalue,\n                \"entity\",\n                entityoffset,\n                entityobj\n              );\n            }\n          }.bind(this)\n        );\n      $(ifr)\n        .contents()\n        .find(\"a\")\n        .each(\n          function (index, a) {\n            if ($(a).css(\"color\") === \"rgb(255, 0, 0)\") {\n              $(a).data(\"state\", \"down\");\n            } else if ($(a).data(\"state\") === \"down\") {\n              $(a).data(\"state\", \"up\");\n              let url = $(a).attr(\"url\");\n              this.linkWarningToggle(url);\n            }\n          }.bind(this)\n        );\n    }\n  };\n\n  summaryUpdate = () => {\n    this.forceUpdate();\n  };\n\n  scrollTo = () => {\n    if (this.props.taskid !== undefined) {\n      $(\".entry-wrapper\").scrollTop(\n        $(\".entry-wrapper\").scrollTop() +\n        $(\"#iframe_\" + this.props.taskid).position().top -\n        30\n      );\n    }\n  };\n\n  guideRedirectToAlertListWithFilter = () => {\n    console.log(\"hey\")\n    RegExp.escape = function (text) {\n      return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n    };\n    //column, string, clearall (bool), type\n    this.props.handleFilter(null, null, true, \"alertgroup\");\n    this.props.handleFilter(\n      [\n        {\n          id: \"subject\",\n          value: RegExp.escape(this.state.headerData.data.applies_to[0])\n        }\n      ],\n      null,\n      false,\n      \"alertgroup\"\n    );\n    window.open(\"#/alertgroup/\");\n  };\n\n  showSignatureOptionsToggle = () => {\n    if (this.state.showSignatureOptions === false) {\n      this.setState({ showSignatureOptions: true });\n    } else {\n      this.setState({ showSignatureOptions: false });\n    }\n  };\n  markModalToggle = () => {\n    if (this.state.showMarkModal === false) {\n      this.setState({ showMarkModal: true });\n    } else {\n      this.setState({ showMarkModal: false });\n    }\n  };\n\n  ToggleProcessingMessage = status => {\n    this.setState({ processing: status });\n    this.props.togglePreventClick();\n  };\n\n  linksModalToggle = () => {\n    let showLinksModal = !this.state.showLinksModal;\n    this.setState({ showLinksModal: showLinksModal });\n  };\n\n  toggleFlair = () => {\n    if (this.state.flairOff) {\n      this.setState({ flairOff: false, runWatcher: true });\n      setTimeout(\n        function () {\n          AddFlair.entityUpdate(\n            this.state.entityData,\n            this.flairToolbarToggle,\n            this.props.type,\n            this.linkWarningToggle,\n            this.props.id\n          );\n        }.bind(this)\n      );\n    } else {\n      this.setState({ flairOff: true });\n    }\n  };\n\n  render() {\n    let headerData = this.state.headerData;\n    let viewedby = this.viewedbyfunc(headerData);\n    let type = this.props.type;\n    let subjectType = this.titleCase(this.props.type); //in signatures we're using the key \"name\"\n    let id = this.props.id;\n    let string = \"\";\n\n    if (this.state.headerData.subject) {\n      string = this.state.headerData.subject;\n    } else if (this.state.headerData.value) {\n      string = this.state.headerData.value;\n    } else if (this.state.headerData.name) {\n      string = this.state.headerData.name;\n    } else if (this.state.headerData.body) {\n      string = this.state.headerData.body;\n    }\n\n    return (\n      <div>\n        {\" \"}\n        {this.state.isNotFound ? (\n          <h1>No record found.</h1>\n        ) : (\n            <div>\n              <div id=\"header\">\n                <div id=\"NewEventInfo\" className=\"entry-header-info-null\">\n                  <div\n                    className=\"details-subject\"\n                    style={{ display: \"inline-flex\", paddingLeft: \"5px\" }}\n                  >\n                    {this.state.showEventData ? (\n                      <EntryDataSubject\n                        data={this.state.headerData}\n                        subjectType={subjectType}\n                        type={type}\n                        id={this.props.id}\n                        errorToggle={this.props.errorToggle}\n                      />\n                    ) : null}\n                    {this.state.refreshing ? (\n                      <span style={{ color: \"lightblue\" }}>\n                        Refreshing Data...\n                    </span>\n                    ) : null}\n                    {this.state.loading ? (\n                      <span style={{ color: \"lightblue\" }}>Loading...</span>\n                    ) : null}\n                    {this.state.processing ? (\n                      <span style={{ color: \"lightblue\" }}>\n                        Processing Actions...\n                    </span>\n                    ) : null}\n                    {this.state.flairing ? (\n                      <span style={{ color: \"lightblue\" }}>Flairing...</span>\n                    ) : null}\n                  </div>\n                  {type !== \"entity\" ? (\n                    <div\n                      className=\"details-table toolbar\"\n                      style={{ display: \"flex\" }}\n                    >\n                      <table>\n                        <tbody>\n                          <tr>\n                            <th />\n                            <td>\n                              <div style={{ marginLeft: \"5px\" }}>\n                                {this.state.showEventData ? (\n                                  <DetailDataStatus\n                                    data={this.state.headerData}\n                                    status={this.state.headerData.status}\n                                    id={id}\n                                    type={type}\n                                    errorToggle={this.props.errorToggle}\n                                  />\n                                ) : null}\n                              </div>\n                            </td>\n                            {type !== \"entity\" ? <th>Owner: </th> : null}\n                            {type !== \"entity\" ? (\n                              <td>\n                                <span>\n                                  {this.state.showEventData ? (\n                                    <Owner\n                                      key={id}\n                                      data={this.state.headerData.owner}\n                                      type={type}\n                                      id={id}\n                                      updated={this.updated}\n                                      errorToggle={this.props.errorToggle}\n                                    />\n                                  ) : null}\n                                </span>\n                              </td>\n                            ) : null}\n                            {type !== \"entity\" ? <th>Updated: </th> : null}\n                            {type !== \"entity\" ? (\n                              <td>\n                                <span id=\"event_updated\">\n                                  {this.state.showEventData ? (\n                                    <EntryDataUpdated\n                                      data={this.state.headerData.updated}\n                                    />\n                                  ) : null}\n                                </span>\n                              </td>\n                            ) : null}\n                            {(type === \"event\" || type === \"incident\") &&\n                              this.state.showEventData &&\n                              this.state.headerData.promoted_from.length > 0 ? (\n                                <th>Promoted From:</th>\n                              ) : null}\n                            {(type === \"event\" || type === \"incident\") &&\n                              this.state.showEventData &&\n                              this.state.headerData.promoted_from.length > 0 ? (\n                                <PromotedData\n                                  data={this.state.headerData.promoted_from}\n                                  type={type}\n                                  id={id}\n                                />\n                              ) : null}\n                            {type !== \"entity\" && this.state.showEventData ? (\n                              <Badge\n                                data={this.state.tagData}\n                                id={id}\n                                type={type}\n                                updated={this.updated}\n                                errorToggle={this.props.errorToggle}\n                                badgeType='tag'\n                              />\n                            ) : null}\n                            {type !== \"entity\" && this.state.showEventData ? (\n                              <Badge\n                                data={this.state.sourceData}\n                                id={id}\n                                type={type}\n                                updated={this.updated}\n                                errorToggle={this.props.errorToggle}\n                                badgeType='source'\n                              />\n                            ) : null}\n                          </tr>\n                        </tbody>\n                      </table>\n                      {/*<DetailHeaderMoreOptions type={type} id={id} data={this.state.headerData} errorToggle={this.props.errorToggle} showData={this.state.showEventData} />*/}\n                    </div>\n                  ) : null}\n                </div>\n                <Notification ref=\"notificationSystem\" />\n                {this.state.exportModal ? (\n                  <ExportModal\n                    type={type}\n                    errorToggle={this.props.errorToggle}\n                    exportToggle={this.exportToggle}\n                    id={id}\n                  />\n                ) : null}\n                {this.state.linkWarningToolbar ? (\n                  <LinkWarning\n                    linkWarningToggle={this.linkWarningToggle}\n                    link={this.state.link}\n                  />\n                ) : null}\n                {this.state.viewedByHistoryToolbar ? (\n                  <ViewedByHistory\n                    viewedByHistoryToggle={this.viewedByHistoryToggle}\n                    id={id}\n                    type={type}\n                    subjectType={subjectType}\n                    viewedby={viewedby}\n                    errorToggle={this.props.errorToggle}\n                  />\n                ) : null}\n                {this.state.changeHistoryToolbar ? (\n                  <ChangeHistory\n                    changeHistoryToggle={this.changeHistoryToggle}\n                    id={id}\n                    type={type}\n                    subjectType={subjectType}\n                    errorToggle={this.props.errorToggle}\n                  />\n                ) : null}\n                {this.state.entitiesToolbar ? (\n                  <Entities\n                    entitiesToggle={this.entitiesToggle}\n                    entityData={this.state.entityData}\n                    flairToolbarToggle={this.flairToolbarToggle}\n                    flairToolbarOff={this.flairToolbarOff}\n                  />\n                ) : null}\n                {this.state.deleteToolbar ? (\n                  <DeleteEvent\n                    subjectType={subjectType}\n                    type={type}\n                    id={id}\n                    deleteToggle={this.deleteToggle}\n                    updated={this.updated}\n                    errorToggle={this.props.errorToggle}\n                    history={this.props.history}\n                  />\n                ) : null}\n                {this.state.showMarkModal ? (\n                  <Mark\n                    modalActive={true}\n                    type={type}\n                    id={id}\n                    string={string}\n                    errorToggle={this.props.errorToggle}\n                    markModalToggle={this.markModalToggle}\n                  />\n                ) : null}\n                {this.state.showLinksModal ? (\n                  <Links\n                    modalActive={true}\n                    type={type}\n                    id={id}\n                    errorToggle={this.props.errorToggle}\n                    linksModalToggle={this.linksModalToggle}\n                  />\n                ) : null}\n                {this.state.showEventData ? (\n                  <SelectedHeaderOptions\n                    type={type}\n                    subjectType={subjectType}\n                    id={id}\n                    headerData={this.state.headerData}\n                    status={this.state.headerData.status}\n                    promoteToggle={this.promoteToggle}\n                    permissionsToggle={this.permissionsToggle}\n                    entryToggle={this.entryToggle}\n                    entitiesToggle={this.entitiesToggle}\n                    changeHistoryToggle={this.changeHistoryToggle}\n                    viewedByHistoryToggle={this.viewedByHistoryToggle}\n                    exportToggle={this.exportToggle}\n                    deleteToggle={this.deleteToggle}\n                    updated={this.updated}\n                    alertSelected={this.state.alertSelected}\n                    aIndex={this.state.aIndex}\n                    aType={this.state.aType}\n                    aStatus={this.state.aStatus}\n                    flairToolbarToggle={this.flairToolbarToggle}\n                    flairToolbarOff={this.flairToolbarOff}\n                    sourceToggle={this.sourceToggle}\n                    guideID={this.state.guideID}\n                    subjectName={this.state.headerData.subject}\n                    fileUploadToggle={this.fileUploadToggle}\n                    fileUploadToolbar={this.state.fileUploadToolbar}\n                    guideRedirectToAlertListWithFilter={\n                      this.guideRedirectToAlertListWithFilter\n                    }\n                    showSignatureOptionsToggle={this.showSignatureOptionsToggle}\n                    markModalToggle={this.markModalToggle}\n                    linksModalToggle={this.linksModalToggle}\n                    ToggleProcessingMessage={this.ToggleProcessingMessage}\n                    errorToggle={this.props.errorToggle}\n                    toggleFlair={this.toggleFlair}\n                  />\n                ) : null}\n                {this.state.permissionsToolbar ? (\n                  <SelectedPermission\n                    updateid={id}\n                    id={id}\n                    type={type}\n                    permissionData={this.state.headerData}\n                    permissionsToggle={this.permissionsToggle}\n                    updated={this.updated}\n                    errorToggle={this.props.errorToggle}\n                  />\n                ) : null}\n              </div>\n              {this.state.showEventData && type !== \"entity\" ? (\n                <SelectedEntry\n                  id={id}\n                  type={type}\n                  entryToggle={this.entryToggle}\n                  updated={this.updated}\n                  entryData={this.state.entryData}\n                  entityData={this.state.entityData}\n                  headerData={this.state.headerData}\n                  showEntryData={this.state.showEntryData}\n                  showEntityData={this.state.showEntityData}\n                  alertSelected={this.alertSelected}\n                  summaryUpdate={this.summaryUpdate}\n                  flairToolbarToggle={this.flairToolbarToggle}\n                  flairToolbarOff={this.flairToolbarOff}\n                  linkWarningToggle={this.linkWarningToggle}\n                  entryToolbar={this.state.entryToolbar}\n                  isAlertSelected={this.state.alertSelected}\n                  aType={this.state.aType}\n                  aID={this.state.aID}\n                  alertPreSelectedId={this.props.alertPreSelectedId}\n                  errorToggle={this.props.errorToggle}\n                  fileUploadToggle={this.fileUploadToggle}\n                  fileUploadToolbar={this.state.fileUploadToolbar}\n                  showSignatureOptions={this.state.showSignatureOptions}\n                  flairOff={this.state.flairOff}\n                  highlightedText={this.state.highlightedText}\n                  form={this.props.form}\n                  createCallback={this.props.createCallback}\n                />\n              ) : null}\n              {this.state.showEventData && type === \"entity\" ? (\n                <EntityDetail\n                  entityid={id}\n                  form={this.props.form}\n                  entitytype={\"entity\"}\n                  id={id}\n                  type={\"entity\"}\n                  fullScreen={true}\n                  errorToggle={this.props.errorToggle}\n                  linkWarningToggle={this.linkWarningToggle}\n                  createCallback={this.props.createCallback}\n                />\n              ) : null}\n              {this.state.flairToolbar ? (\n                <EntityDetail\n                  key={this.state.entityDetailKey}\n                  form={this.props.form}\n                  flairToolbarToggle={this.flairToolbarToggle}\n                  flairToolbarOff={this.flairToolbarOff}\n                  linkWarningToggle={this.linkWarningToggle}\n                  entityid={parseInt(this.state.entityid, 10)}\n                  data={this.state.headerData}\n                  entityvalue={this.state.entityvalue}\n                  entitytype={this.state.entitytype}\n                  type={this.props.type}\n                  id={this.props.id}\n                  errorToggle={this.props.errorToggle}\n                  entityoffset={this.state.entityoffset}\n                  watcher={this.Watcher}\n                  entityobj={this.state.entityobj}\n                  createCallback={this.props.createCallback}\n                />\n              ) : null}\n            </div>\n          )}\n      </div>\n    );\n  };\n}\n\nclass EntryDataUpdated extends React.Component {\n  render() {\n    let data = this.props.data;\n    return (\n      <div>\n        <ReactTime value={data * 1000} format=\"MM/DD/YY hh:mm:ss a\" />\n      </div>\n    );\n  };\n}\n\nclass EntryDataSubject extends React.Component {\n  constructor(props) {\n    super(props);\n    let keyName = \"subject\";\n    let value = this.props.data.subject;\n    if (this.props.type === \"signature\") {\n      keyName = \"name\";\n      value = this.props.data.name;\n    } else if (this.props.type === \"entity\") {\n      keyName = \"value\";\n      value = this.props.data.value;\n    }\n    this.state = {\n      value: value,\n      width: \"\",\n      keyName: keyName\n    };\n  }\n\n  handleChange = event => {\n    if (event !== null) {\n      let keyName = this.state.keyName;\n      let json = { [keyName]: event.target.value };\n      let newValue = event.target.value;\n      $.ajax({\n        type: \"put\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        data: JSON.stringify(json),\n        contentType: \"application/json; charset=UTF-8\",\n        success: function (data) {\n          console.log(\"success: \" + data);\n          this.setState({ value: newValue });\n          this.calculateWidth(newValue);\n        }.bind(this),\n        error: function (result) {\n          this.props.errorToggle(\n            \"error: Failed to update the subject/name\",\n            result\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.calculateWidth(this.state.value);\n  };\n\n  onChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleEnterKey = e => {\n    if (e.key === \"Enter\") {\n      this.handleChange(e);\n    }\n  };\n\n  calculateWidth = input => {\n    let newWidth;\n    $(\"#invisible\").html($(\"<span></span>\").text(input));\n    newWidth = $(\"#invisible\").width() + 25 + \"px\";\n    this.setState({ width: newWidth });\n  };\n\n  componentWillReceiveProps = nextProps => {\n    let value = nextProps.data.subject;\n    if (nextProps.type === \"signature\") {\n      value = nextProps.data.name;\n    } else if (nextProps.type === \"entity\") {\n      value = nextProps.data.value;\n    }\n    this.setState({ value: value });\n    this.calculateWidth(value);\n  };\n\n  render() {\n    //only disable the subject editor on an entity with a non-blank subject as editing it could damage flair.\n    let isDisabled = false;\n    if (this.props.type === \"entity\" && this.state.value !== \"\") {\n      isDisabled = true;\n    }\n    return (\n      <div>\n        {this.props.subjectType} {this.props.id}:{\" \"}\n        <input\n          type=\"text\"\n          value={this.state.value}\n          onKeyPress={this.handleEnterKey}\n          onChange={this.onChange}\n          onBlur={this.handleChange}\n          style={{ width: this.state.width, lineHeight: \"normal\" }}\n          className=\"detail-header-input\"\n          disabled={isDisabled}\n        />\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport ReactTable from \"react-table\";\nimport { buildTypeColumns } from \"./tableConfig\";\nimport $ from \"jquery\";\nimport * as Cookies from \"../utils/cookies\";\nimport listColumnsJSON from \"../utils/list-columns\";\nimport SelectedContainer from '../detail/selected_container';\nimport Button from \"react-bootstrap/lib/Button\";\nimport LoadingContainer from \"./LoadingContainer/index\"\nimport EntityCreateModal from \"../modal/entity_create\"\nlet datasource;\nlet listStartY;\nlet listStartHeight;\nlet listQuery;\n\n\nexport default class ListView extends React.Component {\n  constructor(props) {\n    super(props);\n    let type = this.props.type;\n    let id = this.props.id;\n    let queryType = this.props.type;\n    let alertPreSelectedId = null;\n    let scrollHeight = $(window).height() - 170 + \"px\";\n    let scrollWidth = \"650px\";\n    let showSelectedContainer = false;\n    let sort = [{ id: \"id\", desc: true }];\n    let activepage = { page: 0, limit: 50 };\n    let filter = [];\n\n    let columnsDisplay = listColumnsJSON.columnsDisplay[this.props.type];\n    let columns = listColumnsJSON.columns[this.props.type];\n    let columnsClassName = listColumnsJSON.columnsClassName[this.props.type];\n\n    if (this.props.listViewSort != null) {\n      sort = JSON.parse(this.props.listViewSort);\n    }\n\n    if (this.props.listViewPage != null) {\n      activepage = JSON.parse(this.props.listViewPage);\n    }\n\n    if (this.props.listViewFilter != null) {\n      filter = JSON.parse(this.props.listViewFilter);\n    }\n\n    if (this.props.type === \"alert\") {\n      showSelectedContainer = false;\n      typeCapitalized = \"Alertgroup\";\n      type = \"alertgroup\";\n      queryType = \"alertgroup\";\n      alertPreSelectedId = id;\n    }\n\n    if (this.props.type === \"task\") {\n      type = \"task\";\n      queryType = this.props.queryType;\n    }\n\n    let typeCapitalized = this.titleCase(this.props.type);\n    this.state = {\n      togglePreventClick: false,\n      splitter: true,\n      selectedColor: \"#AEDAFF\",\n      sourcetags: [],\n      tags: [],\n      startepoch: \"\",\n      endepoch: \"\",\n      idtext: \"\",\n      totalCount: 0,\n      activepage: activepage,\n      statustext: \"\",\n      subjecttext: \"\",\n      idsarray: [],\n      classname: [\" \", \" \", \" \", \" \"],\n      alldetail: true,\n      viewsarrow: [0, 0],\n      idarrow: [-1, -1],\n      subjectarrow: [0, 0],\n      statusarrow: [0, 0],\n      resize: \"horizontal\",\n      createdarrow: [0, 0],\n      sourcearrow: [0, 0],\n      tagsarrow: [0, 0],\n      viewstext: \"\",\n      entriestext: \"\",\n      scrollheight: scrollHeight,\n      display: \"flex\",\n      differentviews: \"\",\n      maxwidth: \"915px\",\n      maxheight: scrollHeight,\n      minwidth: \"650px\",\n      suggestiontags: [],\n      suggestionssource: [],\n      sourcetext: \"\",\n      tagstext: \"\",\n      scrollwidth: scrollWidth,\n      reload: false,\n      viewfilter: false,\n      viewevent: false,\n      showevent: true,\n      objectarray: [],\n      csv: true,\n      fsearch: \"\",\n      listViewOrientation: \"landscape-list-view\",\n      columns: listColumnsJSON.columns[this.props.type],\n      columnsDisplay: listColumnsJSON.columnsDisplay[this.props.type],\n      columnsClassName: listColumnsJSON.columnsClassName[this.props.type],\n      typeCapitalized: typeCapitalized,\n      type: type,\n      queryType: queryType,\n      id: id,\n      showSelectedContainer: showSelectedContainer,\n      listViewContainerDisplay: null,\n      viewMode: this.props.viewMode,\n      offset: 0,\n      sort: sort,\n      filter: filter,\n      match: null,\n      alertPreSelectedId: alertPreSelectedId,\n      entryid: this.props.id2,\n      listViewKey: 1,\n      loading: true,\n      initialAutoScrollToId: false,\n      manualScrollHeight: null,\n      showEntityCreateModal: false,\n      form: []\n    };\n    this.handleRowSelection = this.handleRowSelection.bind(this);\n  }\n\n  componentWillMount = () => {\n    if (\n      this.props.viewMode === undefined ||\n      this.props.viewMode === \"default\"\n    ) {\n      this.Landscape();\n    } else if (this.props.viewMode === \"landscape\") {\n      this.Landscape();\n    } else if (this.props.viewMode === \"portrait\") {\n      this.Portrait();\n    }\n    //If alert id is passed, convert the id to its alertgroup id.\n    if (this.props.id) {\n      this.ConvertAlertIdToAlertgroupId(this.props.id);\n    }\n\n    //if the type is entry, convert the id and type to the actual type and id\n    this.ConvertEntryIdToType(this.props.id);\n\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/form\",\n      success: function (data) {\n        this.setState({ form: data });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"Failed to get form structure\", data);\n      }.bind(this)\n    });\n  };\n\n  componentDidMount = () => {\n    let height = this.state.scrollheight;\n    let sortBy = this.state.sort;\n    let filterBy = this.state.filter;\n    let pageLimit = this.state.activepage.limit;\n    let pageNumber = this.state.activepage.page;\n    let idsarray = [];\n    let newPage;\n    if (this.props.id !== undefined) {\n      if (this.props.id.length > 0) {\n        array = this.props.id;\n        //scrolled = $('.container-fluid2').scrollTop()\n        if (this.state.viewMode === \"landscape\") {\n          height = \"30vh\";\n        }\n      }\n    }\n\n    let array = [];\n    let finalarray = [];\n    //register for creation\n    let storeKey = this.props.type + \":listview\";\n    this.props.createCallback(storeKey, this.reloadactive);\n    // Store.storeKey(storeKey);\n    // Store.addChangeListener(this.reloadactive);\n    //List View code\n    let url = \"/scot/api/v2/\" + this.state.type;\n    if (this.props.type === \"alert\") {\n      url = \"/scot/api/v2/alertgroup\";\n    }\n\n    //get page number\n    newPage = pageNumber * pageLimit;\n    let data = { limit: pageLimit, offset: newPage };\n\n    //add sort to the data object\n    if (sortBy !== undefined || sortBy === null) {\n      let sortObj = {};\n      $.each(sortBy, function (key, value) {\n        let sortInt = -1;\n        if (!value.desc) {\n          sortInt = 1;\n        }\n        sortObj[value.id] = sortInt;\n      });\n      data[\"sort\"] = JSON.stringify(sortObj);\n    }\n\n    //add filter to the data object\n    if (sortBy !== undefined || sortBy === null) {\n      $.each(filterBy, function (key, value) {\n        if (value.id === \"source\" || value.id === \"tag\") {\n          let stringArr = [];\n          for (let each of value.value) {\n            stringArr.push(each.name);\n          }\n          data[value.id] = JSON.stringify(stringArr);\n        } else if (value.id === \"created\" || value.id === \"updated\") {\n          let arr = [];\n          arr.push(value.value.start);\n          arr.push(value.value.end);\n          data[value.id] = JSON.stringify(arr);\n        } else {\n          data[value.id] = JSON.stringify(value.value);\n        }\n      });\n    }\n\n    listQuery = $.ajax({\n      type: \"GET\",\n      url: url,\n      data: data,\n      traditional: true,\n      success: function (response) {\n        datasource = response;\n        $.each(\n          datasource.records,\n          function (key, value) {\n            finalarray[key] = {};\n            $.each(\n              value,\n              function (num, item) {\n                if (num === \"sources\" || num === \"source\") {\n                  if (item !== undefined) {\n                    let sourcearr = item.join(\", \");\n                    finalarray[key][\"source\"] = sourcearr;\n                  }\n                } else if (num === \"tags\" || num === \"tag\") {\n                  if (item !== undefined) {\n                    let tagarr = item.join(\", \");\n                    finalarray[key][\"tag\"] = tagarr;\n                  }\n                } else {\n                  finalarray[key][num] = item;\n                }\n                if (num === \"id\") {\n                  this.props.createCallback(item, this.reloadactive);\n                  idsarray.push(item);\n                }\n              }.bind(this)\n            );\n            if (key % 2 === 0) {\n              finalarray[key][\"classname\"] = \"table-row roweven\";\n            } else {\n              finalarray[key][\"classname\"] = \"table-row rowodd\";\n            }\n          }.bind(this)\n        );\n\n        let totalPages = this.getPages(response.totalRecordCount); //get pages for list view\n\n        this.setState({\n          scrollheight: height,\n          objectarray: finalarray,\n          totalCount: response.totalRecordCount,\n          loading: false,\n          idsarray: idsarray,\n          totalPages: totalPages\n        });\n        if (\n          this.props.type === \"alert\" &&\n          this.state.showSelectedContainer === false\n        ) {\n          this.setState({ showSelectedContainer: false });\n        } else if (this.state.id === undefined || this.state.id === null) {\n          this.setState({ showSelectedContainer: false });\n        } else {\n          this.setState({ showSelectedContainer: true });\n        }\n      }.bind(this),\n      error: function (data) {\n        if (!data.statusText === \"abort\") {\n          this.props.errorToggle(\"failed to get list data\", data);\n        }\n      }.bind(this)\n    });\n\n    $(\"#list-view-container\").keydown(this.keyNavigate);\n\n    $(document.body).keydown(\n      function (e) {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if ($(\"textarea\").is(\":focus\")) {\n          return;\n        }\n        if (e.keyCode === 70 && (e.ctrlKey !== true && e.metaKey !== true)) {\n          this.toggleView();\n        }\n      }.bind(this)\n    );\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.keyNavigate);\n  };\n\n  togglePreventClick = () => {\n    this.setState({ preventClick: !this.state.preventClick });\n  }\n\n  keyNavigate = event => {\n    if (event.type !== \"click\") {\n      if (![\"j\", \"k\", \"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n        return;\n      }\n\n      let target = event.target || event.srcElement;\n      let targetType = target.tagName.toLowerCase();\n      if (targetType === \"input\" || targetType === \"textarea\") {\n        return;\n      }\n    }\n\n    let curRow = document.querySelector(\n      \".ReactTable .rt-tbody .rt-tr.selected\"\n    );\n    if (!curRow) {\n      return;\n    }\n    let nextRow = null;\n\n    switch (event.key) {\n      case \"j\":\n      case \"ArrowDown\":\n      default:\n        nextRow = curRow.parentElement.nextElementSibling;\n        break;\n      case \"k\":\n      case \"ArrowUp\":\n        nextRow = curRow.parentElement.previousElementSibling;\n        break;\n    }\n\n    if (!nextRow) {\n      return;\n    }\n    let nextId = nextRow.children[0].children[0].innerHTML;\n\n    this.props.history.push(`/${this.state.type}/${nextId}`);\n\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  //Callback for AMQ updates\n  reloadactive = () => {\n    this.getNewData();\n  };\n\n  ToggleCreateEntity = () => {\n    this.setState({ showEntityCreateModal: !this.state.showEntityCreateModal });\n  };\n\n  render = () => {\n    let listViewContainerHeight;\n    let showClearFilter = false;\n    let scrollheight = this.state.scrollheight;\n\n    if (this.state.listViewContainerDisplay == null) {\n      listViewContainerHeight = null;\n    } else {\n      listViewContainerHeight = \"0px\";\n    }\n\n    if (this.state.id != null && this.state.typeCapitalized != null) {\n      document.title =\n        this.state.typeCapitalized.charAt(0) + \"-\" + this.state.id;\n    }\n\n    if (\n      Cookies.checkCookie(\"listViewFilter\" + this.props.type) != null ||\n      Cookies.checkCookie(\"listViewSort\" + this.props.type) != null ||\n      Cookies.checkCookie(\"listViewPage\" + this.props.type) != null\n    ) {\n      showClearFilter = true;\n    }\n\n    /*if ( this.state.manualScrollHeight ) {\n            scrollheight = this.state.manualScrollHeight;\n        }*/\n\n    let columns = buildTypeColumns(this.props.type);\n\n    return (\n      <div>\n        {this.state.type !== \"entry\" ? (\n          <div key={this.state.listViewKey} className=\"allComponents\">\n            <div className=\"black-border-line\">\n              <div className=\"mainview\">\n                <div>\n                  <div className=\"list-buttons\">\n                    {this.props.notificationSetting === \"on\" ? (\n                      <Button\n                        eventkey=\"1\"\n                        onClick={this.props.notificationToggle}\n                        bsSize=\"xsmall\"\n                      >Mute Notifications\n                                             </Button>\n                    ) : (\n                        <Button\n                          eventkey=\"2\"\n                          onClick={this.props.notificationToggle}\n                          bsSize=\"xsmall\"\n                        >\n                          Turn On Notifications\n                                                </Button>\n                      )}\n                    {this.props.type === \"event\" ||\n                      this.props.type === \"intel\" ||\n                      this.props.type === \"incident\" ||\n                      this.props.type === \"signature\" ||\n                      this.props.type === \"guide\" ||\n                      this.props.type === \"entity\" ? (\n                        <Button\n                          onClick={this.createNewThing}\n                          eventkey=\"6\"\n                          bsSize=\"xsmall\"\n                        >\n                          Create {this.state.typeCapitalized}\n                        </Button>\n                      ) : null}\n                    <Button\n                      eventkey=\"5\"\n                      bsSize=\"xsmall\"\n                      onClick={this.exportCSV}\n                    >\n                      Export to CSV\n                                        </Button>\n                    <Button bsSize=\"xsmall\" onClick={this.toggleView}>\n                      Full Screen Toggle (f)\n                                        </Button>\n                    {showClearFilter ? (\n                      <Button\n                        onClick={this.clearAll}\n                        eventkey=\"3\"\n                        bsSize=\"xsmall\"\n                        bsStyle={\"info\"}\n                      >\n                        Clear All Filters\n                                        </Button>\n                    ) : null}\n                  </div>\n                  <div id=\"list-view-container\" tabIndex=\"1\">\n                    <div id=\"list-view\" tabIndex=\"2\">\n                      <ReactTable\n                        columns={columns}\n                        data={this.state.objectarray}\n                        style={{\n                          height: scrollheight\n                        }}\n                        page={this.state.activepage.page}\n                        pages={this.state.totalPages}\n                        defaultPageSize={50}\n                        onPageChange={this.handlePageChange}\n                        onPageSizeChange={this.handlePageSizeChange}\n                        pageSize={this.state.activepage.limit}\n                        onFilteredChange={this.handleFilter}\n                        filtered={this.state.filter}\n                        onSortedChange={this.handleSort}\n                        sorted={this.state.sort}\n                        manual={true}\n                        sortable={true}\n                        filterable={true}\n                        resizable={true}\n                        styleName=\"styles.ReactTable\"\n                        className=\"-striped -highlight\"\n                        minRows={0}\n                        LoadingComponent={this.CustomTableLoader}\n                        loading={this.state.loading}\n                        getTrProps={this.handleRowSelection}\n                      />\n                    </div>\n                  </div>\n                  <div\n                    onMouseDown={this.dragdiv}\n                    className=\"splitter\"\n                    style={{\n                      display: \"block\",\n                      height: \"5px\",\n                      backgroundColor: \"black\",\n                      borderTop: \"1px solid #AAA\",\n                      borderBottom: \"1px solid #AAA\",\n                      cursor: \"row-resize\",\n                      overflow: \"hidden\"\n                    }}\n                  />\n                  {this.state.showSelectedContainer ? (\n                    <SelectedContainer\n                      key={this.state.id}\n                      id={this.state.id}\n                      type={this.state.queryType}\n                      alertPreSelectedId={this.state.alertPreSelectedId}\n                      taskid={this.state.entryid}\n                      handleFilter={this.handleFilter}\n                      errorToggle={this.props.errorToggle}\n                      history={this.props.history}\n                      togglePreventClick={this.togglePreventClick}\n                      form={this.state.form}\n                      createCallback={this.props.createCallback}\n                      removeCallback={this.props.removeCallback}\n                      togglePreventClick={this.togglePreventClick}\n                    />\n                  ) : null}\n                  {this.state.showEntityCreateModal ? (\n                    <EntityCreateModal\n                      match={\"\"}\n                      modalActive={this.state.showEntityCreateModal}\n                      ToggleCreateEntity={this.ToggleCreateEntity}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n\n  CustomTableLoader = () => {\n    return (\n      <div className={\"-loading\" + (this.state.loading ? \" -active\" : \"\")}>\n        <LoadingContainer loading={this.state.loading} />\n      </div>\n    );\n  };\n\n  AutoScrollToId = () => {\n    //auto scrolls to selected id\n    let row = document.querySelector(\".ReactTable .rt-tbody .rt-tr.selected\");\n    let tbody = document.querySelector(\".ReactTable .rt-tbody\");\n\n    if (!row) {\n      tbody.scrollTop = 0;\n      return;\n    }\n\n    if (\n      tbody.scrollTop + tbody.offsetHeight - row.offsetHeight < row.offsetTop ||\n      row.offsetTop < tbody.scrollTop\n    ) {\n      tbody.scrollTop =\n        row.offsetTop - tbody.offsetHeight / 2 + row.offsetHeight / 2;\n    }\n\n    this.setState({ initialAutoScrollToId: true });\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    //auto scrolls to selected id\n    for (let i = 0; i < this.state.objectarray.length; i++) {\n      //Iterate through all of the items in the list to verify that the current id still matches the rows in the list. If not, don't scroll\n      let idReference = this.state.objectarray[i].id;\n      if (\n        (this.state.id != null &&\n          this.state.id === idReference &&\n          this.state.id !== prevState.id) ||\n        (this.state.id != null &&\n          this.state.id === idReference &&\n          prevState.initialAutoScrollToId === false)\n      ) {\n        //Checks that the id is present, is on the screen, and will not be kicked off again if its already been scrolled to before. The || statement handles the initial load since the id hasn't been scrolled to before.\n        setTimeout(this.AutoScrollToId, 300);\n      }\n    }\n  };\n\n  componentWillReceiveProps = nextProps => {\n    if (nextProps.id === undefined) {\n      this.setState({\n        type: nextProps.type,\n        id: null,\n        showSelectedContainer: false,\n        scrollheight: $(window).height() - 170 + \"px\"\n      });\n    } else if (nextProps.id !== this.props.id) {\n      if (this.props.type === \"alert\") {\n        this.ConvertAlertIdToAlertgroupId(nextProps.id);\n        this.ConvertEntryIdToType(nextProps.id);\n        this.setState({\n          type: nextProps.type,\n          alertPreSelectedId: nextProps.id\n        });\n      } else if (this.props.type === \"task\") {\n        this.setState({\n          type: nextProps.type,\n          queryType: nextProps.queryType,\n          id: nextProps.id,\n          entryid: nextProps.id2\n        });\n      } else {\n        this.setState({ type: nextProps.type, id: nextProps.id });\n      }\n    }\n  };\n\n  ConvertAlertIdToAlertgroupId = id => {\n    //if the type is alert, convert the id to the alertgroup id\n    if (this.props.type === \"alert\") {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/alert/\" + id,\n        success: function (response1) {\n          let newresponse = response1;\n          this.setState({\n            id: newresponse.alertgroup,\n            showSelectedContainer: true\n          });\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle(\n            \"failed to convert alert id to alertgroup id\",\n            data\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  ConvertEntryIdToType = id => {\n    //if the type is alert, convert the id to the alertgroup id\n    if (this.props.type === \"entry\") {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/entry/\" + id,\n        async: false,\n        success: function (response) {\n          this.selected(\n            response.target.type,\n            response.target.id,\n            this.props.id\n          );\n          //this.setState({id: response.target.id, type: response.target.type, showSelectedContainer:true});\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle(\n            \"failed to convert alert id to alertgroup id\",\n            data\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  //This is used for the dragging portrait and landscape views\n  startdrag = e => {\n    $(\"iframe\").each(function (index, ifr) {\n      $(ifr).addClass(\"pointerEventsOff\");\n    });\n\n    this.setState({\n      manualScrollHeight: listStartHeight + e.clientY - listStartY + \"px\",\n      scrollheight: listStartHeight + e.clientY - listStartY + \"px\"\n    });\n  };\n\n  stopdrag = e => {\n    $(\"iframe\").each(function (index, ifr) {\n      $(ifr).removeClass(\"pointerEventsOff\");\n    });\n    document.onmousemove = null;\n  };\n\n  dragdiv = e => {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n    let elem = document.getElementsByClassName(\"ReactTable\");\n    listStartY = e.clientY;\n    listStartHeight = parseInt(\n      document.defaultView.getComputedStyle(elem[0]).height,\n      10\n    );\n    document.onmousemove = this.startdrag;\n    document.onmouseup = this.stopdrag;\n  };\n\n  toggleView = () => {\n    if (\n      this.state.id.length !== 0 &&\n      this.state.showSelectedContainer === true &&\n      this.state.listViewContainerDisplay !== \"none\"\n    ) {\n      this.setState({ listViewContainerDisplay: \"none\", scrollheight: \"0px\" });\n    } else {\n      this.setState({ listViewContainerDisplay: null, scrollheight: \"30vh\" });\n    }\n  };\n\n  Portrait = () => {\n    document.onmousemove = null;\n    document.onmousedown = null;\n    document.onmouseup = null;\n    $(\".container-fluid2\").css(\"width\", \"650px\");\n    $(\".splitter\").css(\"width\", \"5px\");\n    $(\".mainview\").show();\n    let array = [];\n    array = [\"dates-small\", \"status-owner-small\", \"module-reporter-small\"];\n    this.setState({\n      splitter: true,\n      display: \"flex\",\n      alldetail: true,\n      scrollheight: $(window).height() - 170 + \"px\",\n      maxheight: $(window).height() - 170 + \"px\",\n      resize: \"horizontal\",\n      differentviews: \"\",\n      maxwidth: \"\",\n      minwidth: \"\",\n      scrollwidth: \"650px\",\n      sizearray: array\n    });\n    this.setState({ listViewOrientation: \"portrait-list-view\" });\n    Cookies.setCookie(\"viewMode\", \"portrait\", 1000);\n  };\n\n  Landscape = () => {\n    document.onmousemove = null;\n    document.onmousedown = null;\n    document.onmouseup = null;\n    $(\".splitter\").css(\"width\", \"100%\");\n    $(\".mainview\").show();\n    this.setState({\n      classname: [\" \", \" \", \" \", \" \"],\n      splitter: false,\n      display: \"block\",\n      maxheight: \"\",\n      alldetail: true,\n      differentviews: \"100%\",\n      scrollheight:\n        this.state.id != null ? \"300px\" : $(window).height() - 170 + \"px\",\n      maxwidth: \"\",\n      minwidth: \"\",\n      scrollwidth: \"100%\",\n      resize: \"vertical\"\n    });\n    this.setState({ listViewOrientation: \"landscape-list-view\" });\n    Cookies.setCookie(\"viewMode\", \"landscape\", 1000);\n  };\n\n  clearAll = () => {\n    let newListViewKey = this.state.listViewKey + 1;\n    this.setState({\n      listViewKey: newListViewKey,\n      activepage: { page: 0, limit: this.state.activepage.limit },\n      sort: [{ id: \"id\", desc: true }],\n      filter: []\n    });\n    this.getNewData({ page: 0 }, [{ id: \"id\", desc: true }], {});\n    Cookies.deleteCookie(\"listViewFilter\" + this.props.type); //clear filter cookie\n    Cookies.deleteCookie(\"listViewSort\" + this.props.type); //clear sort cookie\n    Cookies.deleteCookie(\"listViewPage\" + this.props.type); //clear page cookie\n  };\n\n  selected = (type, rowid, subid, taskid) => {\n    let scrollheight;\n    if (taskid == null && subid == null) {\n      //window.history.pushState('Page', 'SCOT', '/#/' + type +'/'+rowid)\n      this.props.history.push(\"/\" + type + \"/\" + rowid);\n    } else if (taskid == null && subid != null) {\n      this.props.history.push(\"/\" + type + \"/\" + rowid + \"/\" + subid);\n    } else {\n      //If a task, swap the rowid and the taskid\n      //window.history.pushState('Page', 'SCOT', '/#/' + type + '/' + taskid + '/' + rowid)\n      this.props.history.push(\"/\" + type + \"/\" + taskid + \"/\" + rowid + \"/\");\n    }\n\n    if (this.state.display === \"block\") {\n      scrollheight = \"30vh\";\n    }\n\n    this.setState({\n      alertPreSelectedId: 0,\n      scrollheight: scrollheight,\n      showSelectedContainer: true\n    });\n  };\n\n  getNewData = (page, sort, filter) => {\n    this.setState({ loading: true }); //display loading opacity\n    let sortBy = sort;\n    let filterBy = filter;\n    let pageLimit;\n    let pageNumber;\n    let idsarray = this.state.idsarray;\n    let newidsarray = [];\n\n    //if the type is alert, convert the id to the alertgroup id\n    this.ConvertAlertIdToAlertgroupId(this.props.id);\n\n    //if the type is entry, convert the id and type to the actual type and id\n    this.ConvertEntryIdToType(this.props.id);\n\n    //defaultpage = page.page\n    if (page === undefined || page === null) {\n      pageNumber = this.state.activepage.page;\n      pageLimit = this.state.activepage.limit;\n    } else {\n      if (sortBy !== undefined || sortBy === null) {\n        pageNumber = this.state.activepage.page;\n      } else {\n        pageNumber = page.page;\n      }\n      if (sortBy !== undefined || sortBy === null) {\n        pageLimit = this.state.activepage.limit;\n      } else {\n        pageLimit = page.limit;\n      }\n    }\n    let newPage;\n    newPage = pageNumber * pageLimit;\n    //sort check\n    if (sortBy !== undefined || sortBy === null) {\n      sortBy = this.state.sort;\n    }\n    //filter check\n    if (sortBy !== undefined || sortBy === null) {\n      filterBy = this.state.filter;\n    }\n    let data = { limit: pageLimit, offset: newPage };\n\n    //add sort to the data object\n    if (sortBy !== undefined || sortBy === null) {\n      let sortObj = {};\n      $.each(sortBy, function (key, value) {\n        let sortInt = -1;\n        if (!value.desc) {\n          sortInt = 1;\n        }\n        sortObj[value.id] = sortInt;\n      });\n      data[\"sort\"] = JSON.stringify(sortObj);\n    }\n\n    //add filter to the data object\n    if (filterBy !== undefined) {\n      $.each(filterBy, function (key, value) {\n        if (value.id === \"source\" || value.id === \"tag\") {\n          let stringArr = [];\n          for (let each of value.value) {\n            stringArr.push(each.name);\n          }\n          data[value.id] = JSON.stringify(stringArr);\n        } else if (\n          value.id === \"created\" ||\n          value.id === \"updated\" ||\n          value.id === \"occurred\"\n        ) {\n          let arr = [];\n          arr.push(value.value.start);\n          arr.push(value.value.end);\n          data[value.id] = JSON.stringify(arr);\n        } else {\n          data[value.id] = JSON.stringify(value.value);\n        }\n      });\n    }\n\n    let newarray = [];\n\n    if (this.state.loading == true) { listQuery.abort(); }\n    listQuery = $.ajax({\n      type: \"GET\",\n      url: \"/scot/api/v2/\" + this.state.type,\n      data: data,\n      traditional: true,\n      success: function (response) {\n\n        //now that we have new data, lets iterate through the idsarray, and remove their callbacks. \n        this.state.idsarray.forEach(function (element) {\n          let searchstring = element\n          this.props.removeCallback(searchstring, this.reloadactive);\n        }.bind(this));\n\n        datasource = response;\n        $.each(\n          datasource.records,\n          function (key, value) {\n            newarray[key] = {};\n            $.each(\n              value,\n              function (num, item) {\n                if (num === \"sources\" || num === \"source\") {\n                  if (item !== undefined) {\n                    let sourcearr = item.join(\", \");\n                    newarray[key][\"source\"] = sourcearr;\n                  }\n                } else if (num === \"tags\" || num === \"tag\") {\n                  if (item !== undefined) {\n                    let tagarr = item.join(\", \");\n                    newarray[key][\"tag\"] = tagarr;\n                  }\n                } else {\n                  newarray[key][num] = item;\n                }\n                if (num === \"id\") {\n                  this.props.createCallback(item, this.reloadactive);\n                  newidsarray.push(item);\n                }\n              }.bind(this)\n            );\n            if (key % 2 === 0) {\n              newarray[key][\"classname\"] = \"table-row roweven\";\n            } else {\n              newarray[key][\"classname\"] = \"table-row rowodd\";\n            }\n          }.bind(this)\n        );\n\n        let totalPages = this.getPages(response.totalRecordCount); //get pages for list view\n\n        this.setState({\n          totalCount: response.totalRecordCount,\n          activepage: { page: pageNumber, limit: pageLimit },\n          objectarray: newarray,\n          loading: false,\n          idsarray: newidsarray,\n          totalPages: totalPages\n        });\n      }.bind(this),\n      error: function (data) {\n        if (!data.statusText === \"abort\") {\n          this.props.errorToggle(\"failed to get list data\", data);\n        }\n      }.bind(this)\n    });\n  };\n\n  exportCSV = () => {\n    let keys = [];\n    let columns = this.state.columns;\n    $.each(columns, function (key, value) {\n      keys.push(value);\n    });\n    let csv = \"\";\n    $(\".rt-tbody\")\n      .find(\".rt-tr\")\n      .each(function (key, value) {\n        let storearray = [];\n        $(value)\n          .find(\".rt-td\")\n          .each(function (x, y) {\n            let obj = $(y).text();\n            obj = obj.replace(/,/g, \"|\");\n            storearray.push(obj);\n          });\n        csv += storearray.join() + \"\\n\";\n      });\n    let result = keys.join() + \"\\n\";\n    csv = result + csv;\n    let data_uri = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n    window.open(data_uri);\n  };\n\n  handleSort = (sortArr, clearall) => {\n    let newSortArr = [];\n\n    if (clearall === true) {\n      this.setState({ sort: [{ id: \"id\", desc: true }] });\n    } else {\n      for (let sortEach of sortArr) {\n        if (sortEach.id) {\n          newSortArr.push(sortEach);\n        }\n      }\n    }\n\n    this.setState({ sort: newSortArr });\n    this.getNewData(null, newSortArr, null);\n    let cookieName = \"listViewSort\" + this.props.type;\n    Cookies.setCookie(cookieName, JSON.stringify(newSortArr), 1000);\n  };\n\n  handleFilter = (filterObj, string, clearall, type) => {\n    let newFilterArr = [];\n    let _type = this.props.type;\n\n    if (type !== undefined) {\n      _type = type;\n    }\n\n    if (clearall === true) {\n      this.setState({ filter: newFilterArr });\n      return;\n    } else {\n      for (let filterEach of filterObj) {\n        if (filterEach.id) {\n          newFilterArr.push(filterEach);\n        }\n      }\n\n      this.setState({ filter: newFilterArr });\n\n      if (type === this.props.type || type === undefined) {\n        //Check if the type passed in matches the type displayed. If not, it's updating the filter for a future query in a different type. Undefined implies its the same type, so update\n        this.getNewData({ page: 0 }, null, newFilterArr);\n      }\n\n      let cookieName = \"listViewFilter\" + _type;\n      Cookies.setCookie(cookieName, JSON.stringify(newFilterArr), 1000);\n    }\n  };\n\n  titleCase = string => {\n    let newstring = string.charAt(0).toUpperCase() + string.slice(1);\n    return newstring;\n  };\n\n  createNewThing = () => {\n    let data;\n\n    if (this.props.type === \"signature\") {\n      data = JSON.stringify({\n        name: \"Name your Signature\",\n        status: \"disabled\"\n      });\n    } else if (this.props.type === \"guide\") {\n      data = JSON.stringify({\n        subject: \"ENTER A GUIDE NAME\",\n        applies_to: [\"documentation\"]\n      });\n    } else if (this.props.type === \"entity\") {\n      this.ToggleCreateEntity();\n      return;\n    } else {\n      data = JSON.stringify({ subject: \"No Subject\" });\n    }\n\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/\" + this.props.type,\n      data: data,\n      success: function (response) {\n        this.selected(this.props.type, response.id);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"failed to create new thing\", data);\n      }.bind(this)\n    });\n  };\n\n  handlePageChange = pageIndex => {\n    this.getNewData({ page: pageIndex });\n    let cookieName = \"listViewPage\" + this.props.type;\n    Cookies.setCookie(\n      cookieName,\n      JSON.stringify({ page: pageIndex, limit: this.state.activepage.limit })\n    );\n  };\n\n  handlePageSizeChange = (pageSize, pageIndex) => {\n    this.getNewData({ limit: pageSize, page: pageIndex });\n    let cookieName = \"listViewPage\" + this.props.type;\n    Cookies.setCookie(\n      cookieName,\n      JSON.stringify({ page: pageIndex, limit: pageSize })\n    );\n  };\n\n  getPages = count => {\n    let totalPages = Math.ceil((count || 1) / this.state.activepage.limit);\n    return totalPages;\n  };\n\n  handleRowSelection(state, rowInfo, column, instance) {\n    return {\n      onClick: event => {\n        if (this.state.preventClick !== true) {\n          if (this.state.id === rowInfo.row.id) {\n            return;\n          }\n          let scrollheight = this.state.scrollheight;\n          if (this.state.display == 'block') {\n            scrollheight = '30vh';\n          }\n          if (this.state.type === 'task') {\n            this.props.history.push('/task/' + rowInfo.row.target_type + '/' + rowInfo.row.target_id + '/' + rowInfo.row.id);\n          } else {\n            this.props.history.push('/' + this.state.type + '/' + rowInfo.row.id);\n          }\n          this.setState({ alertPreSelectedId: 0, scrollheight: scrollheight, showSelectedContainer: true });\n          return;\n        }\n        else {\n          this.props.errorToggle('Currently processing action(s). Please wait.')\n        }\n      },\n      className: rowInfo.row.id === parseInt(this.props.id) ? 'selected' : null,\n    };\n  }\n}\n","import $ from \"jquery\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport AddEntry from \"../components/add_entry.js\";\n\nexport default class ExportModal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showEditor: false,\n            data: null,\n            responseSuccess: false,\n            emailField: []\n        };\n    }\n\n    componentWillMount() {\n        this.getData();\n    };\n\n    onBlur = event => {\n        let v = event.target.value;\n        if (v === \"\") {\n            return;\n        }\n        let emailArray = v.split(/[ ,]+/);\n        this.setState({ emailField: emailArray });\n    };\n\n    getData = () => {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/prepexport/\" + this.props.type + \"/\" + this.props.id,\n            success: function (response) {\n                this.setState({ data: response });\n                this.setState({ leaveCatch: false, showEditor: true });\n            }.bind(this),\n            error: function (response) {\n                this.props.errorToggle(\n                    \"Failed to get export data from server!\",\n                    response\n                );\n            }.bind(this)\n        });\n    };\n\n    exportResponse = response => {\n        if (response === \"success\") {\n            this.setState({ showEditor: false, responseSuccess: true });\n        }\n    };\n\n    render() {\n        let disabled = false;\n        if (this.state.responseSuccess) {\n            disabled = true;\n        }\n        return (\n            <div>\n                <Modal\n                    dialogClassName=\"links-modal\"\n                    show={true}\n                    onHide={this.props.exportToggle}\n                >\n                    <Modal.Header closeButton={true}>\n                        <Modal.Title>\n                            Export {this.props.type} {this.props.id}\n                        </Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <div>\n                            <label htmlFor=\"exampleInputEmail1\">Email addresses</label>\n                            <input\n                                type=\"email\"\n                                className=\"form-control\"\n                                id=\"email\"\n                                aria-describedby=\"emailHelp\"\n                                onBlur={this.onBlur}\n                                placeholder=\"Enter emails (comma-separated)\"\n                                disabled={disabled}\n                            />\n                        </div>\n                        <br />\n                        {this.state.showEditor ? (\n                            <AddEntry\n                                entryAction={\"Export\"}\n                                exportResponse={this.exportResponse}\n                                type={this.props.type}\n                                targetid={this.props.id}\n                                id={\"add_entry\"}\n                                recipients={this.state.emailField}\n                                addedentry={this.entryToggle}\n                                content={this.state.data}\n                                errorToggle={this.props.errorToggle}\n                            />\n                        ) : null}\n                        {!this.state.showEditor && this.state.responseSuccess ? (\n                            <PostResponse />\n                        ) : null}\n                        {!this.state.showEditor && !this.state.responseSuccess ? (\n                            <i className=\"fa fa-spinner fa-spin fa-2x\" aria-hidden=\"true\" />\n                        ) : null}\n                    </Modal.Body>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nclass PostResponse extends Component {\n    render() {\n        return (\n            <div>\n                <i\n                    className=\"fa fa-check\"\n                    aria-hidden=\"true\"\n                    style={{ color: \"green\" }}\n                />{\" \"}\n                Export Successful!\n            </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Modal from \"react-modal\";\nimport { Link } from \"react-router-dom\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nclass PromotedData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showAllPromotedDataToolbar: false\n    };\n\n    this.showAllPromotedDataToggle = this.showAllPromotedDataToggle.bind(this);\n  }\n\n  showAllPromotedDataToggle() {\n    if (this.state.showAllPromotedDataToolbar === false) {\n      this.setState({ showAllPromotedDataToolbar: true });\n    } else {\n      this.setState({ showAllPromotedDataToolbar: false });\n    }\n  }\n\n  render() {\n    let promotedFromType = null;\n    let fullarr = [];\n    let shortarr = [];\n    let shortforlength = 3;\n    if (this.props.type === \"event\") {\n      promotedFromType = \"alert\";\n    } else if (this.props.type === \"incident\") {\n      promotedFromType = \"event\";\n    }\n    //makes large array for modal\n    for (let i = 0; i < this.props.data.length; i++) {\n      if (i > 0) {\n        fullarr.push(<span> , </span>);\n      }\n      let link = \"/\" + promotedFromType + \"/\" + this.props.data[i];\n      fullarr.push(\n        <span key={this.props.data[i]}>\n          <Link to={link}>{this.props.data[i]}</Link>\n        </span>\n      );\n    }\n    //makes small array for quick display in header\n    if (this.props.data.length < 3) {\n      shortforlength = this.props.data.length;\n    }\n    for (let i = 0; i < shortforlength; i++) {\n      if (i > 0) {\n        shortarr.push(<div> , </div>);\n      }\n      let link = \"/\" + promotedFromType + \"/\" + this.props.data[i];\n      shortarr.push(\n        <div key={this.props.data[i]}>\n          <Link to={link}>{this.props.data[i]}</Link>\n        </div>\n      );\n    }\n    if (this.props.data.length > 3) {\n      shortarr.push(\n        <div onClick={this.showAllPromotedDataToggle}>\n          ,<a href=\"javascript:;\">...more</a>\n        </div>\n      );\n    }\n    return (\n      <td>\n        <span id=\"promoted_from\" style={{ display: \"flex\" }}>\n          {shortarr}\n        </span>\n        {this.state.showAllPromotedDataToolbar ? (\n          <Modal\n            isOpen={true}\n            onRequestClose={this.showAllPromotedDataToggle}\n            style={customStyles}\n          >\n            <div className=\"modal-header\">\n              <img\n                src=\"images/close_toolbar.png\"\n                className=\"close_toolbar\"\n                alt=\"\"\n                onClick={this.showAllPromotedDataToggle}\n              />\n              <h3 id=\"myModalLabel\">Promoted From</h3>\n            </div>\n            <div className=\"modal-body promoted-from-full\">{fullarr}</div>\n            <div className=\"modal-footer\">\n              <Button\n                id=\"cancel-modal\"\n                onClick={this.showAllPromotedDataToggle}\n              >\n                Close\n              </Button>\n            </div>\n          </Modal>\n        ) : null}\n      </td>\n    );\n  }\n}\n\nexport default PromotedData;\n","import React from \"react\";\nimport $ from \"jquery\";\nimport SelectedHeader from \"./selected_header\"\n\nexport default class SelectedContainer extends React.Component {\n    render = () => {\n        let datarows = [];\n        datarows.push(\n            <SelectedHeader\n                key={this.props.id}\n                id={this.props.id}\n                type={this.props.type}\n                toggleEventDisplay={this.props.viewEvent}\n                taskid={this.props.taskid}\n                alertPreSelectedId={this.props.alertPreSelectedId}\n                handleFilter={this.props.handleFilter}\n                errorToggle={this.props.errorToggle}\n                history={this.props.history}\n                form={this.props.form}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n                togglePreventClick={this.props.togglePreventClick}\n            />\n        );\n        let width = \"100%\";\n        if ($(\"#list-view\")[0] !== undefined) {\n            width = \"calc(100% - \" + $(\"#list-view\").width() + \"px)\";\n        }\n        return (\n            <div\n                id=\"main-detail-container\"\n                className=\"entry-container\"\n                style={{ width: width, position: \"relative\" }}\n                tabIndex=\"3\"\n            >\n                {datarows}\n            </div>\n        );\n    };\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField'\nimport { Person, Group } from '@material-ui/icons'\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport axios from 'axios'\nimport Typography from '@material-ui/core/Typography';\nimport { withSnackbar } from 'notistack';\n\n\nconst styles = theme => ({\n  textField: {\n    marginLeft: '-8px',\n    marginRight: theme.spacing.unit,\n  },\n});\n\nconst initstate = {\n  // ischecked: false,\n  username: \"\",\n  fullname: \"\",\n  password: \"\",\n  description: \"\",\n  name: \"\",\n  id: null,\n}\n\n\nclass UserGroupForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = initstate;\n  }\n\n  componentDidMount() {\n    if (this.props.editObject) {\n      if (this.props.type === 'user') {\n        this.setState(\n          {\n            username: this.props.editObject.username,\n            fullname: this.props.editObject.fullname,\n            password: this.props.editObject.password,\n            id: this.props.editObject.id,\n            ischecked: this.props.editObject.isChecked,\n          }\n        )\n      }\n      else if (this.props.type === 'group') {\n        this.setState(\n          {\n            name: this.props.editObject.name,\n            description: this.props.editObject.description,\n            id: this.props.editObject.id,\n          }\n        )\n      }\n    }\n  }\n\n  resetState = () => {\n    this.setState(initstate)\n  }\n\n  checkBlankInputs = (type) => {\n    let bool = false;\n    if (type === 'user') {\n      if (this.state.username !== '' && this.state.fullname !== '' && this.state.password !== '') {\n        bool = true;\n      }\n    } else {\n      if (this.state.name !== '' && this.state.description !== '') {\n        bool = true\n      }\n    }\n    return bool\n  }\n\n  buildDataObj = (type) => {\n    let obj = {}\n    if (type === 'user') {\n      obj['username'] = this.state.username;\n      obj['fullname'] = this.state.fullname;\n      obj['password'] = this.state.password;\n    } else if (type === 'group') {\n      obj['name'] = this.state.name;\n      obj['description'] = this.state.description\n    }\n    return obj\n  }\n\n\n  handlePUT = () => {\n    const { enqueueSnackbar, type } = this.props;\n    let obj = this.buildDataObj(type);\n    if (this.checkBlankInputs(type)) {\n      axios.put(`/scot/api/v2/${type}/${this.state.id}`, obj)\n        .then(function (response) {\n          console.log(response);\n          enqueueSnackbar(`Successfully updated ${type}.`, { variant: 'success' })\n          this.resetState();\n          this.props.fetchData(type)\n          this.props.handleClose();\n        }.bind(this))\n        .catch(function (error) {\n          // handle error\n          enqueueSnackbar(`Failed updating ${type}`, { variant: 'error' });\n          console.log(error);\n        });\n    }\n  }\n\n  handlePOST = () => {\n    const { enqueueSnackbar, type } = this.props;\n    let obj = this.buildDataObj(type);\n    if (this.checkBlankInputs(type)) {\n      axios.post(`/scot/api/v2/${type}/`, obj)\n        .then(function (response) {\n          console.log(response);\n          enqueueSnackbar(`Successfully added ${type}.`, { variant: 'success' })\n          this.resetState();\n          this.props.fetchData(type)\n          this.props.handleClose();\n        }.bind(this))\n        .catch(function (error) {\n          // handle error\n          enqueueSnackbar(`Failed creating ${type}`, { variant: 'error' });\n          console.log(error);\n        });\n    }\n  }\n\n  handleChange = (event, value) => {\n    if (event.nativeEvent.type === 'input') {\n      let newval = event.target.value;\n      this.setState({ [event.target.id]: newval })\n    } else if (event.nativeEvent.type === 'click') {\n      if (event.target.type === 'checkbox') {\n        this.setState({ [event.target.value]: value })\n      }\n    } else {\n      this.setState({ [event.target.name]: value.props.value })\n    }\n  };\n\n\n  render() {\n    const { classes, onClose, selectedValue, type, ...other } = this.props;\n\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            {this.props.editObject ?\n              <Typography variant=\"h5\" component=\"h2\">Edit {this.props.type} <b>{this.props.editObject.username} </b></Typography> :\n              <Typography variant=\"h5\" component=\"h2\">Create {this.props.type} </Typography>\n            }\n            {this.props.type === 'group' ?\n              <div>\n                <TextField\n                  id=\"name\"\n                  label=\"Group Name\"\n                  value={this.state.name}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter name of group\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                />\n                <br />\n                <TextField\n                  id=\"description\"\n                  label=\"Description\"\n                  value={this.state.description}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter description for group\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n\n                  fullWidth\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                />\n              </div>\n              :\n              <div>\n                <TextField\n                  id=\"username\"\n                  label=\"Username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter a valid username\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                /><br />\n                <TextField\n                  id=\"fullname\"\n                  label=\"Full Name\"\n                  value={this.state.fullname}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Provide your full name\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                /><br />\n                {/* Activate? <Checkbox\n                  checked={this.state.ischecked}\n                  onChange={this.handleChange}\n                  value=\"ischecked\"\n                  color=\"primary\"\n                  label=\"Activate?\"\n                /> <br /> */}\n                <TextField\n                  id=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  autoComplete=\"current-password\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  helperText=\"Enter a valid password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                /><br />\n              </div>\n            }\n            <br />\n          </CardContent>\n          <CardActions>\n            {this.props.editObject ?\n              <div style={{ marginLeft: 350, marginBottom: 5 }}>\n                <Button style={{ marginRight: 5 }} variant=\"contained\" onClick={this.props.handleClose} className={classes.button}>\n                  Cancel\n              </Button>\n                <Button variant=\"contained\" color=\"secondary\" onClick={this.handlePUT} className={classes.button}>\n                  Submit\n              </Button>\n              </div> :\n              <div style={{ marginLeft: 350, marginBottom: 5 }}>\n                <Button style={{ marginRight: 5 }} variant=\"contained\" onClick={this.props.handleClose} className={classes.button}>\n                  Cancel\n              </Button>\n                <Button variant=\"contained\" color=\"secondary\" onClick={this.handlePOST} className={classes.button}>\n                  Submit\n                </Button>\n              </div>\n            }\n          </CardActions>\n        </Card>\n      </div>\n    );\n  }\n}\nexport default withSnackbar(withStyles(styles)(UserGroupForm));\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport { withSnackbar } from 'notistack';\nimport { withStyles } from '@material-ui/core/styles';\nimport axios from 'axios'\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\nconst styles = theme => ({\n  card: {\n    minWidth: 400,\n    marginBottom: 20\n  },\n});\n\nclass AreYouSure extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      deletetext: \"\"\n    }\n  }\n\n  handleDelete = () => {\n    const { enqueueSnackbar, type, id } = this.props;\n    let url = `/scot/api/v2/${type}/${id}`;\n    axios.delete(url)\n      .then(function () {\n        enqueueSnackbar(`Successfully deleted ${type}.`, { variant: 'success' });\n        this.props.fetchData(type)\n        this.props.handleClose();\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error);\n        enqueueSnackbar(`Failed deleting ${type}.`, { variant: 'error' });\n        this.props.handleClose();\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            <Typography variant=\"h5\" component=\"h2\">Are you sure you want to delete {this.props.type} {this.props.text}?</Typography>\n            <br />\n            <div>\n              <Button style={{ marginLeft: 5, backgroundColor: 'red', color: 'white' }} onClick={() => this.handleDelete(this.props.id)} variant=\"contained\" >Yes</Button>\n              <Button style={{ marginLeft: 5 }} onClick={this.props.handleClose} variant=\"contained\" >Cancel</Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(withStyles(styles)(AreYouSure));","import React from 'react'\nimport ReactTable from 'react-table'\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios'\nimport AddIcon from '@material-ui/icons/Add';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport UserGroupForm from './usergroupform'\nimport { Person, Group } from '@material-ui/icons'\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Fab from '@material-ui/core/Fab';\nimport AreYouSure from './areyousure'\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n});\n\nclass UserGroupContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userdata: [],\n      groupdata: [],\n      showModal: false,\n      editObject: null,\n      id: null,\n      type: \"\",\n      areYouSure: false\n    }\n  }\n\n  edit = (type, id) => {\n    let url = `/scot/api/v2/${type}?id=${id}`;\n    axios.get(url)\n      .then(function (response) {\n        this.setState({ editObject: response.data.records[0], type: type, showModal: true });\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  showUserDialog = () => {\n    this.setState({ showModal: true, type: 'user' })\n  }\n\n  showGroupDialog = () => {\n    this.setState({ showModal: true, type: 'group' })\n  }\n\n  handleUserClose = () => {\n    this.setState({ showModal: false });\n  };\n\n  componentDidMount() {\n    this.fetchData('user')\n    this.fetchData('group')\n  }\n\n  toggleDeleteDialog = (id) => {\n    this.setState({ areYouSure: true, id: id })\n  }\n\n  handleClose = (type) => {\n    this.setState({ showModal: false, id: null, type: \"\", editObject: null });\n  };\n\n  handleListItemClick = value => {\n    this.props.onClose(value);\n  };\n\n  getColumns = (type) => {\n    let columns = []\n    if (type === 'user') {\n      columns = [\n        {\n          Header: 'ID',\n          accessor: 'id',\n          width: 50\n        },\n        {\n          Header: 'Full Name',\n          accessor: 'fullname',\n          width: 70\n        },\n        {\n          Header: 'Username',\n          accessor: 'username',\n          width: 70\n        },\n        {\n          Header: 'Edit / Delete',\n          id: 'edit',\n          accessor: row => (\n            <center>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.edit(type, row.id)} variant=\"contained\">Edit</Button>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.toggleAreYouSure(row.id, type)} color=\"secondary\" variant=\"contained\" ><DeleteRoundedIcon /></Button>\n            </center>),\n          width: 200\n        },\n\n      ]\n    } else if (type === 'group') {\n      columns = [\n        {\n          Header: 'ID',\n          accessor: 'id',\n          width: 50\n        },\n        {\n          Header: 'Group Name',\n          accessor: 'name',\n          width: 100\n        },\n        {\n          Header: 'Group Description',\n          accessor: 'description',\n          width: 100\n        },\n        {\n          Header: 'Edit / Delete',\n          id: 'edit',\n          accessor: row => (\n            <center>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.edit(type, row.id)} variant=\"contained\">Edit</Button>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.toggleAreYouSure(row.id, type)} color=\"secondary\" variant=\"contained\" ><DeleteRoundedIcon /></Button>\n            </center>),\n          width: 200\n        },\n      ]\n    }\n    return columns\n  }\n\n  setUserGroupResults = (type, data) => {\n    if (type === 'user') {\n      this.setState({ userdata: data.records })\n    } else if (type === 'group') {\n      this.setState({ groupdata: data.records })\n    }\n  }\n\n  toggleAreYouSure = (id, type) => {\n    this.setState({ areYouSure: true, id: id, type: type })\n  }\n\n  handleAreYouSureClose = () => {\n    this.setState({ areYouSure: false });\n  }\n\n  fetchData = (type) => {\n    axios.get(`/scot/api/v2/${type}?limit=0`)\n      .then(({ data }) => (\n        this.setUserGroupResults(type, data)\n      ));\n  }\n\n  render() {\n    const { classes, ...other } = this.props;\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={8}>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" gutterBottom>\n              Users <Person />\n            </Typography>\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\n              <Typography variant=\"h5\" gutterBottom>\n                Add User\n              </Typography>\n              <Fab style={{ marginLeft: 5, marginBottom: 10, marginTop: -6 }} size=\"small\" onClick={this.showUserDialog} color=\"secondary\" aria-label=\"Add\" >\n                <AddIcon />\n              </Fab>\n            </div>\n            <ReactTable\n              data={this.state.userdata}\n              columns={this.getColumns('user')}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" gutterBottom>\n              Groups <Group />\n            </Typography>\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\n              <Typography variant=\"h5\" gutterBottom>\n                Add Group\n            </Typography>\n              <Fab style={{ marginLeft: 5, marginBottom: 10, marginTop: -6 }} size=\"small\" onClick={this.showGroupDialog} color=\"secondary\" aria-label=\"Add\" >\n                <AddIcon />\n              </Fab>\n            </div>\n            <ReactTable\n              data={this.state.groupdata}\n              columns={this.getColumns('group')}\n            />\n          </Grid>\n        </Grid>\n        <Dialog open={this.state.showModal} onClose={this.handleClose} aria-labelledby=\"simple-dialog-title\" >\n          <UserGroupForm id={this.state.id} type={this.state.type} editObject={this.state.editObject} handleClose={this.handleClose} fetchData={(type) => { this.fetchData(type) }} />\n        </Dialog>\n        {this.state.areYouSure ?\n          <Dialog open={this.state.areYouSure} onClose={this.handleAreYouSureClose} aria-labelledby=\"simple-dialog-title\" {...other}>\n            <AreYouSure type={this.state.type} fetchData={(type) => { this.fetchData(type) }} handleClose={this.handleAreYouSureClose} id={this.state.id}></AreYouSure>\n          </Dialog> : null\n        }\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(UserGroupContainer);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Panel from 'react-bootstrap/lib/Panel.js';\nimport Button from 'react-bootstrap/lib/Button.js';\nimport Modal from 'react-bootstrap/lib/Modal.js';\nimport $ from 'jquery'\n\nexport class Api extends React.Component {\n  constructor(props) {\n    super(props);\n    this.GetKeys = this.GetKeys.bind(this);\n    this.GetAvailableGroups = this.GetAvailableGroups.bind(this);\n    this.CreateKey = this.CreateKey.bind(this);\n    this.DeleteKey = this.DeleteKey.bind(this);\n    this.GroupChange = this.GroupChange.bind(this);\n    this.ToggleActiveStatus = this.ToggleActiveStatus.bind(this);\n    this.state = {\n      Api: null,\n      keys: null,\n      availableGroups: null,\n    };\n  }\n\n  GetKeys() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/apikey',\n      success: function (data) {\n        this.setState({ keys: data.records });\n      }.bind(this),\n      error: function () {\n        this.setState({ keys: 'failed to get keys' });\n      }.bind(this),\n    });\n  }\n\n  GetAvailableGroups() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/group?limit=0',\n      success: function (data) {\n        this.setState({ availableGroups: data.records });\n      }.bind(this),\n    });\n  }\n\n  CreateKey() {\n    $.ajax({\n      type: 'post',\n      url: '/scot/api/v2/apikey',\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  DeleteKey(e) {\n    $.ajax({\n      type: 'delete',\n      url: `/scot/api/v2/apikey/${e.target.id}`,\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  GroupChange(id, newGroup) {\n    $.ajax({\n      type: 'PUT',\n      url: `/scot/api/v2/apikey/${id}`,\n      data: JSON.stringify({ groups: newGroup }),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  ToggleActiveStatus(id, newStatus) {\n    $.ajax({\n      type: 'PUT',\n      url: `/scot/api/v2/apikey/${id}`,\n      contentType: 'application/json; charset=UTF-8',\n      data: JSON.stringify({ active: newStatus }),\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  componentDidMount() {\n    this.GetKeys();\n    this.GetAvailableGroups();\n  }\n\n  render() {\n    const keysArr = [];\n    if (this.state.keys != undefined) {\n      for (let i = 0; i < this.state.keys.length; i++) {\n        let keyActiveStatus;\n        let keyActiveStatusCss;\n        const keyGroups = [];\n        if (this.state.keys[i].active == 1) {\n          keyActiveStatus = <span style={{ color: 'green' }}>active</span>\n        }\n\n        else {\n          keyActiveStatus = <span style={{ color: 'red' }}>not active</span>\n        }\n        if (this.state.keys[i].groups != undefined) {\n          for (let j = 0; j < this.state.keys[i].groups.length; j++) {\n            keyGroups.push(<div>this.state.keys[i].groups[j]</div>);\n          }\n        }\n        keysArr.push(<div>\n          <div>\n            <div>{this.state.keys[i].apikey}</div>\n            <div>{this.state.keys[i].username}</div>\n            <span>Key is {keyActiveStatus}</span>\n            <span className='pull-right pointer'><i id={this.state.keys[i].id} className=\"fa fa-trash\" aria-hidden=\"true\" onClick={this.DeleteKey}></i></span>\n            <div>\n              <GroupModal id={this.state.keys[i].id} currentGroups={this.state.keys[i].groups} allGroups={this.state.availableGroups} GroupChange={this.GroupChange} ToggleActiveStatus={this.ToggleActiveStatus} keyActiveStatus={keyActiveStatus} keyActiveStatusCss={keyActiveStatusCss} />\n            </div>\n          </div>\n          <hr />\n        </div>);\n      }\n    }\n    return (\n      <div id='api' className='administration_api'>\n        <h1>API</h1>\n        <Panel bsStyle='info' header='Your api keys'>\n          {keysArr}\n        </Panel>\n\n        <Button bsStyle='success' onClick={this.CreateKey}>Create API Key</Button>\n      </div>\n    );\n  }\n}\n\nclass GroupModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.Open = this.Open.bind(this);\n    this.Close = this.Close.bind(this);\n    this.DeleteGroup = this.DeleteGroup.bind(this);\n    /* this.AddGroup = this.AddGroup.bind(this); */ // Removed as we don't add groups to an api key\n    this.ToggleActiveStatus = this.ToggleActiveStatus.bind(this);\n    this.state = {\n      showModal: false,\n    };\n  }\n\n  Open() {\n    this.setState({ showModal: true });\n  }\n\n  Close() {\n    this.setState({ showModal: false });\n  }\n\n  DeleteGroup(e) {\n    const newGroups = [];\n    for (const i of this.props.currentGroups) {\n      if (i != undefined) {\n        if (i != e.target.parentNode.textContent) {\n          newGroups.push(i);\n        }\n      }\n    }\n    this.props.GroupChange(this.props.id, newGroups);\n  }\n  /* Removed as we don't add groups to an api key\n  AddGroup (e) {\n      var newGroups = [];\n      for ( const i of this.props.currentGroups) {\n          if ( i != undefined ) {\n              if ( i != e.target.textContent ) {\n                  newGroups.push(i);\n              }\n          }\n      }\n      newGroups.push( e.target.textContent );\n      this.props.GroupChange(this.props.id, newGroups);\n  }\n  */\n  ToggleActiveStatus() {\n    let newStatus;\n    if (this.props.keyActiveStatus == 'active') {\n      newStatus = 0;\n    } else {\n      newStatus = 1;\n    }\n    this.props.ToggleActiveStatus(this.props.id, newStatus);\n  }\n\n  render() {\n    // var allGroupArray = [];  //Removed as we don't add groups to an api key\n    const currentGroupArray = [];\n    const currentGroupArrayEdit = [];\n    // //Removed as we don't add groups to an api key\n    /* if ( this.props.allGroups ) {\n        for ( const i of this.props.allGroups ) {\n            allGroupArray.push( <Button id={this.props.id} onClick={this.AddGroup} bsSize='xsmall'>{i.name}</Button> );\n        }\n    } */\n    if (this.props.currentGroups) {\n      for (const j of this.props.currentGroups) {\n        currentGroupArrayEdit.push(<span className='tagButton'>{j}<i id={this.props.id} onClick={this.DeleteGroup} className='fa fa-times tagButtonClose'></i></span>);\n      }\n      for (const k of this.props.currentGroups) {\n        currentGroupArray.push(<span className='tagButton'>{k}</span>);\n      }\n    }\n    return (\n      <div>\n        Current Groups: {currentGroupArray}\n        <div>\n          <Button onClick={this.Open} bsSize='small'>Edit API key settings</Button>\n        </div>\n        <Modal show={this.state.showModal} onHide={this.Close}>\n          <Modal.Header closeButton>\n            <Modal.Title>Edit API key settings</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <h4>Current Groups:</h4>\n              {currentGroupArrayEdit}\n            </div>\n            {/* <div>\n                            Click to add group:\n                            {allGroupArray}\n                        </div> */}\n            <hr />\n            <div>\n              Key is <span className={this.props.keyActiveStatusCss}>{this.props.keyActiveStatus}</span>\n              <Button onClick={this.ToggleActiveStatus} bsSize='xsmall'>Toggle Active Status</Button>\n            </div>\n          </Modal.Body>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n\n","import React, { PureComponent, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, ButtonGroup, Panel, FormControl, Form, Col } from 'react-bootstrap';\nimport ReactTable from 'react-table';\nimport { removeMarkedItems } from '../marker';\nimport Notification from 'react-notification-system';\nimport $ from 'jquery'\n\nconst ACTION_BUTTONS = {\n  READY: {\n    style: 'default',\n  },\n  LOADING: {\n    text: 'Processing...',\n    style: 'default',\n    disabled: true,\n  },\n  SUCCESS: {\n    text: 'Success!',\n    style: 'success',\n  },\n  ERROR: {\n    text: 'Error!',\n    style: 'danger',\n  },\n};\n\nexport class Undelete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      allSelected: false,\n    };\n\n    this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(this);\n    this.handleRowSelection = this.handleRowSelection.bind(this);\n    this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n    this.getDeletedItems = this.getDeletedItems.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n\n    this.getDeletedItems();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n\n    const columns = [\n      {\n        Header: cell => {\n          return (\n            <div>\n              <div className='mark-checkbox'><i className={`fa fa${this.state.allSelected ? '-check' : ''}-square-o`} aria-hidden=\"true\"></i></div>\n\n            </div>\n          );\n        },\n        id: 'selected',\n        accessor: d => d.selected,\n        Cell: row => {\n          return (\n            <div>\n              <div className='mark-checkbox'><i className={`fa fa${row.row.selected ? '-check' : ''}-square-o`} aria-hidden=\"true\"></i></div>\n            </div>\n          );\n        },\n        maxWidth: 100,\n        filterable: false,\n      },\n      {\n        Header: 'Type',\n        accessor: 'type',\n        //id: 'target.type',\n        //column: 'type',\n        maxWidth: 150,\n        sortable: true,\n      },\n      {\n        Header: 'ID',\n        accessor: 'data.id',\n        id: 'data.id',\n        column: 'id',\n        maxWidth: 100,\n        sortable: true,\n      },\n      {\n        Header: 'Subject',\n        accessor: 'data.subject',\n        id: 'data.subject',\n        column: 'subject',\n        maxWidth: '100%',\n        sortable: true,\n      },\n      {\n        Header: 'Body',\n        accessor: 'data.body',\n        id: 'data.body',\n        column: 'body',\n        maxWidth: '100%',\n        sortable: true,\n      },\n\n    ];\n\n    let dataArr = [];\n    for (let key in this.state.data) {\n      dataArr.push(this.state.data[key]['data'])\n    }\n\n    return (\n      <div>\n\n        {this.state.data.length > 0 ?\n          <ReactTable\n            columns={columns}\n            data={this.state.data}\n            defaultPageSize={10}\n            getTdProps={this.handleCheckboxSelection}\n            getTheadThProps={this.handleTHeadCheckboxSelection}\n            getTrProps={this.handleRowSelection}\n            minRows={0}\n            noDataText='No deleted items were found.'\n            style={{\n              maxHeight: '60vh'\n            }}\n            filterable\n          />\n          :\n          <h3>No deleted items were found.</h3>\n        }\n\n        {this.state.data.length > 0 ? <Actions data={this.state.data} id={this.props.id} type={this.props.type} getDeletedItems={this.getDeletedItems} errorToggle={this.props.errorToggle} /> : null}\n      </div>\n    );\n  }\n\n  handleRowSelection(state, rowInfo, column) {\n    return {\n      onClick: event => {\n        let data = this.state.data;\n\n        for (let row of data) {\n          if (rowInfo.row['data.id'] == row.data.id && rowInfo.row.type == row.type) {\n            row.selected = true;\n          } else {\n            row.selected = false;\n          }\n        }\n\n        this.setState({ data: data, allSelected: false });\n        return;\n      },\n      style: {\n        background: rowInfo != undefined ? rowInfo.row.selected ? 'rgb(174, 218, 255)' : null : null,\n      }\n    };\n  }\n\n  handleCheckboxSelection(state, rowInfo, column) {\n    if (column.id == 'selected') {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n\n          for (let row of data) {\n            if (rowInfo.row['data.id'] == row.data.id && rowInfo.row.type == row.type) {\n              if (row.selected) {\n                row.selected = !row.selected;\n              } else {\n                row.selected = true;\n              }\n              break;\n            }\n          }\n\n          this.setState({ data: data, allSelected: this.checkAllSelected(data) });\n          event.stopPropagation();\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  }\n\n  handleTHeadCheckboxSelection(state, rowInfo, column, instance) {\n    if (column.id === 'selected') {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n          let allSelected = !this.state.allSelected;\n\n          for (let row of data) {\n            for (let pageRow of state.pageRows) {\n              if (row.data.id == pageRow['data.id'] && row.data.type == pageRow['data.type']) {                 //compare displayed rows to rows in dataset and only select those\n                row.selected = allSelected;\n                break;\n              }\n            }\n          }\n\n          this.setState({ data: data, allSelected: allSelected });\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  }\n\n  checkAllSelected(data) {\n    for (let row of data) {\n      if (!row.selected) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getDeletedItems() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/deleted/?limit=0',\n      success: function (data) {\n        this.setState({ data: data.records });\n      }.bind(this),\n      error: function (data) {\n        console.log('unable to get deleted items');\n      }.bind(this),\n    });\n  }\n}\n\nclass Actions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      entry: false,\n      thing: false,\n      actionSuccess: false,\n      linkContextString: null,\n      linkPanel: false,\n      pendingDelete: false,\n\n      reparseButton: ACTION_BUTTONS.READY,\n      deleteButton: ACTION_BUTTONS.READY,\n      promoteButton: ACTION_BUTTONS.READY,\n    };\n\n    this.RemoveSelected = this.RemoveSelected.bind(this);\n    this.MoveEntry = this.MoveEntry.bind(this);\n    this.CopyEntry = this.CopyEntry.bind(this);\n    this.EntryAjax = this.EntryAjax.bind(this);\n    this.Link = this.Link.bind(this);\n    this.LinkAjax = this.LinkAjax.bind(this);\n    this.Reparse = this.Reparse.bind(this);\n    this.ReparseAjax = this.ReparseAjax.bind(this);\n    this.Promote = this.Promote.bind(this);\n    this.PromoteAjax = this.PromoteAjax.bind(this);\n    this.ToggleActionSuccess = this.ToggleActionSuccess.bind(this);\n    this.ExpandLinkToggle = this.ExpandLinkToggle.bind(this);\n    this.LinkContextChange = this.LinkContextChange.bind(this);\n    this.deleteCallback = this.deleteCallback.bind(this);\n    this.StartDelete = this.StartDelete.bind(this);\n    this.Restore = this.Restore.bind(this);\n    this.Purge = this.Purge.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  deleteCallback(success) {\n    if (success === true) {\n      this.RemoveSelected();\n    }\n\n    this.setState({\n      pendingDelete: false,\n    });\n  }\n\n  render() {\n    let buttons = [];\n    let entry = false, thing = false, alert = true;\n\n    let numSelected = 0;\n    for (let key of this.props.data) {\n      if (key.type && key.selected) {\n        numSelected++;\n\n        if (key.type === 'entry') {\n          entry = true;\n        } else {\n          thing = true;\n        }\n\n        if (key.type !== 'alert') {\n          alert = false;\n        }\n      }\n    }\n\n    const addToEvent = numSelected != 0 && alert && this.props.type === 'event';\n\n    const { reparseButton, deleteButton, promoteButton, pendingDelete } = this.state;\n\n    let deleteThings = null;\n    if (pendingDelete) {\n      deleteThings = this.props.data.filter(thing => thing.selected)\n        .map(thing => { return { type: thing.type, id: thing.id }; });\n    }\n\n\n    return (\n      <div>\n        <Notification ref='notificationSystem' />\n        {this.state.actionSuccess ?\n          <div>\n            <Button bsStyle='success' onClick={this.props.getDeletedItems}>Action Successful! Click to reload data.</Button>\n          </div>\n          :\n          <div style={{ display: 'grid' }}>\n            <div>\n              <h4 style={{ float: 'left' }}></h4> {this.props.data.length > 0 ? <h4 style={{ float: 'left' }}>Select a Deleted Object</h4> : null}\n              <ButtonGroup style={{ float: 'right' }}>\n                <Button bsStyle='success' onClick={this.Restore}>Restore</Button>\n                <Button bsStyle='danger' onClick={this.Purge}>Purge</Button>\n              </ButtonGroup>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n\n  Restore(e) {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        $.ajax({\n          type: 'put',\n          url: '/scot/api/v2/deleted/' + key.id,\n          data: JSON.stringify({ 'status': 'undelete' }),\n          success: function () {\n            let notification = this.refs.notificationSystem;\n            notification.addNotification({\n              message: 'Successfully Restored',\n              level: 'success',\n              autoDismiss: 0,\n            });\n            this.props.getDeletedItems();\n          }.bind(this),\n          error: function () {\n            console.log('failed to restore items');\n          }.bind(this),\n        });\n      }\n    }\n  }\n\n  Purge(e) {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        $.ajax({\n          type: 'delete',\n          url: '/scot/api/v2/deleted/' + key.id,\n          success: function () {\n            let notification = this.refs.notificationSystem;\n            notification.addNotification({\n              message: 'Successfully Purged',\n              level: 'success',\n              autoDismiss: 0,\n            });\n            this.props.getDeletedItems();\n          }.bind(this),\n          error: function () {\n            console.log('failed to purge items');\n          }.bind(this)\n        });\n      }\n    }\n  }\n\n  LinkContextChange(e) {\n    this.setState({ linkContextString: e.target.value });\n  }\n\n  ExpandLinkToggle(newState) {\n    if (newState == true || newState == false) {\n      this.setState({ linkPanel: newState, linkContextString: '' });\n    } else {\n      let linkPanel = !this.state.linkPanel;\n      this.setState({ linkPanel: linkPanel, linkContextString: '' });\n    }\n  }\n\n  RemoveSelected() {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        removeMarkedItems(key.type, key.id);\n      }\n    }\n\n    //update marked items after removal\n    this.props.getDeletedItems();\n\n    //turn off the action success buttons after removal\n    if (this.state.actionSuccess) {\n      this.setState({ actionSuccess: false });\n    }\n  }\n\n  StartDelete() {\n    this.setState({\n      pendingDelete: true,\n    });\n  }\n\n  MoveEntry() {\n    for (let key of this.props.data) {\n      if (key.selected && key.type == 'entry') {\n        this.EntryAjax(key.id, true);\n      }\n    }\n  }\n\n  CopyEntry() {\n    for (let key of this.props.data) {\n      if (key.selected && key.type == 'entry') {\n        this.EntryAjax(key.id, false);\n      }\n    }\n  }\n\n  Link() {\n\n\n    for (let key of this.props.data) {\n      if (key.selected) {\n\n        let arrayToLink = [];\n        let obj = {};\n        let currentobj = {};\n\n        //assign new thing to link\n        obj.id = parseInt(key.id);\n        obj.type = key.type;\n\n        //assign current thing to link to\n        currentobj.id = parseInt(this.props.id);\n        currentobj.type = this.props.type;\n\n        arrayToLink.push(obj);\n        arrayToLink.push(currentobj);\n\n        this.LinkAjax(arrayToLink);\n      }\n\n      /*\n          if ( arrayToLink.length > 0 ) {\n          //add current thing to be linked to\n          let obj = {};\n          obj.id = parseInt( this.props.id );\n          obj.type = this.props.type;\n\n          arrayToLink.push( obj );\n          this.LinkAjax( arrayToLink );\n      }*/\n    }\n\n\n  }\n\n  Reparse() {\n    this.setState({\n      reparseButton: ACTION_BUTTONS.LOADING,\n    });\n\n    $.when(...this.props.data.filter((thing) => thing.selected)\n      .map((thing) => {\n        return this.ReparseAjax(thing);\n      })\n    ).then(\n      // Success\n      () => {\n        this.setState({\n          reparseButton: ACTION_BUTTONS.SUCCESS,\n        });\n      },\n      // Failure\n      (error) => {\n        console.error(error);\n        this.setState({\n          reparseButton: ACTION_BUTTONS.ERROR,\n        });\n        this.props.errorToggle('error reparsing', error);\n      }\n    ).always(() => {\n      setTimeout(() => {\n        this.setState({\n          reparseButton: ACTION_BUTTONS.READY,\n        });\n      }, 2000);\n    });\n  }\n\n  ReparseAjax(thing) {\n    return $.ajax({\n      type: 'put',\n      url: '/scot/api/v2/' + thing.type + '/' + thing.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: 'application/json; charset=UTF-8',\n    });\n  }\n\n  Promote() {\n    this.setState({\n      promoteButton: ACTION_BUTTONS.LOADING,\n    });\n\n    let success = true;\n\n    $.when(...this.props.data.filter((thing) => thing.selected)\n      .map((thing) => {\n        return this.PromoteAjax(thing);\n      })\n    ).then(\n      // Success\n      () => {\n        this.setState({\n          promoteButton: ACTION_BUTTONS.SUCCESS,\n        });\n      },\n      // Failure\n      (error) => {\n        success = false;\n        console.error(error);\n        this.setState({\n          promoteButton: ACTION_BUTTONS.ERROR,\n        });\n        this.props.errorToggle('error adding alerts to event', error);\n      }\n    ).always(() => {\n      setTimeout(() => {\n        this.setState({\n          promoteButton: ACTION_BUTTONS.READY,\n        });\n\n        if (success) {\n          window.location.reload();\n        }\n      }, 2000);\n    });\n  }\n\n  PromoteAjax(thing) {\n    return $.ajax({\n      type: 'put',\n      url: '/scot/api/v2/alert/' + thing.id,\n      data: JSON.stringify({ promote: parseInt(this.props.id) }),\n      contentType: 'application/json; charset=UTF-8',\n    });\n  }\n\n  LinkAjax(arrayToLink) {\n    let data = {};\n    data.weight = 1; //passed in object\n    data.vertices = arrayToLink; //link to current thing\n\n    if (this.state.linkContextString) {           //add context string if one was submitted\n      data.context = this.state.linkContextString;\n    }\n\n    $.ajax({\n      type: 'post',\n      url: '/scot/api/v2/link',\n      data: JSON.stringify(data),\n      contentType: 'application/json; charset=UTF-8',\n      dataType: 'json',\n      success: function (response) {\n        console.log('successfully linked');\n        this.ExpandLinkToggle(false);                          //disable link panel\n        this.ToggleActionSuccess(true);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('failed to link', data);\n      }.bind(this)\n    });\n  }\n\n  EntryAjax(id, removeOriginal) {\n\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/entry/' + id,\n      success: function (response) {\n        let data = {};\n        data = { parent: 0, body: response.body, target_id: parseInt(this.props.id), target_type: this.props.type };\n        $.ajax({\n          type: 'post',\n          url: '/scot/api/v2/entry',\n          data: JSON.stringify(data),\n          contentType: 'application/json; charset=UTF-8',\n          dataType: 'json',\n          success: function (response) {\n\n            if (removeOriginal) {\n              this.RemoveEntryAfterMove(id);\n              this.RemoveSelected();\n            } else {\n              if (!this.state.actionSuccess) {\n                this.ToggleActionSuccess(true);\n              }\n            }\n\n          }.bind(this),\n          error: function (data) {\n            this.props.errorToggle('failed to create new entry', data);\n          }.bind(this)\n        });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('failed to get entry data', data);\n      }.bind(this)\n    });\n\n  }\n\n  RemoveEntryAfterMove(id) {\n    $.ajax({\n      type: 'delete',\n      url: '/scot/api/v2/entry/' + id,\n      success: function (response) {\n        console.log('removed original entry');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to remove original entry', data);\n      }.bind(this),\n    });\n  }\n\n  ToggleActionSuccess(status) {\n\n    if (status == true || status == false) {\n      this.setState({ actionSuccess: status });\n    } else {\n      let newActionSuccess = !this.state.actionSuccess;\n      this.setState({ actionSuccess: newActionSuccess });\n    }\n\n  }\n}\n\nActions.propTypes = {\n  data: PropTypes.object\n};\n\nActions.defaultProps = {\n  data: {}\n};\n\nUndelete.propTypes = {\n  modalActive: PropTypes.bool\n};\n\nUndelete.defaultProps = {\n  modalActive: true\n};\n\n\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport UserGroupContainer from './usergroupcontainer'\nimport { Api } from './api'\nimport { Undelete } from './undelete'\n\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nconst theme = createMuiTheme({\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    fontSize: 20,\n  },\n});\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    // backgroundColor: theme.palette.background.paper,\n  },\n  appBar: {\n    backgroundColor: '#2196f3',\n  },\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    fontSize: 20,\n  },\n});\n\nclass Admin extends React.Component {\n  state = {\n    value: 0,\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className={classes.root}>\n          <AppBar className={classNames(classes.appBar, classes.typography)} position=\"static\">\n            <Tabs value={value} indicatorColor=\"primary\" centered onChange={this.handleChange}>\n              <Tab label=\"Users / Groups\" />\n              <Tab label=\"API\" />\n              <Tab label=\"Undelete\" />\n            </Tabs>\n          </AppBar>\n          {value === 0 &&\n            <TabContainer>\n              <UserGroupContainer></UserGroupContainer>\n            </TabContainer>}\n          {value === 1 &&\n            <TabContainer>\n              <Api></Api>\n            </TabContainer>}\n          {value === 2 &&\n            <TabContainer>\n              <Undelete></Undelete>\n            </TabContainer>}\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\nAdmin.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Admin);","import Navbar from \"react-bootstrap/lib/Navbar.js\";\nimport Nav from \"react-bootstrap/lib/Nav.js\";\nimport NavItem from \"react-bootstrap/lib/NavItem.js\";\nimport NavDropdown from \"react-bootstrap/lib/NavDropdown.js\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem.js\";\nimport React from \"react\";\nimport Home from \"./home\";\nimport { ReportPage, SingleReport } from \"../components/dashboard/report\";\nimport { NOTIFICATION_TYPES } from \"../components/dashboard/activity\";\nimport { UserConfigProvider } from \"../utils/userConfig\";\nimport * as Cookies from \"../utils/cookies\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\nimport Search from \"../components/esearch\";\nimport Wall from \"../debug-components/wall\";\nimport Login from \"../modal/login.js\";\nimport { Link } from \"react-router-dom\";\nimport { Route } from \"react-router-dom\";\nimport ListView from '../list/list-view';\nimport Notification from \"react-notification-system\"\nimport LinkContainer from \"react-router-bootstrap/lib/LinkContainer.js\";\nimport Admin from '../components/admin/'\n\nwindow.jQuery = window.$ = require(\"jquery/dist/jquery\");\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      notificationSetting: \"on\",\n      login: false,\n      csrf: \"\",\n      origurl: \"\",\n      sensitivity: \"\",\n      whoami: undefined,\n      handler: undefined,\n      eestring: \"\",\n      clientId: null\n    };\n    this.notification = this.notification.bind(this);\n    this.loginToggle = this.loginToggle.bind(this);\n    this.errorToggle = this.errorToggle.bind(this);\n    this.AMQ = new Amq();\n  }\n\n  componentWillReceiveProps = nextProps => {\n    let viewModeSetting = Cookies.checkCookie(\"viewMode\");\n    let notificationSetting = Cookies.checkCookie(\"notification\");\n    if (nextProps.match.params.value) {\n      var listViewFilterSetting = Cookies.checkCookie(\n        \"listViewFilter\" + nextProps.match.params.value.toLowerCase()\n      );\n      var listViewSortSetting = Cookies.checkCookie(\n        \"listViewSort\" + nextProps.match.params.value.toLowerCase()\n      );\n      var listViewPageSetting = Cookies.checkCookie(\n        \"listViewPage\" + nextProps.match.params.value.toLowerCase()\n      );\n    }\n    if (notificationSetting === undefined) {\n      notificationSetting = \"on\";\n    }\n\n    if (!this.state.handler) {\n      this.GetHandler();\n    }\n\n    if (!this.state.whoami) {\n      this.WhoAmIQuery();\n    }\n\n    this.setState({\n      viewMode: viewModeSetting,\n      notificationSetting: notificationSetting,\n      listViewFilter: listViewFilterSetting,\n      listViewSort: listViewSortSetting,\n      listViewPage: listViewPageSetting\n    });\n  };\n\n  componentDidMount = () => {\n    this.GetHandler();\n    this.WhoAmIQuery();\n    this.AMQ.register_client();\n    this.AMQ.create_callback_object(\"wall\", this.wall);\n    this.AMQ.create_callback_object(\"notification\", this.notification);\n\n    //ee\n    if (this.props.match.url === \"/\") {\n      $(document.body).keydown(\n        function (e) {\n          this.ee(e);\n        }.bind(this)\n      );\n    }\n  };\n\n  eedraw = () => {\n    $(\"#content\").css(\"transform\", \"rotateX(20deg)\");\n    $(document.body).prepend(\n      '<span id=\"ee\">Lbh sbhaq gur rtt. Cbfg gb gur jnyy \"V sbhaq gur rtt, pna lbh?\"</span>'\n    );\n  };\n\n  eeremove = () => {\n    $(\"#content\").css(\"transform\", \"rotateX(0deg)\");\n    $(\"#ee\").remove();\n  };\n\n  componentWillUnmount = () => {\n    SessionStorage.removeSessionStorage(\"whoami\");\n  };\n\n  componentWillMount = () => {\n    //Get landscape/portrait view if the cookie exists\n    // let viewModeSetting = Cookies.checkCookie( 'viewMode' );\n    // let notificationSetting = Cookies.checkCookie( 'notification' );\n    // if ( this.props.match.params.value ) {\n    //     var listViewFilterSetting = Cookies.checkCookie( 'listViewFilter'+this.props.match.params.value.toLowerCase() );\n    //     var listViewSortSetting = Cookies.checkCookie( 'listViewSort'+this.props.match.params.value.toLowerCase() );\n    //     var listViewPageSetting = Cookies.checkCookie( 'listViewPage'+this.props.match.params.value.toLowerCase() );\n    //     globalFilter = listViewFilterSetting;\n    //     globalPage = listViewPageSetting;\n    //     globalSort = listViewSortSetting;\n    // }\n    // if ( notificationSetting == undefined ) {\n    //     notificationSetting = 'on';\n    // }\n    // this.setState( {viewMode:viewModeSetting, notificationSetting:notificationSetting, listViewFilter:listViewFilterSetting,listViewSort:listViewSortSetting, listViewPage:listViewPageSetting} );\n  };\n\n  ee = e => {\n    let ee = \"837279877769847269697171\";\n    if (ee.includes(this.state.eestring)) {\n      if (this.state.eestring + e.keyCode === ee) {\n        this.eedraw();\n        setTimeout(this.eeremove, 2000);\n      } else {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if (e.ctrlKey !== true && e.metaKey !== true) {\n          let eestring = this.state.eestring + e.keyCode;\n          this.setState({ eestring: eestring });\n        }\n      }\n    } else {\n      this.setState({ eestring: \"\" });\n    }\n  };\n\n  notification = () => {\n    // Don't show on dashboard if filtered type\n    if (\n      this.props.match.path === \"/\" &&\n      this.props.match.isExact &&\n      NOTIFICATION_TYPES.includes(this.props.stateProps.activemqstate)\n    ) {\n      return;\n    }\n\n    //Notification display in update as it will run on every amq message matching 'main'.\n    let notification = this.refs.notificationSystem;\n    //not showing notificaiton on entity due to \"flooding\" on an entry update that has many entities causing a storm of AMQ messages\n    if (\n      this.AMQ.activemqwho !== \"scot-alerts\" &&\n      this.AMQ.activemqwho !== \"scot-admin\" &&\n      this.AMQ.activemqwho !== \"scot-flair\" &&\n      notification !== undefined &&\n      this.AMQ.activemqwho !== this.state.whoami &&\n      this.AMQ.activemqwho !== \"\" &&\n      this.AMQ.activemqwho !== \"api\" &&\n      this.AMQ.activemqwall !== true &&\n      this.AMQ.activemqtype !== \"entity\" &&\n      this.state.notificationSetting === \"on\"\n    ) {\n      let message = `${this.AMQ.activemqwho} ${this.AMQ.activemqaction} ${this.AMQ.activemqtype} : ${this.AMQ.activemqid}`\n      let type = this.AMQ.activemqtype;\n      let state = this.AMQ.activemqstate;\n      let activemqid = this.AMQ.activemqid;\n      notification.addNotification({\n        message: message,\n        level: \"info\",\n        autoDismiss: 5,\n        action:\n          state !== \"delete\"\n            ? {\n              label: \"View\",\n              callback: function () {\n                window.open(\n                  \"/#/\" +\n                  type +\n                  \"/\" +\n                  activemqid\n                );\n              }\n            }\n            : null\n      });\n    }\n  };\n\n  wall = (message) => {\n    // Don't show on dashboard\n    if (this.props.match.path === \"/\" && this.props.match.isExact) {\n      return;\n    }\n\n    var notification = this.refs.notificationSystem;\n    var date = new Date(this.AMQ.activemqwhen * 1000);\n    date = date.toLocaleString();\n    if (this.AMQ.activemqwall === true) {\n      notification.addNotification({\n        message:\n          date + \" \" + this.AMQ.activemqwho + \": \" + this.AMQ.activemqmessage,\n        level: \"warning\",\n        autoDismiss: 0\n      });\n      // message.activemqwall = false;\n    }\n  };\n\n  errorToggle = (string, result) => {\n    let errorString = string;\n    if (result) {\n      if (result.responseJSON) {\n        if (result.responseJSON.error === \"Authentication Required\") {\n          this.setState({ csrf: result.responseJSON.csrf }); //set csrf here since it can change after the login prompt loads\n          this.loginToggle(result.responseJSON.csrf);\n          return;\n        }\n      } else if (result.statusText === \"Service Unavailable\") {\n        errorString = result.statusText; //Use server error message if available.\n      }\n    }\n\n    let notification = this.refs.notificationSystem;\n    notification.addNotification({\n      message: errorString,\n      level: \"error\",\n      autoDismiss: 0\n    });\n  };\n\n  notificationToggle = () => {\n    if (this.state.notificationSetting === \"off\") {\n      this.setState({ notificationSetting: \"on\" });\n      Cookies.setCookie(\"notification\", \"on\", 1000);\n    } else {\n      this.setState({ notificationSetting: \"off\" });\n      Cookies.setCookie(\"notification\", \"off\", 1000);\n    }\n  };\n\n  loginToggle = (csrf, loggedin) => {\n    //Only open modal once - if other requests come in to open the modal just bypass since the login page is active\n    if (!this.state.login && loggedin !== true) {\n      let origurl = this.props.location.pathname;\n      this.props.history.push(\"/\");\n      this.setState({ login: true, origurl: origurl });\n    } else if (this.state.login && loggedin === true) {\n      this.setState({ login: false });\n      this.props.history.push(this.state.origurl);\n    }\n  };\n\n  LogOut = () => {\n    //Logs out of SCOT\n    $.ajax({\n      type: \"get\",\n      url: \"/logout\",\n      success: function (data) {\n        this.setState({ login: true });\n        console.log(\"Successfully logged out\");\n        //Call whoami so we can get a csrf token\n        this.WhoAmIQuery();\n      }.bind(this),\n      error: function (data) {\n        this.error(\"Failed to log out\", data);\n      }.bind(this)\n    });\n  };\n\n  WhoAmIQuery = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/whoami\",\n      success: function (result) {\n        SessionStorage.setSessionStorage(\"whoami\", result.user);\n        if (result.data) {\n          this.setState({\n            sensitivity: result.data.sensitivity,\n            whoami: result.user\n          });\n        }\n      }.bind(this),\n      error: function (data) {\n        this.errorToggle(\"Failed to get current user\", data);\n      }.bind(this)\n    });\n  };\n\n  GetHandler = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/handler?current=1\",\n      success: function (response) {\n        this.setState({ handler: response.records[0].username });\n      }.bind(this),\n      error: function (data) {\n        this.errorToggle(\"Failed to get current user\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let IH = \"Incident Handler: \" + this.state.handler;\n    let type;\n\n    if (this.props.match.params.value) {\n      type = this.props.match.params.value.toLowerCase();\n    }\n\n    return (\n      <UserConfigProvider>\n        <Navbar inverse fixedTop={true} fluid={true}>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\" style={{ margin: \"0\", padding: \"0\" }}>\n                <img src=\"/images/scot-600h.png\" alt=\"\" style={{ width: \"50px\" }} />\n              </Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              <LinkContainer to=\"/alertgroup\" activeClassName=\"active\">\n                <NavItem>Alert</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/event\" activeClassName=\"active\">\n                <NavItem>Event</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/incident\" activeClassName=\"active\">\n                <NavItem>Incident</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/intel\" activeClassName=\"active\">\n                <NavItem>Intel</NavItem>\n              </LinkContainer>\n              <NavDropdown id=\"nav-dropdown\" title={\"More\"}>\n                <LinkContainer to=\"/task\" activeClassName=\"active\">\n                  <MenuItem>Task</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/guide\" activeClassName=\"active\">\n                  <MenuItem>Guide</MenuItem>\n                </LinkContainer>\n                <MenuItem href=\"/revl.html#/visualization\">\n                  Visualization\n                </MenuItem>\n                <LinkContainer to=\"/signature\" activeClassName=\"active\">\n                  <MenuItem>Signature</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/entity\" activeClassName=\"active\">\n                  <MenuItem>Entity</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/reports\" activeClassName=\"active\">\n                  <MenuItem>Reports</MenuItem>\n                </LinkContainer>\n                <MenuItem divider />\n                <LinkContainer to=\"/admin\" activeClassName=\"active\">\n                  <MenuItem>Administration</MenuItem>\n                </LinkContainer>\n                <MenuItem href=\"/docs/index.html\">Documentation</MenuItem>\n                <MenuItem divider />\n                <MenuItem href=\"/cyberchef.htm\">Cyber Chef</MenuItem>\n                <MenuItem divider />\n                <MenuItem href=\"/#/\" onClick={this.LogOut}>\n                  Log Out\n                </MenuItem>\n              </NavDropdown>\n              <NavItem href=\"/incident_handler.html\">{IH}</NavItem>\n            </Nav>\n            <span id=\"ouo_warning\" className=\"ouo-warning\">\n              {this.state.sensitivity}\n            </span>\n            <span\n              id=\"scot_version\"\n              style={{\n                float: \"right\",\n                marginTop: \"3px\",\n                padding: \"10px 10px\",\n                position: \"relative\",\n                color: \"white\"\n              }}\n              className=\"scot_version\"\n            >\n              V3.7\n            </span>\n            <Search errorToggle={this.errorToggle} />\n          </Navbar.Collapse>\n        </Navbar>\n        <div className=\"mainNavPadding\">\n          <Login\n            csrf={this.state.csrf}\n            modalActive={this.state.login}\n            loginToggle={this.loginToggle}\n            WhoAmIQuery={this.WhoAmIQuery}\n            GetHandler={this.GetHandler}\n            errorToggle={this.errorToggle}\n            origurl={this.state.origurl}\n          />\n          <Notification ref=\"notificationSystem\" />\n          {/* Home Page Dashboard */}\n          <Route\n            exact\n            path=\"/\"\n            render={props => (\n              <Home\n                loggedIn={!this.state.login}\n                sensitivity={this.state.sensitivity}\n                errorToggle={this.errorToggle}\n                clientId={this.state.clientId}\n                createCallback={this.AMQ.create_callback_object}\n                removeCallback={this.AMQ.remove_callback_object}\n              />\n            )}\n          />\n          {type === \"admin\" ? (\n            <Route exact path=\"/admin\">\n              <Admin></Admin>\n            </Route>\n          ) : null}\n          {type === \"alert\" ? (\n            <Route exact path=\"/alert\">\n              <ListView\n                id={this.props.match.params.id}\n                id2={this.props.match.params.id2}\n                viewMode={this.state.viewMode}\n                type={type}\n                notificationToggle={this.notificationToggle}\n                notificationSetting={this.state.notificationSetting}\n                listViewFilter={this.state.listViewFilter}\n                listViewSort={this.state.listViewSort}\n                listViewPage={this.state.listViewPage}\n                errorToggle={this.errorToggle}\n                history={this.props.history}\n                createCallback={this.AMQ.create_callback_object}\n                removeCallback={this.AMQ.remove_callback_object}\n              />\n            </Route>\n          ) : null}\n          {type === \"alertgroup\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"entry\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"event\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"incident\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"task\" ? (\n            <ListView\n              isTask={true}\n              queryType={this.props.match.params.type}\n              viewMode={this.state.viewMode}\n              type={this.props.match.params.value}\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"guide\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"intel\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"signature\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"entity\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"reports\" && !this.props.match.params.id && <ReportPage />}\n          {type === \"reports\" &&\n            this.props.match.params.id && (\n              <SingleReport reportType={this.props.match.params.id} />\n            )}\n          {/* {type == \"amq\" ? (\n            <AMQ type=\"amq\" errorToggle={this.errorToggle} />\n          ) : null} */}\n          {type === \"wall\" ? <Wall errorToggle={this.errorToggle} /> : null}\n        </div>\n      </UserConfigProvider>\n    );\n  };\n}\n\nexport class Amq {\n  constructor() {\n    this.client = \"\";\n    this.whoami = \"\";\n    this.amqdebug = \"\";\n    this.activemqaction = \"\";\n    this.activemqaction = \"\";\n    this.activemqid = \"\";\n    this.activemqwho = \"\";\n    this.activemqtype = \"\";\n    this.activemqguid = \"\";\n    this.activemqhostname = \"\";\n    this.activemqpid = \"\";\n    this.activemqwhen = \"\";\n    this.activemqwall = \"\";\n    this.cb_map = new Map();\n  }\n\n  s4 = () => {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  };\n\n  get_guid = () => {\n    return (\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4()\n    );\n  };\n\n  register_client = restart => {\n    this.client = this.get_guid();\n    this.whoami = SessionStorage.getSessionStorage(\"whoami\");\n    $.ajax({\n      type: \"POST\",\n      url: \"/scotaq/amq\",\n      data: {\n        message: \"chat\",\n        type: \"listen\",\n        clientId: this.client,\n        destination: \"topic://scot\"\n      },\n      success: function (data) {\n        console.log(\"Registered client as \" + this.client);\n        if (!restart) {\n          //only start the update if this is not a restart. Restart will just use the new clientid once it is live.\n          setTimeout(\n            function () {\n              this.get_data();\n            }.bind(this),\n            1000\n          );\n        }\n      }.bind(this),\n      error: function (data) {\n        console.log(\"Error: failed to register client, retry in 1 sec\");\n        setTimeout(function () {\n          this.register_client();\n        }, 1000);\n      }.bind(this)\n    });\n  };\n\n  get_data = () => {\n    let now = new Date();\n    $.ajax({\n      type: \"GET\",\n      url: \"/scotaq/amq\",\n      data: {\n        /*loc: location.hash, */\n        clientId: this.client,\n        timeout: 20000,\n        d: now.getTime(),\n        r: Math.random(),\n        json: \"true\",\n        username: this.whoami\n      },\n      success: function (data) {\n        console.log(\"Received Message\");\n        setTimeout(\n          function () {\n            this.get_data();\n          }.bind(this),\n          40\n        );\n        let messages = $(data)\n          .text()\n          .split(\"\\n\");\n        messages.forEach(function (message, key) {\n          if (message !== \"\") {\n            let json = JSON.parse(message);\n            console.log(json);\n            this.process_message(json);\n            this.handle_update(json);\n            return true;\n          }\n        }.bind(this));\n      }.bind(this),\n      error: function () {\n        setTimeout(\n          function () {\n            this.getData(this.client);\n          }.bind(this),\n          1000\n        );\n        console.log(\"AMQ not detected, retrying in 1 second.\");\n      }\n    });\n  };\n\n  create_callback_object = (key, callback) => {\n    if (this.cb_map.has(key)) {\n      this.cb_map.get(key).add(callback);\n    } else {\n      let newset = new Set();\n      newset.add(callback)\n      this.cb_map.set(key, newset)\n    }\n  };\n\n  remove_callback_object = (key, callback) => {\n    let callbacks = this.cb_map.get(key)\n    callbacks.forEach(function (element) {\n      if (callback == element) {\n        callbacks.delete(callback);\n      }\n    }.bind(this));\n  };\n\n\n  process_message = payload => {\n\n    if (payload.action === \"wall\") {\n      this.activemqwho = payload.data.who;\n      this.activemqmessage = payload.data.message;\n      this.activemqwhen = payload.data.when;\n      this.activemqwall = true;\n    } else {\n      this.activemqaction = payload.action;\n      this.activemqid = payload.data.id;\n      this.activemqtype = payload.data.type;\n      this.activemqwho = payload.data.who;\n      this.activemqguid = payload.guid;\n      this.activemqhostname = payload.hostname;\n      this.activemqpid = payload.pid;\n    }\n  }\n\n  execute_callback_function = searchstring => {\n    try {\n      let f = this.cb_map.get(searchstring);\n      if (f !== undefined) {\n        f.forEach(function (item) {\n          item();\n        });\n      }\n      let noti = this.cb_map.get('notification');\n      noti.forEach(function (item) {\n        item();\n      })\n    } catch (e) {\n      throw e;\n    }\n  }\n\n\n  handle_update = message => {\n    let searchstring = \"\";\n    if (message.action === 'wall') {\n      searchstring = 'wall'\n    } else if (message.action === 'created') {\n      searchstring = `${message.data.type}:listview`\n    } else if (message.action === 'updated') {\n      searchstring = message.data.id\n    } else if (message.action === 'deleted') {\n      searchstring = message.data.id\n    }\n    this.execute_callback_function(searchstring);\n  }\n}\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './main/index';\nimport registerServiceWorker from './registerServiceWorker';\nimport Switch from \"react-router-dom/es/Switch\";\nimport Route from \"react-router-dom/es/Route\";\nimport HashRouter from \"react-router-dom/es/HashRouter\";\nimport { SnackbarProvider } from 'notistack';\n\nlet customHistory = require('history').createBrowserHistory;\n\nReactDOM.render(<HashRouter history={customHistory()}>\n  <SnackbarProvider >\n    <Switch>\n      <Route exact path='/' component={App} />\n      <Route exact path='/:value' component={App} />\n      <Route exact path='/:value/:id' component={App} />\n      <Route exact path='/:value/:id/:id2' component={App} />\n      <Route path='/:value/:type/:id/:id2' component={App} />\n    </Switch>\n  </SnackbarProvider>\n</HashRouter>, document.getElementById('root'));"],"sourceRoot":""}