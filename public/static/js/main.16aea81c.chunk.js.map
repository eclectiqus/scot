{"version":3,"sources":["images/scot_logo_473x473.png","utils/userConfig.js","components/local_storage.js","components/dashboard/dazzle/widgetWrapper.js","components/dashboard/dazzle/widgetPicker.js","components/dashboard/dazzle/dashboard.js","components/dashboard/status.js","components/dashboard/emoji.js","components/dashboard/gamification.js","utils/session_storage.js","utils/time.js","components/dashboard/activity.js","utils/timesince.js","components/dashboard/report_heatmap.js","utils/debounce.js","components/dashboard/report_art.js","components/dashboard/report_alertpower.js","components/dashboard/report_created.js","components/dashboard/report.js","list/LoadingContainer/index.js","components/dashboard/thinglist.js","components/dashboard/dazzle/widgets.js","main/home.js","utils/cookies.js","components/esearch.js","debug-components/wall.js","modal/login.js","components/TagInput/index.js","utils/XHR.js","list/tableConfig.js","utils/constants.js","utils/list-columns.js","components/detail_data_status.js","components/promote.js","components/marker.js","modal/entity_detail.js","components/traffic_light_protocol.js","detail/selected_header_options.js","modal/delete.js","modal/owner.js","modal/entities.js","modal/change_history.js","modal/viewed_by_history.js","components/permission.js","components/conflict.js","components/add_entry.js","components/file_upload.js","components/summary.js","components/task.js","modal/link_warning.js","components/signature_table.js","components/autocomplete_input.js","modal/entity_create.js","components/custom_metadata_table.js","detail/alert_subcomponent.js","detail/selected_entry.js","components/badge.js","components/add_flair.js","modal/links.js","modal/mark.js","detail/selected_header.js","list/list-view.js","modal/export_event.js","modal/promoted_data.js","detail/selected_container.js","components/admin/usergroupform.js","components/admin/areyousure.js","components/admin/usergroupcontainer.js","components/admin/api.js","components/admin/undelete.js","components/admin/index.js","utils/activemq.js","main/index.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","UserConfigKeyShape","key","PropTypes","string","isRequired","default","any","UserConfigContextTypes","getUserConfig","func","setUserConfig","UserConfigProvider","_PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","userConfig","loading","update","bind","assertThisInitialized","inherits","createClass","value","Promise","resolve","reject","json","localStorage","JSON","parse","config","_this2","name","stringify","setItem","then","_this3","setState","react_default","a","createElement","react_broadcast","channel","children","PureComponent","childContextTypes","shape","bool","PanelHeader","title","onRemove","style","position","className","Button","onClick","bsSize","Wrapper","_ref","editable","concat","Panel","header","React","cloneElement","editMode","WidgetPicker","widgets","layout","isOpen","onClose","onSelect","activeWidgets","Set","rows","forEach","row","columns","col","widget","add","widgetItems","keys","filter","has","map","widgetObj","description","length","Modal","show","onHide","Header","closeButton","Title","Body","Footer","defaultLayout","Dashboard","saveDashboard","isNew","widgetPicker","newWidgetOptions","onAdd","updateLayout","updateTitle","reset","toggleEdit","togglePicker","selectWidget","rowIndex","columnIndex","target","errorToggle","_this$state$newWidget","addWidget","dashboard_TitleBar","onEdit","onSave","onCancel","handleTitleChange","Grid","fluid","lib_default","onMove","frameComponent","WidgetWrapper","defaultProps","TitleBar","onSubmit","type","placeholder","onChange","bsStyle","disabled","Status","statusData","error","updateData","fetchError","$","ajax","url","success","_isMounted","response","_this$props$className","services","Array","isArray","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","service","status","push","status_Service","err","return","classes","join","Service","Emoji","role","aria-label","label","aria-hidden","symbol","titleCase","str","charAt","toUpperCase","slice","Gamification","updateCategory","nextIndex","categoryIndex","gameCategories","data","categories","category","console","log","gamification_Category","gameData","categoryInterval","setInterval","clearInterval","Well","Category","tooltip","username","count","emoji","es_Badge","setLocalStorage","getLocalStorage","setSessionStorage","removeSessionStorage","removeItem","getSessionStorage","moment","extendMoment","Moment","timeOlderThan","timestamp","secondsAgo","Date","now","todayRange","start","Math","floor","setHours","end","lastWeekRange","DAY","epochRangeToFilter","range","epochRangeToString","NOTIFICATION_LEVEL","wall","create","delete","NOTIFICATION_TYPES","NOTIFICATION_TIME","ACTIVITY_TYPE","Activity","users","notifications","loadWall","updateActivity","updateUsers","wallMessage","notification","refreshTimer","createCallback","pruned","time","action","persistWall","records","user","who","timeago","last_activity","walls","SessionStorage","message","activemqwhen","activemqwho","activemqmessage","level","includes","activemqwall","activemqtype","activemqstate","activemqid","arguments","i","item","epoch","badge","seconds","interval","timeSince","text","activity_ActivityItem","items","sort","b","buildActivityItem","stopped","marquee","well","marqueeValues","window","getComputedStyle","parseInt","width","paddingLeft","offsetWidth","ref","ReactDOM","findDOMNode","Component","ActivityItem","_ref$badge","_ref$style","Label","ReportHeatmap","getData","collection","year","axios","get","res","loadHeatMap","margin","height","gridSize","legendElementWidth","colors","container","d3","graph","select","empty","append","attr","selectAll","enter","d","remove","colorScale","domain","buckets","cards","day","hour","merge","transition","duration","exit","legend","quantiles","round","collectionChange","event","yearChange","exportToPNG","svgString","XMLSerializer","serializeToString","document","querySelector","canvas","ctx","getContext","DOMURL","self","URL","webkitURL","img","Image","svg","Blob","createObjectURL","onload","drawImage","png","toDataURL","innerHTML","revokeObjectURL","appendTo","click","src","formDisabled","htmlFor","display","textAlign","id","min","step","viewBox","hidden","debounce","callback","timeout","wait","immediate","_len","args","_key","clearTimeout","setTimeout","apply","formatTickTime","days","hours","minutes","formatTime","output","top","right","bottom","left","barColors","All","Promoted","Incident","ReportArt","initChart","xAxisEl","yAxisEl","chartInit","updateChart","barNames","chartData","dates","values","lineNames","lines","maxValue","dateScale","padding","rangeRound","date","barScale","from","bandwidth","yScale","clamp","nice","xAxis","scale","yAxis","ticks","tickFormat","AvgHolder","averages","AvgHolderBox","node","getBBox","x","y","borderOffset","transform","baseVal","initialize","getItem","LegendHolder","legendHeight","widthSums","legendWidth","loadArt","opts","unit","unitChange","lengthChange","dateChange","today","toISOString","pattern","wrapText","each","getComputedTextLength","words","split","reverse","word","line","lineCount","dy","parseFloat","pop","yOffset","legendSpacing","legendTextSpacing","ReportAlertpower","xScale","dataset","dataTypes","replace","score","curStart","curEnd","total","max","stackedMax","groupedMax","alerts","alertTypes","bars","displayMode","transitionGrouped","transitionStacked","delay","tween","prec","pow","t","initialDuration","displayModeChanged","loadData","chartResults","chartSort","chartSortDir","encodeURIComponent","chartFilter","dataChange","defineProperty","displayModeChang","preventSubmit","preventDefault","stopPropagation","background","border","checked","displayModeChange","timeWindow","ReportCreated","statusLine","curve","lineHolder","shown","on","newData","genData","reduce","e","dataMaxes","alertgroups","entries","events","intel","incidents","lineData","getTime","random","reportByType","reportType","reportTitleByType","reportDescriptionByType","reportPanelHeader","expandButton","backButton","Link","to","ReportPage","overflow","report_heatmap","report_alertpower","report_art","report_created","SingleReport","_ref$reportType","reportComponentByType","withStyles","theme","progress","spacing","CircularProgress_default","ThingList","extend","queryOptions","objectSpread","newBadge","ajaxSetup","traditional","thingType","processData","fetchData","thing","getLink","getSummary","created","things","genThingItem","emptyStyle","emptyString","list_LoadingContainer","ListGroup","limit","offset","subject","configKey","RecentIntel","RecentEvents","RecentIncidents","OpenTasks","tasks","updated","metadata.task.status","body_plain","substr","YourTasks","yourTasks","owner","UnviewedAlerts","unviewedAlerts","views","TopEvents","topEvents","has_tasks","ViewedEvents","viewedEvents","EntryEvents","entryEvents","entry_count","Widgets","_i","_widgetTypes","ReportWidgets","HomeDashboard","switchTab","closeTab","saveTab","dashboard_Dashboard","dashboardConfig","tabs","toConsumableArray","updateDashboardConfig","curTab","tabConfig","index","tabLayout","newTabConfig","splice","newTab","newConfig","loggedIn","dashboardHeader","dashboard_status","gamification","activity","removeCallback","tabsConfig","defaultTab","buildTab","tabHeaders","tab","_tab$title","objectWithoutProperties","es_NavItem","eventKey","cursor","tabContent","Tab","Pane","assign","Container","activeKey","Row","Col","sm","es_Nav","Content","mountOnEnter","unmountOnExit","withUserConfig","checkPropTypes","WrappedComponent","UserConfigSubscriber","_PureComponent2","_this4","setUserSubConfig","subConfig","context","_this$props","restProps","userConfigProps","contextTypes","displayName","getDisplayName","checkCookie","cookie","getCookie","cname","ca","c","substring","indexOf","deleteCookie","setCookie","cvalue","exdays","setTime","expires","toUTCString","Search","componentDidMount","keyup","keyCode","closeSearch","showSearchToolbar","searchString","doSearch","qstring","results","searching","handleEnterKey","componentDidUpdate","render","tableRows","esearch_SearchDataEachRows","dataOne","zIndex","marginTop","float","color","charSet","onKeyPress","flexFlow","borderStyle","esearch_SearchDataEachHeader","overflowY","maxHeight","componentWillUnmount","off","searchResults","entityHeight","SearchDataEachHeader","flexGrow","textOverflow","whiteSpace","SearchDataEachRows","entryid","highlight","rowEvenOdd","rowClassName","href","_React$createElement","search_string_array","main_default","activeClassName","styles","Active","highlightClassName","searchWords","autoEscape","textToHighlight","Highlight","backgroundColor","borderColor","borderWidth","overflowX","wordWrap","require","Wall","sendWallMessage","alert","buttonStatus","buttonText","buttonLoading","msg","inputChange","input","margin-left","wall_Button","Login","pass","SSO","NormalAuth","isEnterPressed","mounted","origurl","dialogClassName","modalActive","ScotImage","alt","marginBottom","marginRight","marginLeft","defaultValue","crossDomain","WhoAmIQuery","GetHandler","loginToggle","refs","csrf","responseText","TagInput","tags","maxTags","suggestions","handleDelete","handleAdd","handleInputChange","showHideInput","tag","arr","result","obj","hide","ReactTags_default","handleAddition","autoresize","autofocus","allowBackspace","allowNew","tagComponent","Tag","classNames","onDelete","selectedTag","selectedTagName","get_data","_x","_x2","_get_data","_callee","endpoint","params","regenerator_default","wrap","_context","prev","abrupt","sent","stop","_callee2","body","_context2","post","put_data","_x5","_x6","_put_data","_callee3","_context3","put","_callee4","_context4","customFilters","numberFilter","react_debounce_input_lib_default","debounceTimeout","minLength","stringFilter","_ref2","dropdownFilter","options","align","_ref3","OverlayTrigger","trigger","placement","overlay","Popover","maxWidth","ButtonGroup","vertical","option","active","textTransform","block","readOnly","dateRange","_ref4","rootClose","DateRangePicker_default","numberOfCalendars","selectionType","showLegend","singleDateRange","states","momentRangeToEpoch","dispatchEvent","MouseEvent","tagFilter","_ref5","components_TagInput","customCellRenderers","dateFormater","toLocaleString","alertStatus","_row$value$split$map","trim","_row$value$split$map2","slicedToArray","open","closed","textStatus","alertStatusAlerts","justifyContent","tableConfig_PromotionButton","flairCell","tableConfig_FlairObject","columnDefinitions","Id","accessor","Filter","AlertStatus","open_count","closed_count","promoted_count","column","Cell","EventStatus","IncidentStatus","SigStatus","TaskStatus","metadata","task","TaskSummary","minWidth","Subject","Location","Created","Updated","Occurred","Sources","Tags","TaskOwner","Owner","Entries","Views","DOE","IncidentType","AppliesTo","Value","Name","Group","signature_group","Type","EntityType","Description","TargetType","TargetId","filterable","EntryCountColumn","resizable","expander","Expander","_ref7","isExpanded","rest","Button_default","variant","original","Add_default","size","getProps","rowInfo","defaultColumnSettings","typeColumns","alertgroup","incident","signature","guide","entity","buildTypeColumns","rowData","propData","flag","hasOwnProperty","colOptions","element","columnobj","getColumnWidth","FlairObject","dangerouslySetInnerHTML","__html","headerText","String","magicLength","re","RegExp","cellLength","newtext","test","entitycount","match","PromotionButton","getPromotionInfo","prevProps","_this5","onMouseDown","listColumnsJSON","columnsDisplay","columnsClassName","ButtonToolbar","MenuItem","DropdownButton","DetailDataStatus","keydown","is","ctrlKey","metaKey","statusAjax","unbind","trackAll","untrackAll","closeAll","openAll","enableAll","disableAll","newStatus","contentType","buttonStyle","classStatus","promotion_id","detail_data_status_OverlayTrigger","detail_data_status_Popover","detail_data_status_MenuItem","fontSize","detail_data_status_Link","Promote","newType","newURL","promote","location","pid","promote_Button","eventkey","Marker","isMarked","removeMarkedItemsHandler","getMarkedItemsHandler","setMarkedItemsHandler","getSelectedAlerts","nextProps","isAlert","es_MenuItem","Tooltip","markedItems","getMarkedItems","selectedAlerts","removeMarkedItems","setMarkedItems","alertsSelected","currentMarked","nextMarked","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","startX","startY","startWidth","startHeight","DropdownToggle","DropdownMenu","TrafficLightProtocol","selectColor","tlp","serverRequest","traffic_light_protocol_OverlayTrigger","traffic_light_protocol_Tooltip","Dropdown_default","r","cx","cy","fill","stroke","strokeWidth","traffic_light_protocol_MenuItem","divider","SelectedHeaderOptions","toggleFlair","newGlobalFlairState","globalFlairState","ifr","contentDocument","ifrContents","contents","find","addClass","removeClass","alertOpenOrCloseSelected","iterarray","entryData","object","ToggleProcessingMessage","catch","alertPromoteSelected","array","promoteTo","alert_id","alertSelectExisting","prompt","selectExisting","alertExportCSV","currentRecords","data_to_download","dataToDownload","csvLink","link","PrintPrepare","css","max-height","pre","word-wrap","forceUpdate","Print","print","guideToggle","flairToolbarToggle","guideID","sourceToggle","createGuide","applies_to","subjectName","reparseFlair","parsed","createLinkSignature","manualUpdate","subjectType","headerData","showPromote","lib_Button_default","entryToggle","fileUploadToggle","viewedByHistoryToggle","changeHistoryToggle","permissionsToggle","traffic_light_protocol_TrafficLightProtocol","entitiesToggle","guideRedirectToAlertListWithFilter","linksModalToggle","promote_Promote","showSignatureOptionsToggle","exportToggle","deleteToggle","ButtonGroup_default","marker_Marker","markModalToggle","react_csv","filename","promoteRemaining","customStyles","content","ACTION_BUTTONS","READY","LOADING","SUCCESS","ERROR","DeleteThing","deleteItems","deleteType","enqueueSnackbar","_x7","_delete_data","delete_data","history","deleteText","deleteTempArray","paddingRight","react_modal_lib_default","onRequestClose","DeleteEntry","toggle","DeleteModal","deleteButton","deleteAll","when","deleteAjax","always","confirmText","DeleteThingComponent","withSnackbar","whoami","componentWillReceiveProps","currentOwner","ownerToggle","ownerToolbar","DropdownButton_default","MenuItem_default","Badge_default","Entities","entities_Modal","entitiesBody","entities_EntitiesData","entityData","entities_Button","EntitiesData","originalobj","entities","prop","subobj","entities_EntitiesDataHeaderIterator","EntitiesDataHeaderIterator","eachValue","entityId","entityValue","entities_EntitiesDataValueIterator","fontWeight","EntitiesDataValueIterator","ChangeHistory","historyBody","change_history_ChangeHistoryData","ChangeHistoryData","change_history_ChangeHistoryDataIterator","ChangeHistoryDataIterator","react_time_lib_default","format","what","ViewedByHistory","viewed_by_history_ViewedByHistoryData","ViewedByHistoryData","view_history","viewed_by_history_ViewedByHistoryDataIterator","ViewedByHistoryDataIterator","where","ReactTags","WithContext","SelectedPermission","toggleNewReadPermission","readPermissionEntry","toggleNewModifyPermission","modifyPermissionEntry","permissionsfunc","permissionData","groups","writepermissionsarr","readpermissionsarr","readwritepermissionsarr","fullprop","modifyRows","readRows","permission_PermissionIterator","dataRead","dataModify","updateid","read_modify","permission_NewPermission","readUpdate","modifyUpdate","paddingTop","PermissionIterator","permissionDelete","newPermission","tempArr","read","modify","j","NewPermission","handleDrag","permission_ReactTags","minQueryLength","customCSS","Conflict","handlePUT","editedtext","target_id","targetid","parent","target_type","handleClose","addedEntry","handleEditorChange","localconflict","Card_default","card","CardContent_default","Typography_default","component","es2015","initialValue","remoteconflict","plugins","onEditorChange","init","selector","table_clone_elements","paste_retain_style_properties","paste_data_images","paste_preprocess","plugin","relative_urls","remove_script_host","link_assume_external_targets","toolbar1","content_css","verify_html","setup","editor","addButton","onclick","insertContent","Prompt","AddEntryModal","entryAction","asyncContentLoaded","recentlyUpdated","scrollTop","leaveCatch","addedentry","change","submit","startsWith","set","dataURL","Number","html","dataType","forEdit","showConflict","toggleVisibility","exportContent","recipients","exportResponse","localcontent","not_saved_entry_id","Dialog_default","fullWidth","aria-labelledby","conflict","add_entry_Link","add_entry_Button","tinyID","table_default_attributes","auto_focus","browser_spellcheck","contextmenu","paste_postprocess","querySelectorAll","tableNode","setAttribute","ui","registry","addMenuButton","fetch","EntityDetail","componentWillMount","onLoad","getElementById","readyState","ifrContentsHead","rel","contentWindow","requestAnimationFrame","newheight","scrollHeight","isMounted","currentTabArray","valueClicked","entityvalue","entitytype","entityid","isNaN","entityidsarray","currentKey","initialLoad","processedIds","flairToolbarOff","containerHeightAdjust","addEventListener","checkForInitialLoadComplete","addNewEntity","watcher","nextPropsEntityIdInt","addEntity","_loop","currentTabArrayIndex","checkFlairHover","linkWarningToggle","initDrag","hasClass","elem","clientX","clientY","defaultView","documentElement","doDrag","stopDrag","blockiFrameMouseEvent","removeEventListener","allowiFrameMouseEvent","moveDivInit","moveDivStop","handleSelectTab","positionRightBoundsCheck","defaultEntityOffset","entityWidthint","fullScreen","defaultOffsetX","tabsArr","DragmeClass","z","Tab_default","entity_detail_TabContents","form","entityobj","Tabs_default","defaultActiveKey","animation","react_draggable_default","handle","entityWidth","flex","borderTop","borderBottom","entityMaxHeight","entityoffset","TabContents","entity_detail_EntityValue","minHeight","entity_detail_EntityBody","guideurl","entity_detail_GuideBody","entity_detail_SourceBody","add_entry_AddEntryModal","selected_entry_SelectedEntry","isPopUp","EntityValue","entityurl","detail_data_status_DetailDataStatus","EntityBody","updateAppearances","appearancesNumber","newAppearancesNumber","appearances","entryToolbar","showFullEntityButton","linkOnClickIntercept","entityEnrichmentDataArr","entityEnrichmentLinkArr","entityEnrichmentGeoArr","enrichmentEventKey","entity_detail_GeoView","entity_detail_EntityEnrichmentButtons","dataSource","entity_detail_EntityReferences","GeoView","copyToEntry","copyToEntryToolbar","copyToEntity","copyToEntityToolbar","trArr","copyArr","copy","EntityEnrichmentButtons","react_inspector_lib_default","expandLevel","EntityReferences","_this6","alertRequest","recordNumber","arrPromoted","arrClosed","arrOpen","maxRecords","entity_detail_ReferencesBody","entityDataAlertGroup","loadingAlerts","loadingEvents","loadingIncidents","loadingIntel","loadingSignature","eventRequest","entityDataEvent","guidesRequest","entityDataIncident","incidentRequest","intelRequest","entityDataIntel","signatureRequest","entityDataSignature","ReferencesBody","_this7","entryResult","summary","class","showSummary","summaryData","qtip","my","at","ready","summaryExists","trId","tdId","aHref","promotedHref","statusColor","daysSince","updatedTime","updatedTimeHumanReadable","alert_name","verticalAlign","lineHeight","GuideBody","_this8","SourceBody","react_frame_component_lib_default","head","frameBorder","sandbox","styleSheets","finalfiles","FileUpload","file_upload_Link","file_upload_Button","dist_es","onDrop","border-width","border-color","border-radius","border-style","text-align","background-color","files","file","list-style-type","line-height","Close","FormData","xhr","XMLHttpRequest","uploadProgress","uploadComplete","uploadFailed","uploadCancelled","send","edit","stagecolor","enable","addentry","saved","enablesave","Summary","newClass","summaryDisplay","Task","makeTask","make_task","closeTask","close_task","takeTask","take_task","taskDisplay","taskData","LinkWarning","proceed","opener","myDomain","reg","linkRegResult","myDomainRegResult","SignatureTable","submitSigBody","viewVersionid","ajaxType","viewSigBodyid","signature_id","revision","cursorEnabledDisabled","signatureData","editSigBody","lastViewVersionid","createNewSigBody","createNewSigBodyFromSig","Cancel","version","prod_sigbody_id","viewSigBody","keyboardHandlerUpdate","Cookies","currentKeyboardHandler","languageModeUpdate","currentLanguageMode","editorThemeUpdate","currentEditorTheme","loaded","keyboardHandlers","languageModes","editorThemes","versionsArray","keyboardHandlersArray","languageModesArray","editorThemesArray","not_saved_signature_entry_id","currentKeyboardHandlerApplied","highestVersionid","versionidrevision","versionidrevisionprodqual","versionidSigBodyid","qual_sigbody_id","signature_table_SignatureMetaData","showSignatureOptions","react_ace_lib_default","mode","editorProps","$blockScrolling","keyboardHandler","maxLines","minLines","showPrintMargin","SignatureMetaData","submitMetaData","k","v","optionsType","onOptionsChange","optionsValue","AutoCompleteInput","HandleAdd","HandleInputChange","OnChange","Autocomplete_default","getItemValue","renderItem","isHighlighted","menuStyle","borderRadius","boxShadow","inputProps","wrapperProps","EntityCreateModal","HasSpacesCheck","multiword","GetCount","countLoading","Confirmation","confirmation","Submit","ToggleCreateEntity","responseJSON","error_msg","OnChangeMatch","OnChangeValue","userdef","autocomplete_input","CustomMetaDataTable","nextState","multiSelectArr","dropdownArr","datesArr","inputArr","textAreaArr","inputMultiArr","booleanArr","formType","o","custom_metadata_table_DropdownComponent","referenceKey","dropdownValues","help","fetchURL","dynamic","custom_metadata_table_InputComponent","onBlur","calendarValue","custom_metadata_table_Calendar","typeTitle","typeLower","custom_metadata_table_TextAreaComponent","custom_metadata_table_InputMultiComponent","mainType","mainId","custom_metadata_table_BooleanComponent","custom_metadata_table_MultiSelectComponent","DropdownComponent","getDynamic","selected","bsClass","InputComponent","inputOnChange","Calendar","data_string","_d","showCalendar","DateTime_default","TextAreaComponent","InputMultiComponent","group","groupArr","inputValue","InputChange","clickedThing","bsType","BooleanComponent","MultiSelectComponent","makeForm","FormControl","componentClass","multiple","AddEntryToAlert","esm_extends","_useState","useState","_useState2","visible","setVisibility","showEntryData","addFlair","SelectedEntry","getEntryData","updatedCB","Watcher","getEntityData","_this$props2","entityResult","showEntityData","waitForEntry","waitEntry","flairToolbar","newEntityDetailKey","entityDetailKey","linkWarningToolbar","containerid","intervalID","not","tr","parentNode","ListViewTableHeight","getElementsByClassName","clientHeight","divid","divClass","custom_metadata_table_CustomMetaDataTable","signature_table_SignatureTable","selected_entry_EntryIterator","subcomponent","setAlertColumns","fileUploadToolbar","file_upload_FileUpload","entity_detail_EntityDetail","link_warning_LinkWarning","notificationType","notificationMessage","onresize","runWatcher","EntryIterator","linkToSearch","data_with_flair","flairOff","search","ahrefs","selected_entry_EntryParent","selected_entry_NewAlertTable","NewAlertTable","createData","dataarray","dataitem","promotionId","expanded","handleSelectAll","prevState","_this$state","_this$props3","es","styleName","reactTable","onExpandedChange","defaultFilterMethod","SubComponent","alert_subcomponent","onFilteredChange","onSortedChange","newSorted","shiftKey","showPagination","pageSize","getTrProps","sortedData","handleMultiSelection","getSelection","removeAllRanges","handleShiftSelect","handleSelection","some","selected_entry_AlertTableSearchDiv","AlertTableSearchDiv","outline","EntryParent","refreshButton","editEntryToggle","editEntryToolbar","replyEntryToggle","replyEntryToolbar","deleteToolbar","permissionsToolbar","itemarr","subitemarr","itemsClass","outerClassName","innerClassName","taskOwner","selected_entry_EntryData","subitem","childobj","childfunc","entryActions","actions","send_to_name","send_to_url","selected_entry_EntryAction","datahref","tlpBorder","tlpColorCSS","header1","header2","createdTime","entryHeaderInnerId","showEntityCreateModal","entity_create","highlightedText","body_flair","permission_SelectedPermission","SplitButton_default","pullRight","summary_Summary","task_Task","header3","delete_DeleteEntry","checkHighlight","iframe","toString","EntryAction","_this7$state","_x3","_x4","_post_data","post_data","_this$setState","data-href","EntryData","setHeight","rawMarkup","entry_body_id","entry_body_inner_id","contentDidMount","Badge","toggleBadgeEntry","badgetype","source","badgevar","badgeType","badge_BadgeDataIterator","badge_NewBadge","BadgeDataIterator","badgeDelete","newBadgeArr","newobject","NewBadge","handleSuggestionOrTagConversion","oldarray","newobj","components_ReactTags","abbreviateNumber","num","fixed","toPrecision","toFixed","abs","AddFlair","entityUpdate","scrollTo","currentEntityValue","entityMatched","toLowerCase","entityCount","entitydata","entityEntryCount","entry","circle","geoip","isocode","country_code","isp","sidd","blocklist","firewall","watch","whitelist","blackhole","proxy_block","entityEntry","subtable","Links","allSelected","getLinks","handleTHeadCheckboxSelection","handleRowSelection","handleCheckboxSelection","cell","sortable","defaultPageSize","getTdProps","getTheadThProps","minRows","noDataText","links_Actions","verticeObject","linkid","vertices","memo","checkAllSelected","instance","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","pageRows","pageRow","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","Actions","actionSuccess","RemoveLink","RemoveLinkAjax","ToggleActionSuccess","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","newActionSuccess","Mark","currentItem","unshift","mark_Actions","deleteCallback","RemoveSelected","pendingDelete","LinkContextChange","linkContextString","ExpandLinkToggle","newState","linkPanel","StartDelete","MoveEntry","EntryAjax","CopyEntry","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","arrayToLink","currentobj","LinkAjax","Reparse","reparseButton","ReparseAjax","promoteButton","PromoteAjax","reload","removeOriginal","RemoveEntryAfterMove","numSelected","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","addToEvent","deleteThings","collapsible","Form","horizontal","delete_DeleteModal","InitialAjaxLoad","datasource","listStartY","listStartHeight","listQuery","ExportModal","emailArray","emailField","showEditor","responseSuccess","aria-describedby","export_event_PostResponse","PostResponse","PromotedData","showAllPromotedDataToolbar","showAllPromotedDataToggle","promotedFromType","fullarr","shortarr","shortforlength","SelectedHeader","delayFunction","entryType","eventResult","showEventData","isNotFound","tagData","sourceData","flairing","_type","_message","refreshing","eventLoaded","entryLoaded","entityLoaded","exportModal","viewedbyfunc","viewedbyarr","isDeleted","changeHistoryToolbar","viewedByHistoryToolbar","entitiesToolbar","promoteToggle","promoteToolbar","intervalID1","nicktype","summaryUpdate","taskid","escape","handleFilter","showMarkModal","processing","togglePreventClick","showLinksModal","checkSelection","temparray","selection","startIndex","endIndex","rowid","viewedby","selected_header_EntryDataSubject","owner_Owner","selected_header_EntryDataUpdated","promoted_from","promoted_data","badge_Badge","NotificationSystem_default","export_event_ExportModal","viewed_by_history_ViewedByHistory","change_history_ChangeHistory","entities_Entities","mark_Mark","links_Links","selected_header_options_SelectedHeaderOptions","alertPreSelectedId","EntryDataUpdated","EntryDataSubject","handleChange","keyName","newValue","calculateWidth","newWidth","isDisabled","SelectedContainer","datarows","selected_header_SelectedHeader","toggleEventDisplay","viewEvent","tabIndex","ListView","viewMode","Landscape","Portrait","ConvertAlertIdToAlertgroupId","ConvertEntryIdToType","scrollheight","sortBy","filterBy","pageLimit","activepage","pageNumber","page","idsarray","finalarray","storeKey","reloadactive","sortObj","sortInt","desc","stringArr","sourcearr","tagarr","totalPages","getPages","totalRecordCount","objectarray","totalCount","showSelectedContainer","statusText","keyNavigate","toggleView","preventClick","targetType","srcElement","tagName","curRow","nextRow","parentElement","nextElementSibling","previousElementSibling","nextId","getNewData","showClearFilter","listViewContainerDisplay","typeCapitalized","listViewKey","notificationSetting","notificationToggle","createNewThing","exportCSV","clearAll","pages","onPageChange","handlePageChange","onPageSizeChange","handlePageSizeChange","filtered","handleSort","sorted","manual","LoadingComponent","CustomTableLoader","dragdiv","selected_container_SelectedContainer","queryType","AutoScrollToId","tbody","offsetHeight","offsetTop","initialAutoScrollToId","idReference","id2","response1","newresponse","async","startdrag","manualScrollHeight","stopdrag","onmousemove","onmouseup","onmousedown","splitter","alldetail","maxheight","resize","differentviews","maxwidth","minwidth","scrollwidth","sizearray","listViewOrientation","classname","newListViewKey","subid","newPage","newidsarray","newarray","abort","csv","storearray","data_uri","sortArr","clearall","newSortArr","sortEach","cookieName","filterObj","newFilterArr","filterEach","pageIndex","ceil","listViewSort","listViewPage","listViewFilter","selectedColor","sourcetags","startepoch","endepoch","idtext","statustext","subjecttext","viewsarrow","idarrow","subjectarrow","statusarrow","createdarrow","sourcearrow","tagsarrow","viewstext","entriestext","suggestiontags","suggestionssource","sourcetext","tagstext","viewfilter","viewevent","showevent","fsearch","textField","root","palette","paper","textInput","initstate","fullname","password","UserGroupFormComponent","formatGroups","allgroups","resetState","checkBlankInputs","buildDataObj","handleGroups","newgroups","handlePOST","nativeEvent","newval","editObject","_this$props4","selectedValue","TextField_default","helperText","InputLabelProps","shrink","autoComplete","FormControlLabel_default","control","Switch_default","GroupSelection","CardActions_default","button","GroupSelectionComponent","mapUsersGroupsToTags","usersgroups","checkValidGroup","el","tagInput","tagInputField","inline","UserGroupForm","AreYouSure","deletetext","UserGroupContainer","showModal","showUserDialog","showGroupDialog","handleUserClose","handleListItemClick","getColumns","handleActiveToggle","toggleAreYouSure","DeleteRounded_default","setUserGroupResults","userdata","groupdata","areYouSure","handleAreYouSureClose","getUserObject","updateId","other","showuserpagination","showgrouppagination","Paper_default","elevation","Grid_default","xs","gutterBottom","index_es","flexDirection","Fab_default","areyousure","mixins","gutters","paddingBottom","Api","_React$Component","GetKeys","GetAvailableGroups","CreateKey","DeleteKey","GroupChange","ToggleActiveStatus","availableGroups","newGroup","keysArr","keyActiveStatus","keyGroups","apikey","api_GroupModal","currentGroups","allGroups","keyActiveStatusCss","Panel_default","GroupModal","Open","DeleteGroup","newGroups","textContent","currentGroupArray","currentGroupArrayEdit","Modal_default","Undelete","_Component","getDeletedItems","dataArr","undelete_Actions","Restore","Purge","notificationSystem","addNotification","autoDismiss","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","TabContainer","createMuiTheme","typography","Admin","core_styles","AppBar_default","appBar","core_Tabs_default","indicatorColor","centered","core_Tab_default","usergroupcontainer","api_Api","undelete_Undelete","Amq","s4","get_guid","register_client","restart","client","clientId","destination","process_message","handle_update","create_callback_object","intkey","checkNumber","cb_map","newset","remove_callback_object","payload","activemqaction","activemqguid","guid","activemqhostname","hostname","activemqpid","execute_callback_function","searchstring","f","noti","amqdebug","Map","number","App","viewModeSetting","listViewFilterSetting","listViewSortSetting","listViewPageSetting","handler","AMQ","ee","eedraw","prepend","eeremove","eestring","path","isExact","stateProps","errorString","loggedin","login","pathname","LogOut","sensitivity","IH","userConfig_UserConfigProvider","Navbar_default","inverse","fixedTop","Brand","Toggle","Collapse","Nav_default","LinkContainer_default","NavItem_default","NavDropdown_default","esearch_Search","Route","exact","home","admin","list_view_ListView","isTask","report_ReportPage","report_SingleReport","wall_Wall","Boolean","customHistory","createBrowserHistory","HashRouter","build","es_Switch"],"mappings":"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","file":"static/js/main.16aea81c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/scot_logo_473x473.981c5c79.png\";","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { getDisplayName } from \"recompose\";\nimport { Broadcast, Subscriber } from \"react-broadcast\";\nimport * as LocalStorage from \"../components/local_storage\";\n\n/**\n * This file defines everything needed to use user settings\n * in components.\n *\n * This uses React's context API so that we don't need to have\n * a giant prop chain\n *\n * The provider sets everything up and is included at the top\n * of the application.\n *\n * The HOC is included with every component that wants access\n * to the object\n *\n * userConfig data format:\n * {\n *\t\tkey1: { data },\n *\t\tkey2: [ data, data, data, ],\n *\t\tkey3: true,\n *\t\t...\n * }\n * where keys and data structures are defined in the UserConfigKeys\n * object\n *\n * Currently components may only access one key of userConfig.\n *\n * WARNING: The context API is likely to change in the future\n * and this will need to be updated. Hopefully though, only\n * this file will need to be updated as nothing else directly\n * accesses context\n */\n\n// Channel name for react-broadcast\nconst UserConfigChannel = \"userConfig\";\n\nconst UserConfigKeyShape = {\n  key: PropTypes.string.isRequired,\n  default: PropTypes.any.isRequired\n};\n\n/**\n * Unique keys for the structure of userConfig\n *\n * Structure:\n *\t\tKEY_ID: {\n *\t\t\tkey: KEY_VALUE,\n *\t\t\tdefault: DEFAULT_VALUE(S),\n *\t\t}\n *\n *\tThis is how to specify the top-level key into the userConfig object\n *\tand define the shape of the data as well as the default values\n */\nexport const UserConfigKeys = {\n  DASHBOARD: {\n    key: \"dashboard\",\n    default: {\n      curTab: 0,\n      tabs: []\n    }\n  }\n};\n\nconst UserConfigContextTypes = {\n  getUserConfig: PropTypes.func,\n  setUserConfig: PropTypes.func\n};\n\n/**\n * This sets up the context provider for the userConfig object\n *\n * Only needs to be included once, somewhere at the top of the chain\n * Currently in main/index.js\n */\nexport class UserConfigProvider extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userConfig: {\n        loading: true\n      }\n    };\n\n    this.update = this.update.bind(this);\n    this.setUserConfig = this.setUserConfig.bind(this);\n  }\n\n  static childContextTypes = UserConfigContextTypes;\n\n  getChildContext() {\n    return {\n      getUserConfig: this.getUserConfig,\n      setUserConfig: this.setUserConfig\n    };\n  }\n\n  /**\n   * Load user config\n   *\n   * Return: Promise\n   */\n  getUserConfig() {\n    // Currently just uses localstorage\n    // This should be easy to change to use a backend at some point\n    return new Promise((resolve, reject) => {\n      let json = LocalStorage.getLocalStorage(UserConfigChannel);\n      if (json) {\n        resolve(JSON.parse(json));\n        return;\n      }\n\n      resolve({});\n    });\n  }\n\n  /**\n   * Save user config\n   *\n   * Return: Promise\n   */\n  setUserConfig(config) {\n    // Currently just uses localstorage\n    // This should be easy to change to use a backend at some point\n    return new Promise((resolve, reject) => {\n      LocalStorage.setLocalStorage(UserConfigChannel, JSON.stringify(config));\n\n      resolve();\n    }).then(() => {\n      this.update();\n    });\n  }\n\n  update() {\n    this.getUserConfig().then(config => {\n      this.setState({\n        userConfig: config\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.update();\n  }\n\n  render() {\n    return (\n      <Broadcast value={this.state.userConfig} channel={UserConfigChannel}>\n        <div>{this.props.children}</div>\n      </Broadcast>\n    );\n  }\n}\n\n/*\n * Defining shape for UserConfig props.\n *\n * This should be imported by wrapped components:\n * static propTypes = {\n *\t\t( all local propTypes ),\n *\t\t...UserConfigPropTypes,\n * };\n *\n * Children:\n *\t\tconfig: the actual data,\n *\t\tsetUserConfig( config ): save changes to config\n *\t\tgetUserConfig(): load the config from source again\n *\t\tloading: whether the config is currently loading\n */\nexport const UserConfigPropTypes = {\n  userConfig: PropTypes.shape({\n    config: PropTypes.any.isRequired,\n    setUserConfig: PropTypes.func.isRequired,\n    getUserConfig: PropTypes.func.isRequired,\n    loading: PropTypes.bool\n  }).isRequired\n};\n\n/**\n * Higher-order Component (HOC) for providing a subkey of userConfig\n * to a component\n *\n * Usage: (In component file)\n *\t\texport default withUserConfig( KEY ) (COMPONENT);\n * Where:\n *\t\tKEY: is one of the values above in UserConfigKeys\n *\t\tCOMPONENT: is the component needing access to userConfig\n *\n * Example:\n *\t\texport default withUserConfig( UserConfigKeys.DASHBOARD ) (HomeDashboard);\n *\n *\t\tThis gives HomeDashboard access to the dashboard portion of userConfig\n */\nexport const withUserConfig = configKey => {\n  PropTypes.checkPropTypes(\n    UserConfigKeyShape,\n    configKey,\n    \"argument\",\n    \"withUserConfig\"\n  );\n\n  return WrappedComponent => {\n    class UserConfigSubscriber extends PureComponent {\n      constructor(props) {\n        super(props);\n\n        this.state = {};\n\n        this.setUserSubConfig = this.setUserSubConfig.bind(this);\n      }\n\n      static contextTypes = UserConfigContextTypes;\n      static displayName = `withUserConfig(${getDisplayName(\n        WrappedComponent\n      )})`;\n      static propTypes = {\n        userConfig: PropTypes.object.isRequired\n      };\n\n      /**\n       * This allows the wrapped component to only have to worry about its own\n       * portion of userConfig. Its changes are automatically wrapped back into\n       * the whole object\n       */\n      setUserSubConfig(subConfig) {\n        let newConfig = {\n          ...this.props.userConfig\n        };\n        newConfig[configKey.key] = subConfig;\n\n        this.context.setUserConfig(newConfig);\n      }\n\n      render() {\n        let { userConfig, ...restProps } = this.props;\n\n        let data = userConfig[configKey.key] || configKey.default;\n        const loading = userConfig.loading;\n\n        const userConfigProps = {\n          userConfig: {\n            loading: loading === true,\n            config: data,\n            setUserConfig: this.setUserSubConfig,\n            getUserConfig: this.context.getUserConfig\n          }\n        };\n\n        return <WrappedComponent {...restProps} {...userConfigProps} />;\n      }\n    }\n\n    const UserConfigHelper = props => (\n      <Subscriber channel={UserConfigChannel}>\n        {data => <UserConfigSubscriber userConfig={data} {...props} />}\n      </Subscriber>\n    );\n    return UserConfigHelper;\n  };\n};\n","export const setLocalStorage = ( name, value ) =>{\n    localStorage.setItem( name, value );\n};\n\nexport const removeLocalStorage = ( name ) => {\n    localStorage.removeItem( name );\n};\n\nexport const getLocalStorage = ( name ) => {\n    return localStorage[ name ];\n};\n","import React from 'react';\n\nimport { Panel, Button } from 'react-bootstrap';\n\nconst PanelHeader = ( title, onRemove ) => (\n\t<div style={{ position: 'relative' }}>\n\t\t{title}\n\t\t<span className=\"panel-button right\">\n\t\t\t<Button onClick={onRemove} bsSize=\"small\"><i className=\"fa fa-close\" /></Button>\n\t\t</span>\n\t</div>\n)\n\nconst Wrapper = ( { children, onRemove, editable, title } ) => (\n\t<div className={`widget ${editable && \"editable\"}`}>\n\t\t{ !editable && children }\n\t\t{ editable &&\n\t\t\t<Panel header={PanelHeader( title, onRemove )}>\n\t\t\t\t{React.cloneElement(children, { editMode: editable })}\n\t\t\t</Panel>\n\t\t}\n\t</div>\n)\n\nexport default Wrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst WidgetPicker = ( { widgets, layout, isOpen, onClose, onSelect } ) => {\n\tlet activeWidgets = new Set();\n\tlayout.rows.forEach( row => {\n\t\trow.columns.forEach( col => {\n\t\t\tcol.widgets.forEach( widget => {\n\t\t\t\tactiveWidgets.add( widget.key );\n\t\t\t} );\n\t\t} );\n\t} );\n\n\tlet widgetItems = Object.keys(widgets)\n\t\t.filter( widget => !activeWidgets.has( widget ) )\n\t\t.map( ( widget, key ) => {\n\t\t\tconst widgetObj = widgets[widget];\n\t\t\treturn (\n\t\t\t\t<div key={key} className=\"picker-item\" onClick={() => {onSelect(widget);}}>\n\t\t\t\t\t<h3>{widgetObj.title}</h3>\n\t\t\t\t\t<p>{widgetObj.description}</p>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} );\n\n\tif ( !widgetItems.length ) {\n\t\twidgetItems = <h2>No available widgets</h2>;\n\t}\n\n\treturn (\n\t\t<Modal show={isOpen} onHide={onClose} className=\"WidgetPicker\">\n\t\t\t<Modal.Header closeButton>\n\t\t\t\t<Modal.Title>Pick a Widget</Modal.Title>\n\t\t\t</Modal.Header>\n\n\t\t\t<Modal.Body className=\"picker-grid\">{widgetItems}</Modal.Body>\n\n\t\t\t<Modal.Footer>\n\t\t\t\t<Button onClick={onClose}>Cancel</Button>\n\t\t\t</Modal.Footer>\n\t\t</Modal>\n\t)\n}\nWidgetPicker.propTypes = {\n\twidgets: PropTypes.object.isRequired,\n\tlayout: PropTypes.object.isRequired,\n\tisOpen: PropTypes.bool.isRequired,\n\tonClose: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func.isRequired,\n};\n\nexport default WidgetPicker;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dazzle, { addWidget } from \"react-dazzle\";\nimport { Grid, Button } from \"react-bootstrap\";\nimport WidgetWrapper from \"./widgetWrapper\";\nimport WidgetPicker from \"./widgetPicker\";\n\nexport const defaultLayout = {\n  rows: [\n    {\n      columns: [\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        },\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        },\n        {\n          className: \"col-sm-4\",\n          widgets: []\n        }\n      ]\n    }\n  ]\n};\n\nexport default class Dashboard extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      editable: props.saveDashboard != null,\n      editMode: props.isNew,\n      layout: props.layout,\n      title: props.title,\n      widgetPicker: false,\n      newWidgetOptions: {}\n    };\n\n    this.onAdd = this.onAdd.bind(this);\n    this.updateLayout = this.updateLayout.bind(this);\n    this.updateTitle = this.updateTitle.bind(this);\n    this.reset = this.reset.bind(this);\n    this.saveDashboard = this.saveDashboard.bind(this);\n    this.toggleEdit = this.toggleEdit.bind(this);\n    this.togglePicker = this.togglePicker.bind(this);\n    this.selectWidget = this.selectWidget.bind(this);\n  }\n\n  static propTypes = {\n    widgets: PropTypes.object.isRequired,\n    title: PropTypes.string,\n    saveDashboard: PropTypes.func,\n    layout: PropTypes.object,\n    isNew: PropTypes.bool,\n    errorToggle: PropTypes.func\n  };\n\n  static defaultProps = {\n    title: \"\",\n    layout: defaultLayout,\n    isNew: false\n  };\n\n  onAdd(layout, rowIndex, columnIndex) {\n    this.setState({\n      widgetPicker: true,\n      newWidgetOptions: {\n        row: rowIndex,\n        col: columnIndex\n      }\n    });\n  }\n\n  updateLayout(layout) {\n    this.setState({\n      layout: layout\n    });\n  }\n\n  updateTitle(title) {\n    this.setState({\n      title: title.target.value\n    });\n  }\n\n  toggleEdit() {\n    this.setState({\n      editMode: !this.state.editMode\n    });\n  }\n\n  saveDashboard() {\n    // Handle upstream save\n    if (!this.state.title) {\n      this.props.errorToggle(\"Please enter a dashboard title\");\n      return;\n    }\n\n    this.props.saveDashboard(this.state.title, this.state.layout);\n    this.toggleEdit();\n  }\n\n  reset() {\n    this.setState({\n      layout: this.props.layout,\n      title: this.props.title,\n      editMode: false,\n      widgetPicker: false,\n      newWidgetOptions: {}\n    });\n  }\n\n  togglePicker() {\n    this.setState({\n      widgetPicker: !this.state.widgetPicker\n    });\n  }\n\n  selectWidget(widget) {\n    let { row, col } = this.state.newWidgetOptions;\n    this.updateLayout(addWidget(this.state.layout, row, col, widget));\n    this.togglePicker();\n  }\n\n  render() {\n    return (\n      <div className=\"dashboard\">\n        <WidgetPicker\n          widgets={this.props.widgets}\n          layout={this.state.layout}\n          isOpen={this.state.widgetPicker}\n          onClose={this.togglePicker}\n          onSelect={this.selectWidget}\n        />\n        <TitleBar\n          title={this.state.title}\n          editable={this.state.editable}\n          editMode={this.state.editMode}\n          onEdit={this.toggleEdit}\n          onSave={this.saveDashboard}\n          onCancel={this.reset}\n          handleTitleChange={this.updateTitle}\n          isNew={this.props.isNew}\n        />\n        <Grid fluid>\n          <Dazzle\n            onRemove={this.updateLayout}\n            onMove={this.updateLayout}\n            onAdd={this.onAdd}\n            editable={this.state.editMode}\n            layout={this.state.layout}\n            widgets={this.props.widgets}\n            frameComponent={WidgetWrapper}\n          />\n        </Grid>\n      </div>\n    );\n  }\n}\n\nconst TitleBar = ({\n  title,\n  editMode,\n  onEdit,\n  onSave,\n  onCancel,\n  handleTitleChange,\n  isNew,\n  editable\n}) => {\n  if (!editable) {\n    return null;\n  }\n  return (\n    <div className=\"titleBar clearfix\">\n      {editMode && (\n        <form onSubmit={onSave}>\n          <input\n            type=\"text\"\n            className=\"title\"\n            value={title}\n            placeholder=\"Dashboard Title\"\n            onChange={handleTitleChange}\n          />\n          <Button bsStyle=\"primary\" bsSize=\"small\" onClick={onSave}>\n            Save\n          </Button>\n          <Button\n            bsStyle=\"warning\"\n            bsSize=\"small\"\n            disabled={isNew}\n            onClick={onCancel}\n          >\n            Cancel\n          </Button>\n        </form>\n      )}\n      {!editMode && (\n        <div className=\"edit\">\n          <Button bsSize=\"xsmall\" onClick={onEdit}>\n            <i className=\"fa fa-edit\" />\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\nTitleBar.propTypes = {\n  title: PropTypes.string.isRequired,\n  editMode: PropTypes.bool.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  handleTitleChange: PropTypes.func.isRequired,\n  editable: PropTypes.bool.isRequired\n};\n","import React, { PureComponent } from \"react\";\nimport { Panel } from \"react-bootstrap\";\nimport $ from \"jquery\";\n\nclass Status extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      statusData: {},\n      error: null\n    };\n\n    this.updateData = this.updateData.bind(this);\n    this.fetchError = this.fetchError.bind(this);\n  }\n\n  componentDidMount() {\n    /*\n\t\t * Expected structure:\n\t\t * [\n\t\t *\t\t{ name: \"SERVICE\", status: \"STATUS\" },\n\t\t *\t\t...\n\t\t * ]\n\t\t *\n\t\t * Service: name of service\n\t\t * Status: [ \"ok\", \"error\", \"warn\", \"unknown\" ]\n\t\t */\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/status\",\n      success: this.updateData,\n      error: this.fetchError\n    });\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  updateData(response) {\n    if (this._isMounted) {\n      this.setState({\n        statusData: response\n      });\n    }\n  }\n\n  fetchError(error) {\n    if (this._isMounted) {\n      this.setState({\n        error: error\n      });\n    }\n  }\n\n  render() {\n    let { className = \"\" } = this.props;\n    let services = [];\n    if (Array.isArray(this.state.statusData)) {\n      for (let service of this.state.statusData) {\n        let { name, status } = service;\n        if (!status) {\n          status = \"unknown\";\n        }\n\n        services.push(<Service key={name} name={name} status={status} />);\n      }\n    }\n\n    let classes = [\"Status\", className];\n    if (services.length > 4) {\n      classes.push(\"cols-2\");\n    }\n\n    return (\n      <div className={classes.join(\" \")}>\n        {this.state.error && (\n          <Panel bsStyle=\"danger\" header=\"Error\">\n            {this.state.error}\n          </Panel>\n        )}\n        {services}\n      </div>\n    );\n  }\n}\n\nconst Service = ({ name, status }) => (\n  <div className={`service status-${status}`} title={`Status: ${status}`}>\n    {name}\n  </div>\n);\n\nexport default Status;\n","import React from 'react';\nconst Emoji = props => (\n  <span\n    className=\"emoji\"\n    role=\"img\"\n    aria-label={props.label ? props.label : \"\"}\n    aria-hidden={props.label ? \"false\" : \"true\"}\n  >\n    {props.symbol}\n  </span>\n);\nexport default Emoji;","import React, { PureComponent } from \"react\";\nimport { Well, Panel, Badge } from \"react-bootstrap\";\nimport Emoji from './emoji'\nimport $ from \"jquery\";\nconst titleCase = str => str.charAt(0).toUpperCase() + str.slice(1);\nconst CATEGORY_INTERVAL = 5000;\n\nclass Gamification extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameData: [],\n      gameCategories: [],\n      categoryIndex: 0,\n      error: null\n    };\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/game\",\n      success: this.updateData,\n      error: this.fetchError\n    });\n    this.categoryInterval = setInterval(this.updateCategory, CATEGORY_INTERVAL);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n    if (this.categoryInterval) {\n      clearInterval(this.categoryInterval);\n    }\n    this._isMounted = false;\n  }\n\n  updateCategory = () => {\n    let nextIndex =\n      (this.state.categoryIndex + 1) % this.state.gameCategories.length;\n    if (this._isMounted) {\n      this.setState({\n        categoryIndex: nextIndex\n      });\n    }\n  }\n\n  updateData = (data) => {\n    let categories = [];\n    for (let category in data) {\n      if (category !== null) {\n        console.log(`${titleCase(category)}`);\n        categories.push(<Category category={category} data={data[category]} />);\n      }\n    }\n    if (this._isMounted) {\n      this.setState({ gameData: data, gameCategories: categories });\n    }\n  }\n\n  fetchError = (error) => {\n    if (this._isMounted) {\n      this.setState({ error: error });\n    }\n  }\n\n  render() {\n    return (\n      <Well className=\"Gamification\">\n        <h3>Leaders</h3>\n        {this.state.error && (\n          <Panel bsStyle=\"danger\" header=\"Error\">\n            {this.state.error}\n          </Panel>\n        )}\n        {this.state.gameCategories[this.state.categoryIndex]}\n      </Well>\n    );\n  }\n}\n\nconst Category = ({ category, data }) => (\n  <Panel\n    className=\"category\"\n  >\n    <Panel.Title><b>{`${titleCase(category)} - ${data[0].tooltip}`}</b></Panel.Title>\n    <Panel.Body>\n      <div>\n        {data[0].username !== \"\" && data[0].username !== null && data[0].count != null && data[0].count !== \"\" ?\n          <div>\n            <Emoji symbol=\"🥇\" /> {data[0].username} <Badge>{data[0].count}</Badge>\n          </div> : null\n        }\n        {data[1].username !== \"\" && data[1].username != null && data[1].count != null && data[1].count !== \"\" ?\n          <div>\n            <Emoji symbol=\"🥈\" /> {data[1].username} <Badge>{data[1].count}</Badge>\n          </div> : null\n        }\n        {data[2].username !== \"\" && data[2].username != null && data[2].count != null && data[2].count !== \"\" ?\n          <div>\n            <Emoji symbol=\"🥉\" /> {data[2].username} <Badge>{data[2].count}</Badge>\n          </div> : null\n        }\n      </div>\n    </Panel.Body>\n  </Panel>\n);\n\nexport default Gamification;\n","export const setLocalStorage = ( name, value ) => {\n    localStorage.setItem( name, value );\n};\n\nexport const removeLocalStorage = ( name ) =>{\n    localStorage.removeItem( name );\n};\n\nexport const getLocalStorage = ( name ) => {\n    return localStorage[ name ];\n};\n\nexport const setSessionStorage = ( name, value ) => {\n    localStorage.setItem( name, value );\n};\n\nexport const removeSessionStorage = ( name ) => {\n    localStorage.removeItem( name );\n};\n\nexport const getSessionStorage = ( name ) => {\n    return localStorage[ name ];\n};","import Moment from 'moment';\nimport { extendMoment } from 'moment-range';\nconst moment = extendMoment( Moment );\n\nconst DAY = 24 * 60 * 60 * 1000;\n\n/**\n * Calculate if a timestamp is older than a number of seconds\n *\n * timestamp: Date() object to test against\n * secondsAgo: Number of seconds to test against\n */\nexport const timeOlderThan = ( timestamp, secondsAgo ) => {\n    if ( !timestamp ) {\n        return true;\n    }\n\n    return Date.now() - timestamp > ( secondsAgo * 1000 );\n};\n\n/**\n * Calculate if a timestamp is in the past and therefore data is expired\n *\n * expires: time data expires\n */\nexport const isExpired = ( expires ) => {\n    return !expires || Date.now() >= expires;\n};\n\n/**\n * Return an Epoch Range from beginning of yesterday till end of tomorrow\n */\nexport const todayRange = () => {\n\treturn {\n\t\tstart: Math.floor( (new Date(Date.now() - DAY)).setHours(0, 0, 0, 0) / 1000 ),\n\t\tend: Math.floor( (new Date(Date.now() + DAY)).setHours(23, 59, 59, 999) / 1000 ),\n\t}\n}\n\n/**\n * Return an Epoch Range for the last week\n */\nexport const lastWeekRange = () => {\n\treturn {\n\t\tstart: Math.floor( (new Date(Date.now() - DAY * 7)).setHours(0, 0, 0, 0) / 1000 ),\n\t\tend: Math.floor( (new Date(Date.now() + DAY)).setHours(23, 59, 59, 999) / 1000 ),\n\t}\n}\n\n/**\n * Convert an epoch to seconds ago\n *\n * epoch: epoch to convert\n */\nexport const epochToTimeago = ( epoch ) => {\n\treturn ( Date.now() - epoch * 1000 ) / 1000;\n}\n\n/**\n * Convert seconds ago to epoch\n *\n * timeago: seconds ago to convert\n */\nexport const timeagoToEpoch = ( timeago ) => {\n\treturn ( Date.now() - timeago * 1000 ) / 1000;\n}\n\n/**\n * Epoch Range to filter array\n *\n * range: epoch range\n */\nexport const epochRangeToFilter = ( range ) => {\n\treturn [\n\t\trange.start,\n\t\trange.end,\n\t];\n}\n\n/**\n * Conversion Functions for DateRangeFilter\n *\n * epochRangeToString: stringify an epoch range\n * epochRangeToMoment: convert epoch range into MomentRange object\n * momentRangeToEpoch: convert MomentRange object to epoch range\n *\n * epoch range: { start: _epoch_, end: _epoch_ }\n */\nexport const epochRangeToString = range => {\n    return range.start +', '+ range.end;\n};\n\nexport const epochRangeToMoment = range => {\n    return moment.range( range.start * 1000, range.end * 1000 );\n};\n\nexport const momentRangeToEpoch = range => {\n    return {\n        start: Math.round( range.start ) / 1000,\n        end: Math.round( range.end ) / 1000,\n    };\n};\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../../utils/session_storage\";\nimport { Well, Label, Badge } from \"react-bootstrap\";\nimport timeSince from \"../../utils/timesince\";\nimport {\n    timeOlderThan,\n    epochToTimeago,\n    timeagoToEpoch\n} from \"../../utils/time\";\n\nconst REFRESH_RATE = 30 * 1000; // 30 seconds\n\n// Bootstrap styles for different notification types\nconst NOTIFICATION_LEVEL = {\n    wall: \"warning\",\n    create: \"info\",\n    delete: \"danger\"\n};\n\n// Types of notifications we're interested in\n// (used to hide normal notifications of these types)\nexport const NOTIFICATION_TYPES = [\"create\", \"delete\"];\n\n// Time notifications will stay in activity bar\nconst NOTIFICATION_TIME = {\n    create: 120,\n    delete: 60,\n    wall: 60 * 60 // 1 hour\n};\nconst ACTIVITY_TYPE = {\n    USER: 0,\n    NOTIFICATION: 1\n};\n\n// localstorage key for persisting wall messages\nconst WALL_KEY = \"walls\";\n\nclass Activity extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            users: [],\n            notifications: this.loadWall()\n        };\n\n        this.updateActivity = this.updateActivity.bind(this);\n        this.updateUsers = this.updateUsers.bind(this);\n        this.wallMessage = this.wallMessage.bind(this);\n        this.notification = this.notification.bind(this);\n        this.fetchError = this.fetchError.bind(this);\n    }\n\n    static propTypes = {};\n\n    componentDidMount() {\n        this.refreshTimer = setInterval(this.updateActivity, REFRESH_RATE);\n        this.updateActivity();\n        this.props.createCallback(\"wall\", this.wallMessage);\n    }\n\n    componentWillUnmount() {\n        if (this.refreshTimer) {\n            clearInterval(this.refreshTimer);\n        }\n    }\n\n    updateActivity() {\n        this.updateUsers();\n\n        // Clean out notifications\n        let pruned = this.state.notifications.filter(notification => {\n            return !timeOlderThan(\n                notification.time * 1000,\n                NOTIFICATION_TIME[notification.action]\n            );\n        });\n\n        this.setState(\n            {\n                notifications: pruned\n            },\n            this.persistWall\n        );\n    }\n\n    updateUsers() {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/who\",\n            success: data => {\n                this.setState({\n                    users: data.records.map(user => {\n                        return {\n                            type: ACTIVITY_TYPE.USER,\n                            who: user.username,\n                            time: timeagoToEpoch(user.last_activity)\n                        };\n                    })\n                });\n            },\n            error: this.fetchError\n        });\n    }\n\n    persistWall() {\n        let walls = this.state.notifications.filter(notification => {\n            return notification.action === \"wall\";\n        });\n\n        SessionStorage.setLocalStorage(WALL_KEY, JSON.stringify(walls));\n    }\n\n    loadWall() {\n        let json = SessionStorage.getLocalStorage(WALL_KEY);\n        if (json) {\n            return JSON.parse(json);\n        }\n        return [];\n    }\n\n    wallMessage(message) {\n        let notifications = this.state.notifications;\n        notifications.push({\n            type: ACTIVITY_TYPE.NOTIFICATION,\n            time: message.activemqwhen,\n            who: message.activemqwho,\n            message: message.activemqmessage,\n            level: NOTIFICATION_LEVEL.wall,\n            action: \"wall\"\n        });\n\n        this.setState(\n            {\n                notifications: notifications\n            },\n            this.persistWall\n        );\n    }\n\n    notification(message) {\n        const ignoredUsers = [\"scot-flair\", \"scot-alerts\", \"scot-admin\", \"\", \"api\"];\n        const interestedEvents = [\"create\", \"delete\"];\n\n        // Ignore some notifications\n        if (ignoredUsers.includes(message.activemqwho)) return;\n        if (message.activemqwall === true) return;\n        if (message.activemqtype === \"entity\") return;\n        if (!interestedEvents.includes(message.activemqstate)) return;\n\n        let notifications = this.state.notifications;\n        notifications.push({\n            type: ACTIVITY_TYPE.NOTIFICATION,\n            time: Date.now() / 1000,\n            who: message.activemqwho,\n            message: message.activemqmessage + message.activemqid,\n            level: NOTIFICATION_LEVEL[message.activemqstate],\n            action: message.activemqstate\n        });\n\n        this.setState({\n            notifications: notifications\n        });\n    }\n\n    addDebugItems(count = 10) {\n        let notifications = this.state.notifications;\n\n        for (let i = 0; i < count; i++) {\n            notifications.push({\n                type: ACTIVITY_TYPE.NOTIFICATION,\n                time: Date.now() / 1000,\n                who: \"fred\",\n                message: \"blah\",\n                level: NOTIFICATION_LEVEL.create,\n                action: \"create\"\n            });\n        }\n\n        this.setState({\n            notifications: notifications\n        });\n    }\n\n    fetchError(error) { }\n\n    buildActivityItem(item, i) {\n        let badge = timeSince(epochToTimeago(item.time));\n        let text = \"\";\n        switch (item.type) {\n            default:\n            case ACTIVITY_TYPE.USER:\n                text = item.who;\n                break;\n            case ACTIVITY_TYPE.NOTIFICATION:\n                text = `${item.who}: ${item.message}`;\n                break;\n        }\n\n        return (\n            <ActivityItem key={i} badge={badge} style={item.level}>\n                {text}\n            </ActivityItem>\n        );\n    }\n\n    render() {\n        let { className = \"\" } = this.props;\n        let classes = [\"Activity\", className];\n\n        // Build activity items\n        let items = this.state.users\n            .concat(this.state.notifications)\n            .sort((a, b) => {\n                return b.time - a.time;\n            })\n            .map(this.buildActivityItem);\n\n        // Calculate whether the marquee should scroll\n        let stopped = true;\n        if (this.marquee && this.well) {\n            let marqueeValues = window.getComputedStyle(this.marquee);\n            if (\n                parseInt(marqueeValues.width, 10) -\n                parseInt(marqueeValues.paddingLeft, 10) >\n                this.well.offsetWidth\n            ) {\n                stopped = false;\n            }\n        }\n\n        return (\n            <Well\n                bsSize=\"small\"\n                className={classes.join(\" \")}\n                ref={well => (this.well = ReactDOM.findDOMNode(well))}\n            >\n                <div\n                    className={`marquee ${stopped ? \"stopped\" : \"\"}`}\n                    ref={marquee => (this.marquee = marquee)}\n                >\n                    {items}\n                </div>\n            </Well>\n        );\n    }\n}\n\nconst ActivityItem = ({ children, badge = null, style = \"default\" }) => (\n    <div className=\"activity-item\">\n        <Label bsStyle={style}>\n            {children}\n            {badge !== null && <Badge>{badge}</Badge>}\n        </Label>\n    </div>\n);\n\nexport default Activity;\n","//Calculates and displays time since a given time in seconds\n\nexport default function timeSince(seconds) {\n  /*function timeSince(date) {\n    var seconds = Math.floor((new Date() - date) / 1000);*/\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" years\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" months\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" days\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" hours\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n}\n","import React, { PureComponent } from 'react';\nimport { Button } from 'react-bootstrap';\nimport * as d3 from 'd3'\nimport $ from 'jquery'\nimport axios from 'axios'\n\n\n\nclass ReportHeatmap extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      collection: 'event',\n      type: 'created',\n      year: '2017',\n      data: []\n    }\n  }\n\n  getData = () => {\n    var url = '/scot/api/v2/graph/dhheatmap?collection=' + this.state.collection + '&type=' + this.state.type + '&year=' + this.state.year\n\n    axios.get(url).then(res => {\n      this.setState({ data: res.data })\n    });\n  }\n\n  componentDidMount() {\n    this.getData();\n    this.loadHeatMap();\n  }\n\n  componentDidUpdate() {\n    this.loadHeatMap();\n  }\n\n  loadHeatMap = () => {\n    // Don't load if dashboard in edit mode\n    if (this.props.editMode) {\n      return;\n    }\n\n    let margin = {\n      top: 30,\n      bottom: 30,\n      left: 30,\n      right: 0,\n    },\n      width = 1000 - (margin.left - margin.right),\n      height = 300 - (margin.top - margin.bottom),\n      gridSize = Math.floor(width / 24),\n      legendElementWidth = gridSize * 1.5,\n      buckets = 9,\n      colors = ['#ffffd9', '#edf8b1', '#c7e9b4', '#7fcdbb', '#41b6c4', '#1d91c0', '#225ea8', '#253494', '#081d58'],\n      days = ['Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa', 'Su'],\n      times = ['1a', '2a', '3a', '4a', '5a', '6a', '7a', '8a', '9a', '10a', '11a', '12a', '1p', '2p', '3p', '4p', '5p', '6p', '7p', '8p', '9p', '10p', '11p', '12p'];\n\n    let container = d3.select('#report_heatmap');\n    let graph = container.select('g');\n    if (graph.empty()) {\n      graph = container.append('g')\n        .attr('transform', 'translate( ' + margin.left + ', ' + margin.top + ' )');\n    }\n\n    // Day Labels\n    graph.selectAll('.dayLabel')\n      .data(days)\n      .enter().append('text')\n      .text((d) => d)\n      .attr('x', 0)\n      .attr('y', (d, i) => { return i * gridSize; })\n      .style('text-anchor', 'end')\n      .attr('transform', 'translate( -6, ' + gridSize / 1.5 + ' )')\n      .attr('class', (d, i) => {\n        return (i >= 0 && i <= 4) ? 'dayLabel axis axis-worktime' : 'dayLabel axis';\n      });\n\n    // Time Labels\n    graph.selectAll('.timeLabel')\n      .data(times)\n      .enter().append('text')\n      .text((d) => d)\n      .attr('x', (d, i) => { return i * gridSize; })\n      .attr('y', 0)\n      .style('text-anchor', 'middle')\n      .attr('transform', 'translate( ' + gridSize / 2 + ', -6 )')\n      .attr('class', (d, i) => {\n        return (i >= 7 && i <= 16) ? 'timeLabel axis axis-worktime' : 'timeLabel axis';\n      });\n\n\n\n\n    container.selectAll('.legend').remove();\n    container.selectAll('.legend-text').remove();\n\n    let colorScale = d3.scaleQuantile()\n      .domain([0, buckets - 1, d3.max(this.state.data, (d) => { return d.value })])\n      .range(colors);\n\n    // Cards\n    let cards = graph.selectAll('.hour')\n      .data(this.state.data, (d) => { return d.day + ':' + d.hour; });\n    cards.append('title');\n    cards.enter().append('rect')\n      .style('fill', colors[0])\n      .merge(cards)\n      .attr('x', (d) => (d.hour - 1) * gridSize)\n      .attr('y', (d) => (d.day - 1) * gridSize)\n      .attr('rx', 4)\n      .attr('ry', 4)\n      .attr('class', 'hour')\n      .attr('width', gridSize)\n      .attr('height', gridSize)\n      .transition().duration(1000)\n      .style('fill', (d) => { return colorScale(d.value); });\n    cards.select('title').text((d) => d.value);\n    cards.exit().remove();\n\n    // Legend\n    var legend = graph.selectAll('.legend')\n      .data([0].concat(colorScale.quantiles()), (d) => d);\n\n    legend.enter()\n      .append('rect')\n      .attr('class', 'legend')\n      .attr('x', (d, i) => (legendElementWidth * i))\n      .attr('y', height)\n      .attr('width', legendElementWidth)\n      .attr('height', gridSize / 2)\n      .style('fill', (d, i) => colors[i])\n\n    legend.enter().append('text')\n      .text((d) => ('≥ ' + Math.round(d)))\n      .attr('class', 'legend-text')\n      .attr('x', (d, i) => legendElementWidth * i)\n      .attr('y', height + gridSize);\n  }\n\n\n  collectionChange = (event) => {\n    this.setState({ collection: event.target.value });\n  }\n\n  yearChange = (event) => {\n    this.setState({ year: event.target.value });\n  }\n\n  exportToPNG = () => {\n    var svgString = new XMLSerializer().serializeToString(document.querySelector('#report_heatmap'));\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector('#png-container').innerHTML = '<img src=\"' + png + '\"/>';\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode &&\n          <h1>Day of Week, Hour of Day Heatmap</h1>\n        }\n        <label htmlFor=\"year\" style={{ display: \"inline-block\", width: \"240px\", textAlign: \"right\" }}>Year = <span id=\"year-value\"></span>\n          <input className='report_input' type=\"number\" min=\"2013\" step=\"1\" value={this.state.year} id=\"year\" onChange={this.yearChange} disabled={formDisabled} />\n        </label>\n        <label htmlFor=\"collection\" style={{ display: \"inline-block\", width: \"240px\", textAlign: \"right\" }}>Collection = <span id=\"year-value\"></span>\n          <select id=\"collection\" value={this.state.collection} onChange={this.collectionChange} disabled={formDisabled} >\n            <option value='event'>event</option>\n            <option value='alert'>alert</option>\n            <option value='incident'>incident</option>\n          </select>\n        </label>\n        <Button id='export' bsSize='xsmall' bsStyle='default' onClick={this.exportToPNG} disabled={formDisabled} >Export to PNG</Button>\n        <div id=\"chart\">\n          <svg id='report_heatmap' viewBox='0 0 1000 380' />\n        </div>\n        <div id='png-container' hidden></div>\n      </div>\n\n    )\n  }\n}\n\nexport default ReportHeatmap;\nexport const Description = \"Heatmap of incoming alerts, event, and incidents\";\n","export default function debounce( callback, wait = 200, immediate = false ) {\n    let timeout;\n\n    return function( ...args ) {\n        clearTimeout( timeout );\n\n        timeout = setTimeout( () => {\n            timeout = null;\n            if ( !immediate ) callback.apply( this, args );\n        }, wait );\n\n        if ( immediate && !timeout ) callback.apply( this, [...args] );\n    };\n}\n","import React, { PureComponent } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport $ from \"jquery\";\nimport axios from 'axios'\n\nconst formatTickTime = (domain, count = 10) => {\n  let start = domain[0],\n    end = domain[domain.length - 1],\n    step = d3.tickStep(start, end, count);\n\n  return d => {\n    const daySeconds = 3600 * 24;\n    let days = Math.floor(d / daySeconds),\n      hours = Math.floor((d % daySeconds) / 3600),\n      minutes = Math.floor((d % 3600) / 60),\n      seconds = Math.floor(d % 60);\n\n    if (days) {\n      if (step < daySeconds) {\n        return `${days}d ${hours}h`;\n      }\n      return days + \"d\";\n    }\n    if (hours) {\n      if (step < 3600) {\n        return `${hours}h ${minutes}m`;\n      }\n      return hours + \"h\";\n    }\n    if (minutes) {\n      if (step < 60) {\n        return `${minutes}m ${seconds}s`;\n      }\n      return minutes + \"m\";\n    }\n    return seconds + \"s\";\n  };\n};\n\nconst formatTime = d => {\n  const daySeconds = 3600 * 24;\n  let days = Math.floor(d / daySeconds),\n    hours = Math.floor((d % daySeconds) / 3600),\n    minutes = Math.floor((d % 3600) / 60),\n    seconds = Math.floor(d % 60);\n\n  let output = seconds + \"s\";\n  if (minutes) {\n    output = minutes + \"m \" + output;\n  }\n  if (hours) {\n    output = hours + \"h \" + output;\n  }\n  if (days) {\n    output = days + \"d \" + output;\n  }\n  return output;\n};\n\nlet margin = { top: 20, right: 20, bottom: 60, left: 50 },\n  width = 1000 - margin.left - margin.right,\n  height = 500 - margin.top - margin.bottom,\n  barColors = {\n    All: \"#3b35a6\",\n    Promoted: \"#eebd31\",\n    Incident: \"#e63041\"\n  };\n\nclass ReportArt extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    let today = new Date().toISOString().slice(0, 10);\n    this.state = {\n      length: 7,\n      date: today,\n      unit: \"day\",\n      chartData: {\n        dates: [],\n        lines: []\n      }\n    };\n\n    // Load Art is auto debounced\n    this.loadArt = debounce(this.loadArt);\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.loadArt();\n  }\n\n  componentDidUpdate() { }\n\n  initChart = () => {\n    this.svg = d3\n      .select(\"#report_art\")\n      .append(\"g\")\n      .attr(\"transform\", \"translate( \" + margin.left + \",\" + margin.top + \" )\");\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${height} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.yAxisEl\n      .append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"x\", 0 - height / 2)\n      .attr(\"y\", 0)\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"fill\", \"black\")\n      .text(\"Response Time\");\n\n    this.chartInit = true;\n  }\n\n  updateChart = () => {\n    // Bar names\n    let barNames = new Set();\n    this.state.chartData.dates.forEach(d => {\n      d.values.forEach(b => {\n        barNames.add(b.name);\n      });\n    });\n\n    // Line names\n    let lineNames = new Set();\n    this.state.chartData.lines.forEach(d => {\n      lineNames.add(d.name);\n    });\n\n    // Scales\n    let maxValue = d3.max(this.state.chartData.dates, d => {\n      return d3.max(d.values, b => b.value);\n    });\n\n    let dateScale = d3\n      .scaleBand()\n      .padding(0.1)\n      .rangeRound([0, width])\n      .domain(this.state.chartData.dates.map(d => d.date));\n    let barScale = d3\n      .scaleBand()\n      .domain(Array.from(barNames))\n      .rangeRound([0, dateScale.bandwidth()]);\n    let yScale = d3\n      .scaleLinear()\n      .clamp(true)\n      .range([height, 0])\n      .domain([0, maxValue])\n      .nice();\n\n    // Axes\n    var xAxis = d3.axisBottom().scale(dateScale);\n\n    var yAxis = d3\n      .axisLeft()\n      .scale(yScale)\n      .ticks(20)\n      .tickFormat(formatTickTime(yScale.domain(), 20));\n\n    this.xAxisEl.transition().call(xAxis);\n    this.yAxisEl.transition().call(yAxis);\n\n    // Bars\n    let dates = this.svg\n      .selectAll(\".date\")\n      .data(this.state.chartData.dates, d => d.date);\n\n    dates\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .attr(\"height\", 0)\n      .attr(\"y\", height)\n      .remove();\n\n    let bars = dates\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"date\")\n      .attr(\"transform\", d => `translate( ${dateScale(d.date)}, 0 )`)\n      .selectAll(\".bar\")\n      .data(d => d.values)\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .style(\"fill\", d => barColors[d.name])\n      .attr(\"width\", barScale.bandwidth())\n      .attr(\"x\", d => barScale(d.name))\n      .attr(\"y\", height)\n      .attr(\"height\", 0);\n\n    bars.append(\"title\").text(d => formatTime(d.value));\n\n    dates\n      .transition()\n      .attr(\"transform\", d => `translate( ${dateScale(d.date)}, 0 )`);\n\n    this.svg\n      .selectAll(\".date\")\n      .selectAll(\".bar\")\n      .transition()\n      .attr(\"width\", barScale.bandwidth())\n      .attr(\"x\", d => barScale(d.name))\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"height\", d => height - yScale(d.value));\n\n    // Avg Box\n    this.svg.select(\".avg-holder\").remove();\n    this.svg.select(\".avg-holder-border\").remove();\n    let AvgHolder = this.svg.append(\"g\").attr(\"class\", \"avg-holder\");\n\n    let averages = AvgHolder.selectAll(\".avg\")\n      .data(this.state.chartData.lines)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"avg\")\n      .attr(\"transform\", (d, i) => `translate( 0, ${i * 15} )`);\n\n    averages\n      .append(\"tspan\")\n      .attr(\"x\", 0)\n      .attr(\"font-weight\", \"bold\")\n      .text(d => `${d.name}:`);\n\n    averages\n      .append(\"tspan\")\n      .attr(\"x\", 100)\n      .text(d => formatTime(d.value));\n\n    let AvgHolderBox = AvgHolder.node().getBBox();\n    AvgHolder.attr(\n      \"transform\",\n      `translate( ${width - AvgHolderBox.width}, 0 )`\n    );\n\n    const borderOffset = 2;\n    let border = this.svg\n      .append(\"rect\")\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"black\")\n      .attr(\"class\", \"avg-holder-border\")\n      .attr(\"x\", AvgHolderBox.x - borderOffset)\n      .attr(\"y\", AvgHolderBox.y - borderOffset)\n      .attr(\"width\", AvgHolderBox.width + borderOffset * 2)\n      .attr(\"height\", AvgHolderBox.height + borderOffset * 2);\n    border\n      .node()\n      .transform.baseVal.initialize(\n        AvgHolder.node().transform.baseVal.getItem(0)\n      );\n\n    // Legend\n    const legendHeight = 20,\n      legendSpacing = 15,\n      legendTextSpacing = 5;\n    this.svg.select(\".legend-holder\").remove();\n    let LegendHolder = this.svg.append(\"g\").attr(\"class\", \"legend-holder\");\n    let legend = LegendHolder.selectAll(\".legend\")\n      .data(Array.from(barNames))\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\");\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"height\", legendHeight)\n      .style(\"fill\", d => barColors[d]);\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .text(d => d);\n\n    // Legend Position\n    let widthSums = 0;\n    LegendHolder.selectAll(\".legend\").attr(\"transform\", function (d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = LegendHolder.node().getBBox().width;\n    LegendHolder.attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${height +\n      margin.bottom / 2} )`\n    );\n  }\n\n  loadArt = () => {\n\n\n    if (!this.state.date || !this.state.length || this.props.editMode) {\n      return;\n    }\n\n    let url = \"/scot/api/v2/metric/response_avg_last_x_days\";\n    let opts = `?days=${this.state.length}&targetdate=${this.state.date}&unit=${\n      this.state.unit\n      }`;\n\n    axios.get(url + opts).then(res => {\n      this.setState({\n        chartData: res.data\n      });\n    });\n  }\n\n  unitChange = event => {\n    this.setState({ unit: event.target.value }, () => this.loadArt());\n  }\n\n  lengthChange = event => {\n    this.setState({ length: event.target.value }, () => this.loadArt());\n  }\n\n  dateChange = event => {\n    this.setState({ date: event.target.value }, () => this.loadArt());\n  }\n\n  exportToPNG = () => {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_art\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\"#png-container\").innerHTML =\n        '<img src=\"' + png + '\"/>';\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Alert Response Time</h1>}\n        <label\n          htmlFor=\"date\"\n          style={{ display: \"inline-block\", textAlign: \"right\" }}\n        >\n          Initial Date =&nbsp;\n          <input\n            className=\"report_input\"\n            type=\"date\"\n            value={this.state.date}\n            onChange={this.dateChange}\n            placeholder=\"yyyy-mm-dd\"\n            pattern=\"[0-9]{4}-[0-9]{2}-[0-9]{2}\"\n            disabled={formDisabled}\n          />\n        </label>\n        <label\n          htmlFor=\"length\"\n          style={{ display: \"inline-block\", textAlign: \"right\" }}\n        >\n          Length =&nbsp;\n          <input\n            className=\"report_name\"\n            type=\"number\"\n            min=\"1\"\n            step=\"1\"\n            value={this.state.length}\n            id=\"length\"\n            onChange={this.lengthChange}\n            disabled={formDisabled}\n          />\n        </label>\n        <label\n          htmlFor=\"unit\"\n          style={{\n            display: \"inline-block\",\n            width: \"240px\",\n            textAlign: \"right\"\n          }}\n        >\n          Unit =&nbsp;\n          <select\n            id=\"unit\"\n            value={this.state.unit}\n            onChange={this.unitChange}\n            disabled\n          >\n            <option value=\"hour\">hourly</option>\n            <option value=\"day\">daily</option>\n            <option value=\"month\">monthly</option>\n            <option value=\"year\">yearly</option>\n          </select>\n        </label>\n        <Button\n          id=\"export\"\n          bsSize=\"xsmall\"\n          bsStyle=\"default\"\n          onClick={this.exportToPNG}\n          disabled={formDisabled}\n        >\n          Export to PNG\n        </Button>\n        <div id=\"chart\">\n          <svg id=\"report_art\" viewBox=\"0 0 1000 500\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportArt;\nexport const Description =\n  \"Chart of average alert, event, and incident response time\";\n","import React, { PureComponent } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport axios from 'axios'\nimport $ from \"jquery\";\nconst wrapText = (text, width) => {\n  // FYI: not an arrow function because of 'this' injection\n  text.each(function (value, i) {\n    if (this.getComputedTextLength() < width) {\n      return;\n    }\n\n    let text = d3.select(this),\n      words = text\n        .text()\n        .split(/\\s+/)\n        .reverse(),\n      word = null,\n      line = [],\n      lineCount = 1,\n      lineHeight = 0.8, // ems\n      x = text.attr(\"x\"),\n      y = text.attr(\"y\"),\n      dy = parseFloat(text.attr(\"dy\")),\n      row = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", x)\n        .attr(\"y\", y)\n        .attr(\"dy\", dy + \"em\");\n\n    while ((word = words.pop())) {\n      line.push(word);\n      row.text(line.join(\" \"));\n      if (row.node().getComputedTextLength() > width) {\n        lineCount++;\n        line.pop();\n        row.text(line.join(\" \"));\n        line = [word];\n        row = text\n          .append(\"tspan\")\n          .attr(\"x\", x)\n          .attr(\"y\", y)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word);\n      }\n    }\n\n    let yOffset = (this.getBBox().height / (2 * lineCount)) * (lineCount - 1);\n    text.attr(\"transform\", `translate( 0, -${yOffset} )`);\n  });\n};\n\nconst margin = {\n  top: 5,\n  left: 200,\n  right: 30,\n  bottom: 60\n},\n  width = 1000 - margin.left - margin.right,\n  legendHeight = 20,\n  legendSpacing = 15,\n  legendTextSpacing = 5;\n\nclass ReportAlertpower extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      displayMode: \"stacked\",\n      chartData: [],\n      chartResults: 20,\n      chartSort: \"power\",\n      chartSortDir: \"desc\",\n      chartFilter: \"\"\n    };\n\n    // LoadData is automatically debounced\n    this.loadData = debounce(this.loadData);\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.updateChart();\n    this.loadData();\n  }\n\n  initChart = () => {\n    // Height is initially 0, is calculated after we have data\n    this.height = 0;\n\n    this.xScale = d3.scaleLinear().rangeRound([0, width]);\n    this.yScale = d3\n      .scaleBand()\n      .rangeRound([0, this.height])\n      .padding(0.3);\n\n    this.colors = d3.scaleOrdinal(d3.schemeCategory10);\n\n    this.xAxis = d3.axisBottom().scale(this.xScale);\n\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n\n    this.svg = d3\n      .select(\"#report_alertpower\")\n      .attr(\"viewBox\", `0 0 1000 ${this.height + margin.top + margin.bottom}`)\n      .append(\"g\")\n      .attr(\"transform\", `translate( ${margin.left}, ${margin.top} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    this.xAxisEl\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 30)\n      .style(\"fill\", \"black\")\n      .style(\"font-size\", \"12px\")\n      .text(\"Alert Count\");\n\n    this.LegendHolder = this.svg.append(\"g\").attr(\"class\", \"legend-holder\");\n\n    this.chartInit = true;\n  }\n\n  updateChart = () => {\n    let dataset = this.state.chartData;\n\n    // Calculate height\n    this.height = 32 * dataset.length;\n    d3.select(\"#report_alertpower\")\n      .transition()\n      .attr(\"viewBox\", `0 0 1000 ${this.height + margin.top + margin.bottom}`);\n\n    this.dataTypes = d3\n      .keys(dataset[0])\n      .filter(\n        key => ![\"name\", \"values\", \"total\", \"score\", \"max\"].includes(key)\n      );\n\n    // Build color domain from keys except name\n    this.colors.domain(this.dataTypes);\n\n    dataset.forEach(d => {\n      // Remove number at the end\n      d.name = d.name.replace(/ \\([0-9]+\\)/, \"\");\n\n      /* // False Data\n\t\t\tthis.dataTypes.forEach( type => {\n\t\t\t\td[ type ] = Math.round( Math.random() * 5 );\n\t\t\t} );\n\t\t\tif ( !d.score ) {\n\t\t\t\td.score = ( Math.random() * 10 ).toPrecision( 2 );\n\t\t\t}\n\t\t\t/**/\n      if (typeof d.score === \"number\") {\n        d.score = \"\" + d.score;\n      }\n\n      // Calculate bar start/end points\n      let start = 0;\n      d.values = this.dataTypes.map(name => {\n        let curStart = start,\n          curEnd = start + d[name];\n\n        start += d[name];\n        return {\n          name: name,\n          count: d[name],\n          start: curStart,\n          end: curEnd\n        };\n      });\n\n      d.total = d.values[d.values.length - 1].end;\n      d.max = d3.max(this.dataTypes, b => {\n        return d[b];\n      });\n    });\n\n    this.stackedMax = d3.max(dataset, d => d.total);\n    this.groupedMax = d3.max(dataset, d => {\n      return d3.max(this.dataTypes, b => d[b]);\n    });\n\n    this.yScale.rangeRound([0, this.height]).domain(dataset.map(d => d.name));\n\n    /*\n\t\t// Animated, but multiline flashes\n\t\tthis.yAxisEl.transition().call( g => {\n\t\t\tg.call( this.yAxis )\n\t\t\tsetTimeout( () => {\n\t\t\t\tg.selectAll( '.tick text' ).call( wrapText, margin.left - 20 );\n\t\t\t}, 50 )\n\t\t} )\n\t\t/**/\n    /**/\n    // Not animated\n    this.yAxisEl.call(this.yAxis);\n    this.svg.selectAll(\".y.axis .tick text\").call(wrapText, margin.left - 20); // Wrap axis labels\n    /**/\n\n    let alerts = this.svg.selectAll(\".alert\").data(dataset, d => d.name);\n\n    alerts\n      .exit()\n      .transition()\n      .attr(\"height\", 0)\n      .style(\"opacity\", 0)\n      .remove();\n\n    alerts\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"alert\")\n      .attr(\"transform\", d => `translate( 1, ${this.yScale(d.name)} )`)\n      .append(\"text\")\n      .attr(\"dy\", \"1.2em\");\n\n    alerts\n      .transition()\n      .attr(\"transform\", d => `translate( 1, ${this.yScale(d.name)} )`);\n\n    let alertTypes = this.svg\n      .selectAll(\".alert\")\n      .selectAll(\"rect\")\n      .data(d => d.values);\n\n    let bars = alertTypes\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", 0)\n      .attr(\"height\", this.yScale.bandwidth());\n    bars.merge(alertTypes).style(\"fill\", d => this.colors(d.name));\n\n    bars\n      .append(\"title\")\n      .merge(alertTypes.select(\"title\"))\n      .text(d => `${d.name}: ${d.count}`);\n\n    // Legend\n    let legend = this.LegendHolder.selectAll(\".legend\").data(this.dataTypes);\n\n    legend.exit().remove();\n\n    legend = legend\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\");\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"height\", legendHeight)\n      .style(\"fill\", d => this.colors(d));\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"text-transform\", \"capitalize\")\n      .text(d => d);\n\n    // Legend Position\n    let widthSums = 0;\n    this.LegendHolder.selectAll(\".legend\").attr(\"transform\", function (d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = this.LegendHolder.node().getBBox().width;\n    this.LegendHolder.transition().attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${this.height +\n      margin.bottom -\n      legendHeight} )`\n    );\n\n    if (this.state.displayMode === \"grouped\") {\n      this.transitionGrouped();\n    } else {\n      this.transitionStacked();\n    }\n  }\n\n  transitionStacked = () => {\n    this.xScale.domain([0, this.stackedMax]).nice();\n    this.xAxisEl\n      .transition()\n      .call(this.xAxis)\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    this.svg\n      .selectAll(\".alert rect\")\n      .transition()\n      .delay((d, i) => i * 5)\n      .duration(500)\n      .attr(\"width\", d => this.xScale(d.end) - this.xScale(d.start))\n      .attr(\"x\", d => this.xScale(d.start))\n      .transition()\n      .attr(\"height\", this.yScale.bandwidth())\n      .attr(\"y\", 0);\n\n    this.svg\n      .selectAll(\".alert text\")\n      .transition()\n      .delay((d, i) => i * this.dataTypes.length * 5 + i)\n      .duration(500)\n      .attr(\"transform\", d => `translate( ${this.xScale(d.total) + 10}, 0 )`)\n      .tween(\"text\", function (d) {\n        let text = d3.select(this);\n        let i = d3.interpolateNumber(text.text(), d.score),\n          prec = d.score.split(\".\"),\n          round = prec.length > 1 ? Math.pow(10, prec[0].length) : 1;\n\n        return t => text.text(Math.round(i(t) * round) / round);\n      });\n  }\n\n  transitionGrouped = () => {\n    this.xScale.domain([0, this.groupedMax]).nice();\n    this.xAxisEl\n      .transition()\n      .call(this.xAxis)\n      .attr(\"transform\", `translate( 0, ${this.height} )`);\n\n    let initialDuration = this.displayModeChanged ? 500 : 0;\n\n    this.svg\n      .selectAll(\".alert\")\n      .selectAll(\"rect\")\n      .transition()\n      .delay((d, i) => i * 5)\n      .duration(initialDuration)\n      .attr(\"height\", this.yScale.bandwidth() / this.dataTypes.length)\n      .attr(\n        \"y\",\n        (d, i) => (this.yScale.bandwidth() / this.dataTypes.length) * i\n      )\n      .transition()\n      .duration(500)\n      .attr(\"x\", 0)\n      .attr(\"width\", d => this.xScale(d.end) - this.xScale(d.start));\n\n    this.svg\n      .selectAll(\".alert text\")\n      .transition()\n      .delay((d, i) => i * 5 + initialDuration)\n      .attr(\"transform\", d => `translate( ${this.xScale(d.max) + 10}, 0 )`)\n      .tween(\"text\", function (d) {\n        let text = d3.select(this);\n        let i = d3.interpolateNumber(text.text(), d.score),\n          prec = d.score.split(\".\"),\n          round = prec.length > 1 ? Math.pow(10, prec[0].length) : 1;\n\n        return t => text.text(Math.round(i(t) * round) / round);\n      });\n\n    this.displayModeChanged = false;\n  }\n\n  loadData = () => {\n    if (!this.state.chartResults || this.props.editMode) {\n      return;\n    }\n\n    let url = \"/scot/api/v2/metric/alert_power\";\n    let opts = `?sort=${this.state.chartSort}&dir=${\n      this.state.chartSortDir\n      }&count=${this.state.chartResults}&filter=${encodeURIComponent(\n        this.state.chartFilter\n      )}`;\n\n    axios.get(url + opts).then(res => {\n      this.setState({\n        chartData: res.data\n      });\n    });\n  }\n\n\n\n  dataChange = (event) => {\n    let target = event.target;\n\n    if (target.name === \"chartResults\" && target.value) {\n      if (target.value > 50) target.value = 50;\n      if (target.value < 1) target.value = 1;\n    }\n\n    this.setState(\n      {\n        [target.name]: target.value\n      },\n      this.loadData\n    );\n  }\n\n  displayModeChang = (event) => {\n    this.displayModeChanged = true;\n    this.setState({\n      displayMode: event.target.value\n    });\n  }\n\n  preventSubmit = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  exportToPNG = () => {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_alertpower\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\n        \"#png-container\"\n      ).innerHTML = `<img src='${png}'/>`;\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Alert Power</h1>}\n        <form onSubmit={this.preventSubmit}>\n          <label>\n            Filter =&nbsp;\n            <input\n              className=\"report_input\"\n              type=\"text\"\n              style={{ background: \"initial\", border: \"1px solid #ccc\" }}\n              name=\"chartFilter\"\n              value={this.state.chartFilter}\n              onChange={this.dataChange}\n              placeholder=\"All\"\n              disabled={formDisabled}\n            />\n          </label>\n        </form>\n        <form onSubmit={this.preventSubmit}>\n          <label>\n            Sort by =&nbsp;\n            <select\n              name=\"chartSort\"\n              value={this.state.chartSort}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            >\n              <option value=\"power\">Power Score</option>\n              <option value=\"count\">Alert Count</option>\n              <option value=\"promoted\">Promoted Count</option>\n              <option value=\"incident\">Incident Count</option>\n            </select>\n            <select\n              name=\"chartSortDir\"\n              value={this.state.chartSortDir}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            >\n              <option value=\"desc\">Desc</option>\n              <option value=\"asc\">Asc</option>\n            </select>\n          </label>\n          <label>\n            Results =&nbsp;\n            <input\n              className=\"report_input\"\n              type=\"number\"\n              min={1}\n              max={50}\n              name=\"chartResults\"\n              value={this.state.chartResults}\n              onChange={this.dataChange}\n              disabled={formDisabled}\n            />\n          </label>\n        </form>\n        <form>\n          <label>\n            <input\n              className=\"report_input\"\n              type=\"radio\"\n              name=\"mode\"\n              value=\"grouped\"\n              checked={this.state.displayMode === \"grouped\"}\n              onChange={this.displayModeChange}\n              disabled={formDisabled}\n            />{\" \"}\n            Grouped\n          </label>\n          &nbsp;\n          <label>\n            <input\n              className=\"report_input\"\n              type=\"radio\"\n              name=\"mode\"\n              value=\"stacked\"\n              checked={this.state.displayMode === \"stacked\"}\n              onChange={this.displayModeChange}\n              disabled={formDisabled}\n            />{\" \"}\n            Stacked\n          </label>\n          <Button\n            id=\"export\"\n            bsSize=\"xsmall\"\n            bsStyle=\"default\"\n            onClick={this.exportToPNG}\n            disabled={formDisabled}\n          >\n            Export to PNG\n          </Button>\n        </form>\n        <div id=\"chart\">\n          <svg id=\"report_alertpower\" viewBox=\"0 0 1000 100\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportAlertpower;\nexport const Description =\n  \"Chart of alerts in terms of how frequently they're promoted or become incidents\";\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport * as d3 from \"d3\";\nimport debounce from \"../../utils/debounce\";\nimport $ from \"jquery\";\nimport axios from 'axios'\n\nconst margin = {\n  top: 5,\n  left: 40,\n  right: 20,\n  bottom: 60\n},\n  width = 1000 - margin.left - margin.right,\n  height = 600 - margin.top - margin.bottom,\n  timeWindow = 7 * 24 * 3600 * 1000,\n  legendHeight = 20,\n  legendSpacing = 15,\n  legendTextSpacing = 5;\n\nclass ReportCreated extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      chartData: []\n    };\n\n    // LoadData is automatically debounced\n    this.loadData = debounce(this.loadData);\n\n    // this.dataChange = this.dataChange.bind( this );\n    // this.displayModeChange = this.displayModeChange.bind( this );\n  }\n\n  initChart = () => {\n    let now = new Date();\n\n    this.xScale = d3\n      .scaleTime()\n      .rangeRound([0, width])\n      .domain([now - timeWindow, now]);\n    this.yScale = d3\n      .scaleLinear()\n      .rangeRound([height, 0])\n      .domain([0, 0]);\n\n    this.xAxis = d3.axisBottom().scale(this.xScale);\n\n    this.yAxis = d3.axisLeft().scale(this.yScale);\n\n    this.svg = d3\n      .select(\"#report_created\")\n      .attr(\"viewBox\", `0 0 1000 ${height + margin.top + margin.bottom}`)\n      .append(\"g\")\n      .attr(\"transform\", `translate( ${margin.left}, ${margin.top} )`);\n\n    this.yAxisEl = this.svg.append(\"g\").attr(\"class\", \"y axis\");\n\n    this.yAxisEl.call(this.yAxis);\n\n    this.xAxisEl = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"x axis\")\n      .attr(\"transform\", `translate( 0, ${height} )`);\n\n    this.xAxisEl\n      .append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", margin.bottom - 10)\n      .style(\"font-size\", \"10px\")\n      .style(\"fill\", \"black\")\n      .text(\"Toggle Trendlines\");\n\n    this.xAxisEl.call(this.xAxis);\n\n    this.statusLine = d3\n      .line()\n      .curve(d3.curveBasis)\n      .x(d => this.xScale(new Date(d.time * 1000)))\n      .y(d => this.yScale(d.value));\n\n    this.lineHolder = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"lines\")\n      .attr(\"clip-path\", \"url(#bounds)\");\n\n    // Legend\n    this.LegendHolder = this.svg\n      .append(\"g\")\n      .attr(\"class\", \"legend-holder\")\n      .style(\"font-family\", \"sans-serif\");\n\n    this.chartInit = true;\n  }\n\n  updateChart = () => {\n    this.yScale\n      .domain([\n        0,\n        Math.max(\n          d3.max(this.state.chartData, d => {\n            if (!d.shown || !d.data.length) return 0;\n\n            return d3.max(d.data, b => b.value);\n          }),\n          10\n        )\n      ])\n      .nice();\n\n    this.colors = d3.scaleOrdinal(d3.schemeCategory10).domain(\n      this.state.chartData.map(line => {\n        return line.name;\n      })\n    );\n\n    let lines = this.lineHolder\n      .selectAll(\".line\")\n      .data(this.state.chartData, d => d.name);\n\n    lines\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove();\n\n    lines\n      .enter()\n      .append(\"path\")\n      .attr(\"class\", d => `line ${d.name}`)\n      .style(\"stroke\", d => this.colors(d.name))\n      .style(\"stroke-width\", 2)\n      .style(\"fill\", \"none\")\n      .attr(\"d\", d => this.statusLine(d.data));\n\n    this.LegendHolder.selectAll(\".legend\").remove();\n\n    let legend = this.LegendHolder.selectAll(\".legend\").data(\n      this.state.chartData,\n      d => d.name\n    );\n\n    legend = legend\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", \"legend\")\n      .style(\"cursor\", \"pointer\")\n      .on(\"click\", d => {\n        let newData = this.state.chartData.map(row => {\n          if (row.name === d.name) {\n            row.shown = !d.shown;\n          }\n          return row;\n        });\n        console.log(`newData = ${newData}`)\n        this.setState({\n          chartData: newData\n        });\n      });\n\n    // Legend Boxes\n    legend\n      .append(\"rect\")\n      .attr(\"width\", legendHeight)\n      .attr(\"x\", 0)\n      .attr(\"y\", (legendHeight - 5) / 2)\n      .attr(\"height\", 5)\n      .style(\"fill\", d => (d.shown ? this.colors(d.name) : \"transparent\"))\n      .style(\"stroke\", d => this.colors(d.name))\n      .style(\"stroke-width\", 1);\n\n    // Legend Text\n    legend\n      .append(\"text\")\n      .attr(\"x\", legendHeight + legendTextSpacing)\n      .attr(\"y\", legendHeight / 2)\n      .attr(\"dy\", \".35em\")\n      .style(\"text-anchor\", \"start\")\n      .style(\"text-transform\", \"capitalize\")\n      .text(d => d.name)\n      .append(\"title\")\n      .text(d => `Toggle ${d.name} line`);\n\n    // Legend Position\n    let widthSums = 0;\n    this.LegendHolder.selectAll(\".legend\").attr(\"transform\", function (d, i) {\n      let value = widthSums;\n      widthSums += this.getBBox().width + legendSpacing;\n      return `translate( ${value}, 0 )`;\n    });\n    let legendWidth = this.LegendHolder.node().getBBox().width;\n    this.LegendHolder.attr(\n      \"transform\",\n      `translate( ${width / 2 - legendWidth / 2}, ${height +\n      margin.bottom -\n      legendHeight * 2} )`\n    );\n\n    // Animate changes\n    this.yAxisEl.transition().call(this.yAxis);\n\n    lines\n      .transition()\n      .attr(\"d\", d => this.statusLine(d.data))\n      .style(\"stroke\", d => (d.shown ? this.colors(d.name) : \"transparent\"));\n  }\n\n  loadData = () => {\n    let url = \"/scot/api/v2/metric/create_histo\";\n    let opts = `?range=7`;\n\n    // Use dummy data while dashboard is in editMode\n    if (this.props.editMode) {\n      let dataset = this.genData();\n\n      // Add line visibility to data\n      dataset = dataset.map(line => {\n        line.shown = this.state.chartData.reduce((shown, d) => {\n          return shown && (d.name === line.name ? d.shown : true);\n        }, true);\n\n        return line;\n      });\n\n      this.setState({\n        chartData: dataset\n      });\n\n      return;\n    }\n    axios.get(url + opts).then(res => {\n      try {\n        // Add line visibility to data\n        console.log(res)\n        res = res.data.map(line => {\n          line.shown = this.state.chartData.reduce((shown, d) => {\n            return shown && (d.name === line.name ? d.shown : true);\n          }, true);\n\n          return line;\n        });\n\n        this.setState({\n          chartData: res\n        });\n      } catch (e) {\n        console.log(\"Malformed data\");\n        console.log(res);\n        console.error(e);\n      }\n    });\n  };\n\n  genData = () => {\n    let dataTypes = [\n      \"alerts\",\n      \"alertgroups\",\n      \"events\",\n      \"incidents\",\n      \"entries\",\n      \"intel\"\n    ];\n    let dataMaxes = {\n      alerts: 5000,\n      alertgroups: 500,\n      entries: 100,\n      events: 15,\n      intel: 5,\n      incidents: 5\n    };\n\n    let now = new Date(),\n      date = new Date(Date.now() - timeWindow);\n    let lineData = [];\n    dataTypes.forEach(d => {\n      lineData.push({\n        name: d,\n        data: []\n      });\n    });\n    for (; date <= now; date = new Date(date.getTime() + 6 * 3600 * 1000)) {\n      lineData.forEach(line => {\n        line.data.push({\n          time: date.getTime() / 1000,\n          value: Math.random() * dataMaxes[line.name]\n        });\n      });\n    }\n\n    return lineData;\n  }\n\n  componentDidMount() {\n    this.initChart();\n    this.loadData();\n  }\n\n  dataChange(event) {\n    let target = event.target;\n\n    if (target.name === \"chartResults\" && target.value) {\n      if (target.value > 50) target.value = 50;\n      if (target.value < 1) target.value = 1;\n    }\n\n    this.setState(\n      {\n        [target.name]: target.value\n      },\n      this.loadData\n    );\n  }\n\n  exportToPNG = () => {\n    var svgString = new XMLSerializer().serializeToString(\n      document.querySelector(\"#report_created\")\n    );\n\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    var DOMURL = window.self.URL || window.self.webkitURL || window.self;\n    var img = new Image();\n    var svg = new Blob([svgString], { type: \"image/svg+xml;charset=utf-8\" });\n    var url = DOMURL.createObjectURL(svg);\n    img.onload = function () {\n      ctx.drawImage(img, 0, 0);\n      var png = canvas.toDataURL(\"image/png\");\n      document.querySelector(\n        \"#png-container\"\n      ).innerHTML = `<img src='${png}'/>`;\n      DOMURL.revokeObjectURL(png);\n      var a = $(\"<a>\")\n        .attr(\"href\", png)\n        .attr(\"download\", \"img.png\")\n        .appendTo(\"body\");\n\n      a[0].click();\n\n      a.remove();\n    };\n    img.src = url;\n  }\n\n  render() {\n    if (this.chartInit) {\n      this.updateChart();\n    }\n\n    let formDisabled = this.props.editMode;\n\n    return (\n      <div className=\"dashboard\">\n        {!this.props.editMode && <h1>Items Created</h1>}\n        <form>\n          <Button\n            id=\"export\"\n            bsSize=\"xsmall\"\n            bsStyle=\"default\"\n            onClick={this.exportToPNG}\n            disabled={formDisabled}\n          >\n            Export to PNG\n          </Button>\n        </form>\n        <div id=\"chart\">\n          <svg id=\"report_created\" viewBox=\"0 0 1000 600\" />\n        </div>\n        <div id=\"png-container\" hidden />\n      </div>\n    );\n  }\n}\n\nexport default ReportCreated;\nexport const Description = \"Chart of newly created items\";\n","import React from \"react\";\nimport { Panel, Button } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nimport ReportHeatmap, { Description as HeatmapDesc } from \"./report_heatmap\";\nimport ReportArt, { Description as ArtDesc } from \"./report_art\";\nimport ReportAlertpower, {\n  Description as PowerDesc\n} from \"./report_alertpower\";\nimport ReportCreated, { Description as CreatedDesc } from \"./report_created\";\n\nexport const ReportWidgets = () => {\n  const widgetTypes = [\"heatmap\", \"art\", \"alertpower\", \"created\"];\n\n  let widgets = {};\n  for (let type of widgetTypes) {\n    widgets[type] = {\n      type: reportByType(type),\n      title: reportTitleByType(type),\n      description: reportDescriptionByType(type)\n    };\n  }\n\n  return widgets;\n};\n\nconst reportByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return ReportHeatmap;\n    case \"alertpower\":\n      return ReportAlertpower;\n    case \"art\":\n      return ReportArt;\n    case \"created\":\n      return ReportCreated;\n  }\n};\n\nconst reportComponentByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return <ReportHeatmap />;\n    case \"alertpower\":\n      return <ReportAlertpower />;\n    case \"art\":\n      return <ReportArt />;\n    case \"created\":\n      return <ReportCreated />;\n  }\n};\n\nconst reportTitleByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return \"Heatmap\";\n    case \"alertpower\":\n      return \"Alert Power\";\n    case \"art\":\n      return \"Alert Response Time\";\n    case \"created\":\n      return \"Items Created\";\n  }\n};\n\nconst reportDescriptionByType = reportType => {\n  switch (reportType) {\n    default:\n    case \"heatmap\":\n      return HeatmapDesc;\n    case \"alertpower\":\n      return PowerDesc;\n    case \"art\":\n      return ArtDesc;\n    case \"created\":\n      return CreatedDesc;\n  }\n};\n\nconst reportPanelHeader = (type, expandButton = false, backButton = false) => (\n  <div style={{ position: \"relative\" }}>\n    {reportTitleByType(type)}\n    {expandButton && (\n      <Link to={`/reports/${type}`} className=\"panel-button right\">\n        <Button bsSize=\"small\">\n          <i className=\"fa fa-external-link\" aria-hidden />\n        </Button>\n      </Link>\n    )}\n    {backButton && (\n      <Link to=\"/reports\" className=\"panel-button left\">\n        <Button bsSize=\"small\">\n          <i className=\"fa fa-arrow-left\" aria-hidden />\n        </Button>\n      </Link>\n    )}\n  </div>\n);\n\n//<Panel header={reportPanelHeader( reportTitleByType( 'heatmap' ), '/heatmap' )}>\n\nexport const ReportPage = () => (\n  <div\n    id=\"report\"\n    className=\"dashboard\"\n    style={{ height: \"calc( 100vh - 51px )\", overflow: \"auto\" }}\n  >\n    <div style={{ textAlign: \"center\" }}>\n      <h2>Reports</h2>\n    </div>\n    <div className=\"container-fluid\">\n      <div className=\"col-md-6\">\n        <Panel header={reportPanelHeader(\"heatmap\", true)}>\n          <ReportHeatmap />\n        </Panel>\n        <Panel header={reportPanelHeader(\"alertpower\", true)}>\n          <ReportAlertpower />\n        </Panel>\n      </div>\n      <div className=\"col-md-6\">\n        <Panel header={reportPanelHeader(\"art\", true)}>\n          <ReportArt />\n        </Panel>\n        <Panel header={reportPanelHeader(\"created\", true)}>\n          <ReportCreated />\n        </Panel>\n      </div>\n    </div>\n  </div>\n);\n\nexport const SingleReport = ({ reportType = \"heatmap\" }) => (\n  <div\n    id=\"report\"\n    className=\"dashboard\"\n    style={{ height: \"calc( 100vh - 51px )\", overflow: \"auto\" }}\n  >\n    <div className=\"container\">\n      <Panel header={reportPanelHeader(reportType, false, true)}>\n        {reportComponentByType(reportType)}\n      </Panel>\n    </div>\n  </div>\n);\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nconst styles = theme => ({\n  progress: {\n    margin: theme.spacing.unit * 2,\n  },\n});\nfunction LoadingContainer(props) {\n  const { classes, loading } = props;\n  return (\n    <div className='LoadingContainer'>\n      {loading &&\n        <CircularProgress className={classes.progress} />\n      }\n    </div>\n  );\n}\n\nLoadingContainer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\nexport default withStyles(styles)(LoadingContainer);\n\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ListGroup, Label } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../../utils/session_storage\";\nimport LoadingContainer from \"../../list/LoadingContainer\";\nimport {\n  todayRange,\n  lastWeekRange,\n  epochRangeToFilter,\n  timeOlderThan\n} from \"../../utils/time\";\n\nconst NEW_TIME = 24 * 60 * 60; // 1 day\nconst isNew = created => {\n  return !timeOlderThan(created * 1000, NEW_TIME);\n};\n\nconst SCOT_API = \"/scot/api/v2/\";\n\nexport default class ThingList extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      loading: false\n    };\n  }\n\n  static propTypes = {\n    thingType: PropTypes.string.isRequired, // Type to query\n    title: PropTypes.string.isRequired, // Title of Widget\n    queryOptions: PropTypes.object, // Search query options (sort & filter)\n    processData: PropTypes.func, // Function to process data\n    getSummary: PropTypes.func, // Function to create a summary from data entry\n    getLink: PropTypes.func, // Funciton to create a link from data entry\n    emptyString: PropTypes.string, // String to show when no data returned\n    emptyStyle: PropTypes.oneOf([\"success\", \"info\", \"warning\", \"danger\"]), // Style of emptyString\n    newBadge: PropTypes.bool, // Display a badge if the data entry is newer than a day\n    editMode: PropTypes.bool, // Whether the dashboard is in edit mode\n    errorToggle: PropTypes.func\n  };\n\n  static defaultProps = {\n    queryOptions: {\n      limit: 5,\n      offset: 0,\n      sort: {\n        id: -1\n      },\n      columns: [\"id\", \"subject\"]\n    },\n    processData: data => {\n      return data;\n    },\n    getSummary: thing => {\n      return thing.subject;\n    },\n    getLink: (thingType, thing) => {\n      return `${thingType}/${thing.id}`;\n    },\n    emptyString: \"No Data\",\n    emptyStyle: \"warning\",\n    newBadge: true\n  };\n\n  fetchData() {\n    this.setState({\n      loading: true\n    });\n\n    // Force deep copy\n    let data = $.extend(true, {}, this.props.queryOptions);\n    if (data.sort) {\n      data.sort = JSON.stringify(data.sort);\n    }\n\n    if (data.filter) {\n      data = {\n        ...data,\n        ...data.filter\n      };\n      delete data.filter;\n    }\n\n    if (this.props.newBadge) {\n      data.columns.push(\"created\");\n    }\n\n    $.ajaxSetup({ traditional: true });\n    $.ajax({\n      type: \"get\",\n      url: SCOT_API + this.props.thingType,\n      data: data\n    }).then(\n      data => {\n        this.setState({\n          data: this.props.processData(data.records),\n          loading: false\n        });\n      },\n      error => {\n        this.props.errorToggle(\"Failed to fetch data: \" + error);\n        this.setState({\n          loading: false\n        });\n      }\n    );\n  }\n\n  componentDidMount() {\n    if (!this.props.editMode) {\n      this.fetchData();\n    }\n  }\n\n  genThingItem(thing, i) {\n    // Using this instead of a subcomponent so I don't have to forward all the props\n    return (\n      <Link\n        key={i}\n        to={this.props.getLink(this.props.thingType, thing)}\n        className=\"list-group-item\"\n      >\n        {this.props.getSummary(thing)}\n        {this.props.newBadge &&\n          isNew(thing.created) && <Label bsStyle=\"primary\">New!</Label>}\n        <i className=\"fa fa-angle-right\" />\n      </Link>\n    );\n  }\n\n  render() {\n    let things = this.state.data.map((thing, i) => this.genThingItem(thing, i));\n    if (this.props.editMode) {\n      things = [1, 2, 3, 4, 5].map(thing => (\n        <div className=\"list-group-item\">\n          {this.props.thingType} - {thing}\n        </div>\n      ));\n    } else if (things.length === 0) {\n      things = (\n        <div\n          className={`list-group-item list-group-item-${this.props.emptyStyle}`}\n        >\n          {this.props.emptyString}\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"ThingList\">\n        {!this.props.editMode && <h1>{this.props.title}</h1>}\n        {this.state.loading ? (\n          <LoadingContainer loading={true} />\n        ) : (\n          <ListGroup>{things}</ListGroup>\n        )}\n      </div>\n    );\n  }\n}\n\n/**\n * Hardcoded variants of Thinglist\n */\nexport const Widgets = () => {\n  return {\n    ...RecentIntel,\n    ...RecentEvents,\n    ...RecentIncidents,\n    ...OpenTasks,\n    ...YourTasks,\n    ...UnviewedAlerts,\n    ...TopEvents,\n    ...ViewedEvents,\n    ...EntryEvents\n  };\n};\n\nexport const RecentIntel = {\n  intel: {\n    type: ThingList,\n    title: \"Recent Intel\",\n    description: \"List of the 5 most recent Intel entries\",\n    props: {\n      thingType: \"intel\",\n      title: \"Recent Intel\"\n    }\n  }\n};\n\nexport const RecentEvents = {\n  events: {\n    type: ThingList,\n    title: \"Recent Events\",\n    description: \"List of the 5 most recent events\",\n    props: {\n      thingType: \"event\",\n      title: \"Recent Events\"\n    }\n  }\n};\n\nexport const RecentIncidents = {\n  incidents: {\n    type: ThingList,\n    title: \"Recent Incidents\",\n    description: \"List of the 5 most recent Incidents\",\n    props: {\n      thingType: \"incident\",\n      title: \"Recent Incidents\"\n    }\n  }\n};\n\nexport const OpenTasks = {\n  tasks: {\n    type: ThingList,\n    title: \"Open Tasks\",\n    description: \"List of recent open tasks\",\n    props: {\n      thingType: \"task\",\n      title: \"Open Tasks\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          updated: -1\n        },\n        filter: {\n          \"metadata.task.status\": \"open\"\n        },\n        columns: [\"id\", \"body_plain\", \"target\"]\n      },\n      getSummary: thing => {\n        return thing.body_plain.length > 200\n          ? thing.body_plain.substr(0, 200) + \"...\"\n          : thing.body_plain;\n      },\n      getLink: (thingType, thing) => {\n        let target = thing.target;\n        return `${thingType}/${target.type}/${target.id}/${thing.id}`;\n      },\n      emptyString: \"None\",\n      emptyStyle: \"info\"\n    }\n  }\n};\n\nexport const YourTasks = {\n  yourTasks: {\n    type: ThingList,\n    title: \"Your Tasks\",\n    description: \"List of open tasks that you own\",\n    props: {\n      thingType: \"task\",\n      title: \"Your Tasks\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          updated: 1\n        },\n        filter: {\n          \"metadata.task.status\": \"open\",\n          owner: SessionStorage.getLocalStorage(\"whoami\")\n        },\n        columns: [\"id\", \"body_plain\", \"target\"]\n      },\n      getSummary: thing => {\n        return thing.body_plain.length > 200\n          ? thing.body_plain.substr(0, 200) + \"...\"\n          : thing.body_plain;\n      },\n      getLink: (thingType, thing) => {\n        let target = thing.target;\n        return `${thingType}/${target.type}/${target.id}/${thing.id}`;\n      },\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const UnviewedAlerts = {\n  unviewedAlerts: {\n    type: ThingList,\n    title: \"Unviewed Alerts\",\n    description: \"Recent alerts with zero views\",\n    props: {\n      thingType: \"alertgroup\",\n      title: \"Unviewed Alerts\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          id: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(todayRange())),\n          views: 0\n        },\n        columns: [\"id\", \"subject\"]\n      },\n      newBadge: false,\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const TopEvents = {\n  topEvents: {\n    type: ThingList,\n    title: \"Important Events\",\n    description: \"Recent Events with open tasks\",\n    props: {\n      thingType: \"event\",\n      title: \"Important Events\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          has_tasks: 1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(todayRange()))\n        },\n        columns: [\"id\", \"subject\", \"has_tasks\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.has_tasks);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.has_tasks} open task${\n          thing.has_tasks > 1 ? \"s\" : \"\"\n        })`;\n      },\n      newBadge: false,\n      emptyString: \"None!\",\n      emptyStyle: \"success\"\n    }\n  }\n};\n\nexport const ViewedEvents = {\n  viewedEvents: {\n    type: ThingList,\n    title: \"Most Viewed Events\",\n    description: \"Events with the most views over the last week\",\n    props: {\n      thingType: \"event\",\n      title: \"Most Viewed Events\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          views: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(lastWeekRange()))\n        },\n        columns: [\"id\", \"subject\", \"views\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.views > 0);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.views} view${\n          thing.views > 1 ? \"s\" : \"\"\n        })`;\n      }\n    }\n  }\n};\n\nexport const EntryEvents = {\n  entryEvents: {\n    type: ThingList,\n    title: \"Events with Entries\",\n    description: \"Events with the most entries over the last week\",\n    props: {\n      thingType: \"event\",\n      title: \"Events with Entries\",\n      queryOptions: {\n        limit: 5,\n        offset: 0,\n        sort: {\n          entry_count: -1\n        },\n        filter: {\n          created: JSON.stringify(epochRangeToFilter(lastWeekRange()))\n        },\n        columns: [\"id\", \"subject\", \"entry_count\"]\n      },\n      processData: data => {\n        return data.filter(thing => thing.entry_count > 0);\n      },\n      getSummary: thing => {\n        return `${thing.subject} (${thing.entry_count} ${\n          thing.entry_count > 1 ? \"entries\" : \"entry\"\n        })`;\n      }\n    }\n  }\n};\n","import { ReportWidgets } from \"../report\";\nimport { Widgets as ThingWidgets } from \"../thinglist\";\n\nexport const Widgets = {\n  ...ThingWidgets(),\n  ...ReportWidgets()\n};\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Tab, Row, Col, Nav, NavItem } from \"react-bootstrap\";\nimport {\n    withUserConfig,\n    UserConfigPropTypes,\n    UserConfigKeys\n} from \"../utils/userConfig\";\nimport Dashboard, {\n    defaultLayout\n} from \"../components/dashboard/dazzle/dashboard\";\nimport Status from \"../components/dashboard/status\";\nimport Gamification from \"../components/dashboard/gamification\";\nimport Activity from \"../components/dashboard/activity\";\nimport { Widgets } from \"../components/dashboard/dazzle/widgets\";\nimport $ from \"jquery\";\n\nconst NEWTABKEY = \"new\";\n\nclass HomeDashboard extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            _isMounted: false\n        };\n\n        this.switchTab = this.switchTab.bind(this);\n        this.closeTab = this.closeTab.bind(this);\n        this.saveTab = this.saveTab.bind(this);\n    }\n\n    static propTypes = {\n        loggedIn: PropTypes.bool.isRequired,\n        sensitivity: PropTypes.string,\n        errorToggle: PropTypes.func,\n        ...UserConfigPropTypes\n    };\n\n    defaultTab() {\n        const layout = $.extend(true, {}, defaultLayout); // Deep copy\n\n        // Default tab has 3 charts: heatmap, ART, and created\n        layout.rows[0].columns[0].widgets.push({ key: \"heatmap\" });\n        layout.rows[0].columns[1].widgets.push({ key: \"art\" });\n        layout.rows[0].columns[2].widgets.push({ key: \"created\" });\n\n        return {\n            title: \"Default\",\n            layout: (\n                <Dashboard\n                    widgets={Widgets}\n                    title=\"Default\"\n                    layout={layout}\n                    errorToggle={this.props.errorToggle}\n                />\n            )\n        };\n    }\n\n    newTab() {\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n        tabs.push({});\n\n        this.updateDashboardConfig({\n            curTab: tabs.length,\n            tabs: tabs\n        });\n    }\n\n    buildTab(tabConfig, index) {\n        let tabLayout = (\n            <Dashboard\n                widgets={Widgets}\n                title={tabConfig.title}\n                layout={tabConfig.layout}\n                saveDashboard={(title, layout) => {\n                    this.saveTab(index, title, layout);\n                }}\n                isNew={tabConfig.layout == null}\n                errorToggle={this.props.errorToggle}\n            />\n        );\n        return {\n            title: tabConfig.title,\n            layout: tabLayout\n        };\n    }\n\n    saveTab(index, title, layout) {\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n\n        let newTabConfig = {\n            title: title,\n            layout: layout\n        };\n\n        tabs[index] = newTabConfig;\n        this.updateDashboardConfig({\n            tabs: tabs\n        });\n    }\n\n    closeTab(index) {\n        if (index < 1) {\n            return;\n        }\n\n        const dashboardConfig = this.props.userConfig.config;\n        let tabs = [...dashboardConfig.tabs];\n        tabs.splice(index - 1, 1);\n\n        this.updateDashboardConfig({\n            curTab: index - 1,\n            tabs: tabs\n        });\n    }\n\n    switchTab(key) {\n        if (key === this.props.userConfig.config.curTab) {\n            return;\n        }\n        if (key === NEWTABKEY) {\n            this.newTab();\n            return;\n        }\n\n        this.updateDashboardConfig({\n            curTab: key\n        });\n    }\n\n    updateDashboardConfig(newConfig) {\n        const dashboardConfig = this.props.userConfig.config;\n\n        this.props.userConfig.setUserConfig({\n            ...dashboardConfig,\n            ...newConfig\n        });\n    }\n\n    render() {\n        if (!this.props.loggedIn || this.props.userConfig.loading) {\n            return (\n                <div className=\"homePageDisplay\">\n                    <div className=\"home-grid loggedOut\">\n                        <div className=\"title-area\">\n                            <h1>\n                                Sandia Cyber Omni Tracker\n                <br />\n                                3.5\n              </h1>\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n\n        const dashboardHeader = (\n            <div className=\"home-grid\">\n                <div className=\"title-area\" />\n                <Status className=\"status-area\" />\n                <div className=\"game-area\">\n                    <Gamification />\n                </div>\n                <Activity\n                    createCallback={this.props.createCallback}\n                    removeCallback={this.props.removeCallback}\n                    className=\"activity-area\"\n                />\n            </div>\n        );\n\n        const dashboardConfig = this.props.userConfig.config;\n        const tabsConfig = dashboardConfig.tabs;\n\n        let tabs = [];\n        tabs.push(this.defaultTab());\n\n        let index = 0;\n        for (let newTab of tabsConfig) {\n            tabs.push(this.buildTab(newTab, index++));\n        }\n\n        let tabHeaders = tabs.map((tab, i) => {\n            let { title = \"New Dashboard\", layout, ...props } = tab;\n            return (\n                <NavItem eventKey={i} key={i}>\n                    {title}\n                    {i === dashboardConfig.curTab &&\n                        i !== 0 && (\n                            <span onClick={() => this.closeTab(i)}>\n                                &nbsp;\n                <i className=\"fa fa-times\" style={{ cursor: \"pointer\" }} />\n                            </span>\n                        )}\n                </NavItem>\n            );\n        });\n\n        tabHeaders.push(\n            <NavItem eventKey={NEWTABKEY} key={NEWTABKEY}>\n                +\n      </NavItem>\n        );\n\n        const tabContent = tabs.map((tab, i) => {\n            let { title, layout, ...props } = tab;\n            return (\n                <Tab.Pane eventKey={i} key={i} {...props}>\n                    {layout}\n                </Tab.Pane>\n            );\n        });\n\n        return (\n            <div className=\"homePageDisplay\">\n                <Tab.Container\n                    id=\"DashboardTabs\"\n                    activeKey={dashboardConfig.curTab}\n                    onSelect={this.switchTab}\n                >\n                    <Row>\n                        <Col sm={12}>\n                            <Nav bsStyle=\"tabs\">{tabHeaders}</Nav>\n                        </Col>\n                        <Col sm={12}>\n                            <Tab.Content mountOnEnter unmountOnExit>\n                                {dashboardHeader}\n                                {tabContent}\n                            </Tab.Content>\n                        </Col>\n                    </Row>\n                </Tab.Container>\n            </div>\n        );\n    }\n}\n\nexport default withUserConfig(UserConfigKeys.DASHBOARD)(HomeDashboard);\n","//Used to check for viewCookie which is used to determine if the default view should be portrait or landscape mode\n\nexport const checkCookie = string => {\n  let cookie = getCookie(string);\n  if (cookie !== \"\") {\n    return cookie;\n  }\n};\n\nexport const getCookie = cname => {\n  let name = cname + \"=\";\n  let ca = document.cookie.split(\";\");\n  for (let i = 0; i < ca.length; i++) {\n    let c = ca[i];\n    while (c.charAt(0) === \" \") {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) === 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return \"\";\n};\n\nexport const deleteCookie = name => {\n  document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;\";\n};\n\nexport const setCookie = (cname, cvalue, exdays) => {\n  let d = new Date();\n  d.setTime(d.getTime() + exdays * 24 * 60 * 60 * 1000);\n  let expires = \"expires=\" + d.toUTCString();\n  document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n};\n","import React from \"react\";\nimport $ from \"jquery\";\nimport { Link } from 'react-router-dom'\nimport Highlighter from \"react-highlight-words\";\nimport styles from './Highlighter.example.css'\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSearchToolbar: false,\n      searchResults: null,\n      entityHeight: \"60vh\",\n      searching: false,\n      searchString: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    function searchEscHandler(event) {\n      if ($(\"#main-search-results\")[0] !== undefined) {\n        if (event.keyCode === 27) {\n          this.closeSearch();\n          event.preventDefault();\n        }\n      }\n    }\n    $(document).keyup(searchEscHandler.bind(this));\n  };\n\n  closeSearch = () => {\n    this.setState({\n      showSearchToolbar: false, searchString:\"\"\n    });\n  };\n\n  doSearch = string => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/esearch\",\n      data: { qstring: string },\n      success: function (response) {\n        if (string === $(\"#main-search\")[0].value) {\n          this.setState({\n            results: response.records,\n            showSearchToolbar: true,\n            searching: false,\n            searchString: string\n          });\n        }\n      }.bind(this),\n      error: function () {\n        //this.props.errorToggle('search failed')\n        this.setState({ searching: false });\n      }.bind(this)\n    });\n    this.setState({ searching: true });\n  };\n\n  handleEnterKey = e => {\n    if (e.key === \"Enter\") {\n      this.doSearch(e.target.value);\n    }\n  };\n\n  onChange = e => {\n    //only do auto search if there are at least 3 characters\n    //if (e.target.value.length > 2) {\n    this.doSearch(e.target.value);\n    //}\n  };\n\n  componentDidUpdate = () => {\n    if (this.state.searchString !== undefined) {\n      //var re = new RegExp(this.state.searchString,\"gi\");\n      //$(\".search-snippet\").html(function(_, html) {\n      //    return html.replace(re, '<span class=\"search_highlight\">$&</span>');\n      //});\n      // $(\".search-snippet\").mark(this.state.searchString, {\n      //   element: \"span\",\n      //   className: \"search_highlight\"\n      // });\n    }\n  };\n\n  render = () => {\n    let tableRows = [];\n    if (this.state.results !== undefined) {\n      if (this.state.results[0] !== undefined) {\n        for (let i = 0; i < this.state.results.length; i++) {\n          tableRows.push(\n            <SearchDataEachRows\n              dataOne={this.state.results[i]}\n              key={i}\n              index={i}\n              searchString={this.state.searchString}\n            />\n          );\n        }\n      } else {\n        tableRows.push(\n          <div style={{ display: \"inline-flex\" }}>\n            <div style={{ display: \"flex\" }}>No results returned</div>\n          </div>\n        );\n      }\n    }\n    return (\n      <div className=\"esearch\" style={{ zIndex: '100' }} >\n        <div style={{ display: \"flex\" }}>\n          <input\n            id=\"main-search\"\n            className=\"esearch-query\"\n            style={{\n              marginTop: \"3px\",\n              padding: \"10px 10px\",\n              float: \"right\",\n              position: \"relative\",\n              color: 'black'\n            }}\n            placeholder=\"&#xF002; Search\"\n            charSet=\"utf-8\"\n            onKeyPress={this.handleEnterKey}\n            onChange={this.onChange}\n          />\n          {this.state.searching ? (\n            <i\n              className=\"fa fa-spinner fa-spin fa-3x fa-fw\"\n              style={{ color: \"white\" }}\n            />\n          ) : null}\n        </div>\n        {this.state.showSearchToolbar ? (\n          <div\n            id=\"main-search-results\"\n            style={{\n              display: \"flex\",\n              flexFlow: \"row\",\n              position: \"absolute\",\n              right: \"10px\",\n              top: \"53px\",\n              background: \"#f3f3f3\",\n              border: \"black\",\n              borderStyle: \"solid\"\n            }}\n          >\n            <div>\n              <SearchDataEachHeader closeSearch={this.closeSearch} />\n              <div\n                style={{\n                  overflowY: \"auto\",\n                  maxHeight: \"600px\",\n                  display: \"table-caption\"\n                }}\n              >\n\n                {tableRows}\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n\n  componentWillUnmount = () => {\n    $(document).off(\"keypress\");\n  };\n}\n\nclass SearchDataEachHeader extends React.Component {\n  render = () => {\n\n    return (\n      <div\n        className=\"table-row header\"\n        style={{ color: \"black\", display: \"flex\" }}\n      >\n        <div style={{ flexGrow: 1, display: \"flex\" }}>\n          <div\n            style={{\n              width: \"100%\",\n              textAlign: \"left\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n              whiteSpace: \"nowrap\"\n            }}\n          >\n            Search Results - Score Displayed\n            <i\n              className=\"fa fa-times pull-right\"\n              style={{ color: \"red\", margin: \"2px\", cursor: \"pointer\" }}\n              onClick={this.props.closeSearch}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n\nclass SearchDataEachRows extends React.Component {\n  render = () => {\n    let type = this.props.dataOne.type;\n    let id = this.props.dataOne.id;\n    let entryid = this.props.dataOne.entryid;\n    let score = this.props.dataOne.score;\n    let highlight = [];\n\n    let rowEvenOdd = \"even\";\n    if (!isEven(this.props.index)) {\n      rowEvenOdd = \"odd\";\n    }\n\n    let rowClassName = \"search_result_row list-view-row\" + rowEvenOdd;\n\n    let href = \"/\" + type + \"/\" + id;\n    if (entryid !== undefined) {\n      href = \"/\" + type + \"/\" + id + \"/\" + entryid;\n    }\n\n    if (this.props.dataOne.highlight !== undefined) {\n      if (typeof this.props.dataOne.highlight === \"string\") {\n        highlight.push(\n          <span className=\"search_snippet_container panel col\">\n            <span className=\"search_snippet_header\">Snippet:</span>\n            <span className=\"search_snippet_result\">\n              {this.props.dataOne.highlight}\n            </span>\n          </span>\n        );\n      } else if ($.isArray(this.props.dataOne.highlight)) {\n        highlight.push(\n          <span className=\"search_snippet_container panel col\">\n            <span className=\"search_snippet_header\">Snippet:</span>\n            <span className=\"search_snippet_result\">\n              {this.props.dataOne.highlight[0]}\n            </span>\n          </span>\n        );\n      } else {\n        for (let key in this.props.dataOne.highlight) {\n          let search_string_array = this.props.searchString.split(\" \");\n          highlight.push(\n            <Highlighter\n              activeClassName={styles.Active}\n              highlightClassName=\"search_snippet_result\"\n              className=\"search_snippet_result\"\n              searchWords={search_string_array}\n              autoEscape={true}\n              textToHighlight={this.props.dataOne.highlight[key][0]}\n              highlightClassName={styles.Highlight}\n              highlightStyle={{ backgroundColor: 'yellow' }}\n            />\n          );\n        }\n      }\n    }\n    return (\n      <div key={Date.now()} className={rowClassName}>\n        <Link to={href} style={{ display: \"flex\" }}>\n          <span\n            className=\"panel panel-default\"\n            style={{\n              display: \"flex\",\n              flexFlow: \"column\",\n              borderColor: \"black\",\n              borderWidth: \"thin\",\n              margin: \"0px\"\n            }}\n          >\n            <div className=\"panel-heading h4 search-heading\">\n              {type} {id} - {score}\n            </div>\n            <div\n              className=\"search-snippet\"\n              style={{\n                display: \"flex\",\n                overflowX: \"hidden\",\n                wordWrap: \"break-word\"\n              }}\n            >\n              <span\n                className=\"container-fluid\"\n                style={{\n                  textAlign: \"left\",\n                  overflow: \"hidden\",\n                  textOverflow: \"ellipsis\",\n                  width: \"600px\"\n                }}\n              >\n                {highlight}\n              </span>\n            </div>\n          </span>\n        </Link>\n      </div>\n    );\n    /*\n        return (\n            <div key={Date.now()} className={rowClassName}>\n                <a href={href} style={{display:'flex'}}>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{id}</span>\n                    </div>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{type}</span>\n                    </div>\n                    <div style={{display:'flex'}}>\n                        <span style={{width:'100px', textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', whiteSpace:'nowrap'}}>{score}</span>\n                    </div>\n                    <div className='search-snippet' style={{display:'flex', overflowX:'hidden',wordWrap:'break-word'}}>\n                        <span className='row' style={{textAlign:'left', overflow:'hidden', textOverflow:'ellipsis', width: '400px'}}>{highlight}</span>\n                    </div>\n                </a>\n            </div>\n        )*/\n  };\n}\n\nfunction isEven(n) {\n  return n % 2 === 0;\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nlet Button = require(\"react-bootstrap/lib/Button\");\n\nexport default class Wall extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      wallMessage: \"\",\n      buttonStatus: \"primary\",\n      buttonText: \"Send\",\n      buttonLoading: false\n    };\n  }\n  sendWallMessage = () => {\n    if (this.state.wallMessage === \"\") {\n      alert(\"Please enter text\");\n      this.setState({ buttonStatus: \"warning\" });\n    } else {\n      this.setState({ buttonText: \"Loading\", buttonLoading: true });\n      let data = { msg: this.state.wallMessage };\n      $.ajax({\n        type: \"post\",\n        url: \"scot/api/v2/wall\",\n        data: data,\n        traditional: true,\n        success: function() {\n          this.setState({\n            buttonStatus: \"success\",\n            buttonText: \"Sent\",\n            buttonLoading: false\n          });\n        }.bind(this),\n        error: function(data) {\n          this.setState({\n            buttonStatus: \"danger\",\n            buttonText: \"Failed - Try Again?\",\n            buttonLoading: false\n          });\n          this.props.errorToggle(\"Failed to send message\", data);\n        }.bind(this)\n      });\n    }\n  };\n\n  inputChange = input => {\n    this.setState({ wallMessage: input.target.value });\n  };\n\n  render = () => {\n    return (\n      <div className=\"allComponents\" style={{ \"margin-left\": \"17px\" }}>\n        <div>\n          <div>\n            <div className=\"main-header-info-child\">\n              <h2 htmlFor=\"message\">Message to all SCOT users:</h2>\n              <input\n                id=\"message\"\n                style={{ width: \"700px\" }}\n                placeholder=\"Enter message to be displayed to everyone using SCOT\"\n                value={this.state.wallMessage}\n                onChange={this.inputChange}\n              />\n              <Button\n                onClick={this.sendWallMessage}\n                bsStyle={this.state.buttonStatus}\n                disabled={this.state.buttonLoading}\n              >\n                {this.state.buttonText}\n              </Button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n}\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport $ from \"jquery\";\nimport ScotImage from \"../images/scot_logo_473x473.png\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      user: \"\",\n      pass: \"\"\n    };\n    this.SSO = this.SSO.bind(this);\n    this.NormalAuth = this.NormalAuth.bind(this);\n    this.isEnterPressed = this.isEnterPressed.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    let origurl = this.props.origurl;\n    let url = \"/sso?orig_url=/#\" + origurl;\n    return (\n      <Modal dialogClassName=\"login-modal\" show={this.props.modalActive}>\n        <Modal.Header>\n          <Modal.Title style={{ textAlign: \"center\" }}>SCOT Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body style={{ textAlign: \"center\" }}>\n          <img src={ScotImage} alt=\"SCOT Logo\" />\n          <Button type=\"submit\" href={url}>\n            Sign in using SSO\n          </Button>\n          <br />\n          <br />\n          <div\n            className=\"input-group\"\n            style={{\n              marginBottom: \"25px\",\n              marginRight: \"100px\",\n              marginLeft: \"100px\"\n            }}\n          >\n            <span className=\"input-group-addon\">\n              <i className=\"fa fa-user\" />\n            </span>\n            <input\n              id=\"user\"\n              type=\"user\"\n              ref=\"user\"\n              defaultValue=\"\"\n              className=\"form-control\"\n              placeholder=\"Username or Email\"\n            />\n          </div>\n          <div\n            className=\"input-group\"\n            style={{\n              marginBottom: \"25px\",\n              marginRight: \"100px\",\n              marginLeft: \"100px\"\n            }}\n          >\n            <span className=\"input-group-addon\">\n              <i className=\"fa fa-lock\" />\n            </span>\n            <input\n              id=\"pass\"\n              type=\"password\"\n              ref=\"pass\"\n              defaultValue=\"\"\n              placeholder=\"Password\"\n              className=\"form-control\"\n              onKeyPress={this.isEnterPressed}\n            />\n          </div>\n          <Button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n            onClick={this.NormalAuth}\n            style={{ marginBottom: \"25px\", width: \"140px\" }}\n          >\n            Submit\n          </Button>\n          <br />\n        </Modal.Body>\n      </Modal>\n    );\n  }\n  isEnterPressed(e) {\n    if (e.key === \"Enter\") {\n      this.NormalAuth();\n    }\n  }\n\n  SSO() {\n    let data = {};\n    data[\"orig_url\"] = \"%2f\";\n    $.ajax({\n      type: \"get\",\n      url: \"sso\",\n      crossDomain: true,\n      data: data,\n      success: function(data) {\n        console.log(\"success logging in\");\n        //TODO: Run restart code\n        // Actions.restartClient(); //restart the amq client after successful login\n        this.props.WhoAmIQuery(); //get new whoami after successful login\n        this.props.GetHandler(); //get new handler after succesful login\n        this.props.loginToggle(null, true);\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to log in using SSO\");\n      }.bind(this)\n    });\n  }\n\n  NormalAuth() {\n    let data = {};\n    data[\"user\"] = this.refs.user.value;\n    data[\"pass\"] = this.refs.pass.value;\n    data[\"csrf_token\"] = this.props.csrf;\n\n    $.ajax({\n      type: \"post\",\n      url: \"auth\",\n      data: data,\n      success: function() {\n        console.log(\"success logging in\");\n        //TODO: Implemtn restart script\n        //Actions.restartClient(); //restart the amq client after successful login\n        this.props.WhoAmIQuery(); //get new whoami after successful login\n        this.props.GetHandler(); //get new handler after succesful login\n        this.props.loginToggle(null, true);\n      }.bind(this),\n      error: function(data) {\n        if (data.responseText === \"Failed CSRF check\") {\n          this.props.errorToggle(\n            \"Failed to log in due to bad CSRF token. Please reload the page and then log in. Error: \" +\n              data.responseText\n          );\n        } else {\n          this.props.errorToggle(\n            \"Failed to log in using normal auth: \" + data.responseText\n          );\n        }\n      }.bind(this)\n    });\n  }\n}\n\nLogin.propTypes = {\n  modalActive: PropTypes.bool\n};\n\nLogin.defaultProps = {\n  modalActive: true\n};\n\nexport default Login;\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport ReactTags from \"react-tag-autocomplete\";\nimport $ from \"jquery\";\n\nclass TagInput extends Component {\n  constructor(props) {\n    super(props);\n\n    let tags = [];\n    if (this.props.value) {\n      tags = this.props.value;\n    }\n\n    let maxTags = undefined;\n    if (this.props.maxTags) {\n      maxTags = this.props.maxTags;\n    }\n    this.state = {\n      suggestions: [],\n      tags: tags,\n      maxTags: maxTags,\n      placeholder: \"\"\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAdd = this.handleAdd.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.showHideInput = this.showHideInput.bind(this);\n  }\n\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    type: PropTypes.oneOf([\"source\", \"tag\", \"userdef\"]).isRequired,\n    value: PropTypes.array.isRequired\n  };\n\n  handleDelete(i) {\n    const tags = this.state.tags;\n\n    tags.splice(i, 1);\n    if (tags.length === 0) {\n      this.props.onChange(\"\");\n      this.setState({ tags: tags, placeholder: \"\" });\n      return;\n    }\n\n    this.props.onChange(tags);\n    this.setState({ tags: tags, placeholder: \"\" });\n  }\n\n  handleAdd(tag) {\n    const tags = this.state.tags;\n\n    if (this.state.maxTags && tags.length >= this.state.maxTags) {\n      this.setState({\n        placeholder:\n          \"Only \" +\n          this.state.maxTags +\n          \" allowed. Please delete a tag to add another one\"\n      });\n      return;\n    } else {\n      tags.push(tag);\n      this.props.onChange(tags);\n      this.setState({ tags: tags, placeholder: \"\" });\n    }\n  }\n\n  componentDidUpdate() {\n    this.showHideInput();\n  }\n\n  handleInputChange(input) {\n    if (input && input.length >= 2) {\n      let arr = [];\n      $.ajax({\n        type: \"get\",\n        url: \"/scot/api/v2/ac/\" + this.props.type + \"/\" + input,\n        success: function(result) {\n          result = result.records;\n          for (let i = 0; i < result.length; i++) {\n            let obj = {};\n            obj.id = i + 1;\n            obj.name = result[i];\n            arr.push(obj);\n          }\n          this.setState({ suggestions: arr });\n        }.bind(this),\n        error: function(data) {\n          console.log(\"failed to get autocomplete data\");\n        }\n      });\n    }\n  }\n\n  showHideInput() {\n    if (\n      this.props.type === \"userdef\" &&\n      this.props.maxTags &&\n      this.state.tags.length >= this.props.maxTags\n    ) {\n      $(\".react-tags__search\").hide();\n    } else {\n      $(\".react-tags__search\").show();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"TagInput\">\n        <ReactTags\n          tags={this.state.tags}\n          suggestions={this.state.suggestions}\n          handleAddition={this.handleAdd}\n          handleDelete={this.handleDelete}\n          handleInputChange={this.handleInputChange}\n          autoresize={false}\n          autofocus={false}\n          allowBackspace={false}\n          allowNew={true}\n          placeholder={this.state.placeholder}\n          tagComponent={Tag}\n        />\n      </div>\n    );\n  }\n}\n\nconst Tag = ({ classNames, onDelete, tag }) => (\n  <div className={classNames.selectedTag}>\n    <span className={classNames.selectedTagName}>{tag.name}</span>\n    <i className={\"fa fa-remove\"} aria-hidden=\"true\" onClick={onDelete} />\n  </div>\n);\n\nexport default TagInput;\n","import axios from 'axios'\n\nexport async function get_data (endpoint, params) {\n    if (params === null) {\n        return await axios.get(endpoint)\n    } else{\n        return await axios.get(endpoint, {params: params});\n    }\n};\n\nexport async function post_data (endpoint, body) {\n    if (body !== null){\n        return await axios.post(endpoint, body);\n    } else{\n        return await axios.post(endpoint);\n    }\n\n}\n\nexport async function  put_data (endpoint, body){\n    return await axios.put(endpoint, body);\n};\n\nexport async function delete_data (endpoint){\n     return await axios.delete(endpoint);\n};","import React from \"react\";\nimport { OverlayTrigger, ButtonGroup, Button, Popover } from \"react-bootstrap\";\nimport DateRangePicker from \"react-daterange-picker\";\nimport DebounceInput from \"react-debounce-input\";\nimport {\n  epochRangeToString,\n  epochRangeToMoment,\n  momentRangeToEpoch\n} from \"../utils/time\";\nimport * as constants from \"../utils/constants\";\nimport LoadingContainer from \"./LoadingContainer\";\nimport TagInput from \"../components/TagInput\";\nimport Button2 from \"@material-ui/core/Button\";\nimport { get_data } from \"../utils/XHR\";\nimport Add from \"@material-ui/icons/Add\";\n\nconst navigateTo = id => {\n  window.open(\"#/event/\" + id);\n};\n\nconst customFilters = {\n  numberFilter: ({ filter, onChange }) => (\n    <DebounceInput\n      debounceTimeout={200}\n      type=\"number\"\n      minLength={1}\n      min={0}\n      value={filter ? filter.value : \"\"}\n      onChange={e => onChange(e.target.value)}\n      style={{ width: \"100%\" }}\n    />\n  ),\n  stringFilter: ({ filter, onChange }) => (\n    <DebounceInput\n      debounceTimeout={200}\n      minLength={1}\n      value={filter ? filter.value : \"\"}\n      onChange={e => onChange(e.target.value)}\n      style={{ width: \"100%\" }}\n    />\n  ),\n  dropdownFilter: (options = [\"open\", \"closed\", \"promoted\"], align) => ({\n    filter,\n    onChange\n  }) => (\n    <OverlayTrigger\n      trigger=\"focus\"\n      placement=\"bottom\"\n      overlay={\n        <Popover id=\"status_popover\" style={{ maxWidth: \"400px\" }}>\n          <ButtonGroup\n            vertical\n            style={{\n              maxHeight: \"50vh\",\n              overflowY: \"auto\",\n              position: \"relative\"\n            }}\n          >\n            {options.map(option => (\n              <Button\n                key={option}\n                onClick={() => onChange(option)}\n                active={filter && filter.value === option}\n                style={{\n                  textTransform: \"capitalize\",\n                  textAlign: align ? align : null\n                }}\n              >\n                {option}\n              </Button>\n            ))}\n          </ButtonGroup>\n          {filter && (\n            <Button\n              block\n              onClick={() => onChange(\"\")}\n              bsStyle=\"primary\"\n              style={{ marginTop: \"3px\" }}\n            >\n              Clear\n            </Button>\n          )}\n        </Popover>\n      }\n    >\n      <input\n        type=\"text\"\n        value={filter ? filter.value : \"\"}\n        readOnly\n        style={{ width: \"100%\", cursor: \"pointer\" }}\n      />\n    </OverlayTrigger>\n  ),\n  dateRange: ({ filter, onChange }) => (\n    <OverlayTrigger\n      trigger=\"click\"\n      rootClose\n      placement=\"bottom\"\n      overlay={\n        <Popover id=\"daterange_popover\" style={{ maxWidth: \"350px\" }}>\n          <DateRangePicker\n            numberOfCalendars={2}\n            selectionType=\"range\"\n            showLegend={false}\n            singleDateRange={true}\n            onSelect={(range, states) => {\n              onChange(momentRangeToEpoch(range));\n            }}\n            value={filter ? epochRangeToMoment(filter.value) : null}\n          />\n          {filter && (\n            <Button\n              block\n              onClick={() => {\n                onChange(\"\");\n                document.dispatchEvent(new MouseEvent(\"click\"));\n              }}\n              bsStyle=\"primary\"\n            >\n              Clear\n            </Button>\n          )}\n        </Popover>\n      }\n    >\n      <input\n        type=\"text\"\n        value={filter ? epochRangeToString(filter.value) : \"\"}\n        readOnly\n        style={{ width: \"100%\", cursor: \"pointer\" }}\n      />\n    </OverlayTrigger>\n  ),\n  tagFilter: (type = \"tag\") => ({ filter, onChange }) => (\n    <TagInput\n      type={type}\n      onChange={onChange}\n      value={filter ? filter.value : []}\n    />\n  )\n};\n\nexport const customCellRenderers = {\n  dateFormater: row => {\n    let date = new Date(row.value * 1000);\n    return <span>{date.toLocaleString()}</span>;\n  },\n  alertStatus: row => {\n    let [open, closed, promoted] = row.value\n      .split(\"/\")\n      .map(value => parseInt(value.trim(), 10));\n    let className = \"open btn-danger\";\n    if (promoted) {\n      className = \"promoted btn-warning\";\n    } else if (closed) {\n      if (!open) {\n        className = \"closed btn-success\";\n      }\n    }\n\n    return <div className={`alertStatusCell ${className}`}>{row.value}</div>;\n  },\n  textStatus: row => {\n    let color = \"green\";\n    if (\n      row.value === \"open\" ||\n      row.value === \"disabled\" ||\n      row.value === \"assigned\"\n    ) {\n      color = \"red\";\n    } else if (row.value === \"promoted\") {\n      color = \"orange\";\n    }\n\n    return <span style={{ color: color }}>{row.value}</span>;\n  },\n\n  alertStatusAlerts: row => {\n    return (\n      <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n        <PromotionButton row={row} />\n      </div>\n    );\n  },\n  flairCell: row => {\n    return <FlairObject value={row.value} />;\n  }\n};\n\nconst customTableComponents = {\n  loading: ({ loading }) => (\n    <div className={\"-loading\" + (loading ? \" -active\" : \"\")}>\n      <LoadingContainer loading={loading} />\n    </div>\n  )\n};\n\nconst columnDefinitions = {\n  Id: {\n    Header: \"ID\",\n    accessor: \"id\",\n    maxWidth: 80,\n    Filter: customFilters.numberFilter\n  },\n\n  AlertStatus: {\n    Header: \"Status\",\n    accessor: d =>\n      d.open_count + \" / \" + d.closed_count + \" / \" + d.promoted_count,\n    column: [\"open_count\", \"closed_count\", \"promoted_count\"],\n    id: \"status\",\n    maxWidth: 150,\n    Filter: customFilters.dropdownFilter(),\n    Cell: customCellRenderers.alertStatus,\n    style: {\n      padding: 0\n    }\n  },\n\n  EventStatus: {\n    Header: \"Status\",\n    accessor: \"status\",\n    maxWidth: 100,\n    Cell: customCellRenderers.textStatus,\n    Filter: customFilters.dropdownFilter()\n  },\n\n  IncidentStatus: {\n    Header: \"Status\",\n    accessor: \"status\",\n    maxWidth: 100,\n    Cell: customCellRenderers.textStatus,\n    Filter: customFilters.dropdownFilter([\"open\", \"closed\"])\n  },\n\n  SigStatus: {\n    Header: \"Status\",\n    accessor: \"status\",\n    maxWidth: 100,\n    Cell: customCellRenderers.textStatus,\n    Filter: customFilters.dropdownFilter([\"enabled\", \"disabled\"])\n  },\n\n  TaskStatus: {\n    Header: \"Task Status\",\n    accessor: d => d.metadata.task.status,\n    id: \"metadata.task.status\",\n    column: \"metadata\",\n    Cell: customCellRenderers.textStatus,\n    Filter: customFilters.dropdownFilter([\"open\", \"assigned\", \"closed\"])\n  },\n\n  TaskSummary: {\n    Header: \"Task Summary\",\n    accessor: d =>\n      d.body_plain.length > 200\n        ? d.body_plain.substr(0, 200) + \"...\"\n        : d.body_plain,\n    id: \"summary\",\n    minWidth: 400,\n    maxWidth: 5000,\n    Filter: customFilters.stringFilter\n  },\n\n  Subject: {\n    Header: \"Subject\",\n    accessor: \"subject\",\n    minWidth: 400,\n    maxWidth: 5000,\n    Filter: customFilters.stringFilter\n  },\n\n  Location: {\n    Header: \"Location\",\n    accessor: \"location\",\n    minWidth: 80,\n    maxWidth: 180,\n    Filter: customFilters.stringFilter\n  },\n\n  Created: {\n    Header: \"Created\",\n    accessor: \"created\",\n    minWidth: 100,\n    maxWidth: 180,\n    Filter: customFilters.dateRange,\n    Cell: customCellRenderers.dateFormater\n  },\n\n  Updated: {\n    Header: \"Updated\",\n    accessor: \"updated\",\n    minWidth: 100,\n    maxWidth: 180,\n    Filter: customFilters.dateRange,\n    Cell: customCellRenderers.dateFormater\n  },\n\n  Occurred: {\n    Header: \"When\",\n    accessor: \"when\",\n    minWidth: 100,\n    maxWidth: 180,\n    Filter: customFilters.dateRange,\n    Cell: customCellRenderers.dateFormater\n  },\n\n  Sources: {\n    Header: \"Sources\",\n    accessor: \"source\", //d => d.source ? d.source.join( ', ' ) : '',\n    column: \"source\",\n    id: \"source\",\n    minWidth: 120,\n    //maxWidth: 150,\n    Filter: customFilters.tagFilter(\"source\")\n  },\n\n  Tags: {\n    Header: \"Tags\",\n    accessor: \"tag\", //d => d.tag ? d.tag.join( ', ' ) : '',\n    column: \"tag\",\n    id: \"tag\",\n    minWidth: 120,\n    //maxWidth: 150,\n    Filter: customFilters.tagFilter(\"tag\")\n  },\n\n  TaskOwner: {\n    Header: \"Task Owner\",\n    accessor: \"owner\",\n    maxWidth: 80,\n    Filter: customFilters.stringFilter\n  },\n\n  Owner: {\n    Header: \"Owner\",\n    accessor: \"owner\",\n    maxWidth: 80,\n    Filter: customFilters.stringFilter\n  },\n\n  Entries: {\n    Header: \"Entries\",\n    accessor: \"entry_count\",\n    maxWidth: 70,\n    Filter: customFilters.numberFilter\n  },\n\n  Views: {\n    Header: \"Views\",\n    accessor: \"views\",\n    maxWidth: 70,\n    Filter: customFilters.numberFilter\n  },\n\n  DOE: {\n    Header: \"DOE\",\n    accessor: \"doe_report_id\",\n    maxWidth: 100,\n    Filter: customFilters.stringFilter\n  },\n\n  IncidentType: {\n    Header: \"Type\",\n    accessor: \"type\",\n    minWidth: 200,\n    maxWidth: 250,\n    Filter: customFilters.dropdownFilter(constants.INCIDENT_TYPES, \"left\")\n  },\n\n  AppliesTo: {\n    Header: \"Applies To\",\n    accessor: \"applies_to\",\n    // Filter: customFilters.stringFilter,\n    Filter: customFilters.tagFilter,\n    minWidth: 400,\n    maxWidth: 5000\n  },\n\n  Value: {\n    Header: \"Value\",\n    accessor: \"value\",\n    Filter: customFilters.stringFilter,\n    minWidth: 400,\n    maxWidth: 5000\n  },\n\n  Name: {\n    Header: \"Name\",\n    accessor: \"name\",\n    Filter: customFilters.stringFilter,\n    minWidth: 200,\n    maxWidth: 300\n  },\n\n  Group: {\n    Header: \"Group\",\n    accessor: d =>\n      d.data.signature_group ? d.data.signature_group.join(\", \") : \"\",\n    column: \"signature_group\",\n    id: \"data.signature_group\",\n    Filter: customFilters.stringFilter\n  },\n\n  Type: {\n    Header: \"Type\",\n    accessor: d => d.data.type,\n    id: \"data.type\",\n    Filter: customFilters.stringFilter,\n    minWidth: 100,\n    maxWidth: 150\n  },\n\n  EntityType: {\n    Header: \"Type\",\n    accessor: \"type\",\n    Filter: customFilters.stringFilter,\n    minWidth: 100,\n    maxWidth: 150\n  },\n\n  Description: {\n    Header: \"Description\",\n    // accessor: 'description',\n    accessor: d => d.data.description,\n    Filter: customFilters.stringFilter,\n    minWidth: 400,\n    id: \"data.description\",\n    maxWidth: 5000\n  },\n\n  TargetType: {\n    Header: \"Type\",\n    accessor: d => d.target.type,\n    column: \"target\",\n    id: \"target_type\",\n    Filter: customFilters.stringFilter\n  },\n\n  TargetId: {\n    Header: \"Target Id\",\n    accessor: d => d.target.id,\n    column: \"target\",\n    id: \"target_id\",\n    Filter: customFilters.numberFilter\n  },\n\n  OpenTasks: {\n    Header: \"Open Tasks\",\n    accessor: \"has_tasks\",\n    Filter: customFilters.numberFilter,\n    maxWidth: 90,\n    filterable: false\n  },\n\n  //alert stuff - 2019 - bemonta\n  Status: {\n    accessor: \"status\",\n    Header: \"Status\",\n    maxWidth: 100,\n    Cell: customCellRenderers.alertStatusAlerts\n  },\n\n  EntryCountColumn: {\n    width: 95,\n    resizable: true,\n    expander: true,\n    filter: false,\n\n    accessor: \"entry_count\",\n    Header: \"Entries\",\n    Expander: ({ isExpanded, ...rest }) => {\n      return (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          {isExpanded ? (\n            <Button2\n              variant=\"contained\"\n              style={{ backgroundColor: \"orange\", color: \"white\" }}\n            >\n              Close entries\n            </Button2>\n          ) : (\n            <div>\n              {rest.original.entry_count == 0 ? (\n                <Add />\n              ) : (\n                // <Button2\n                //   variant=\"contained\"\n                //   size=\"small\"\n                //   style={{ backgroundColor: \"#5cb85c\", color: \"white\" }}\n                // >\n                //   +\n                // </Button2>\n                <Button2\n                  variant=\"contained\"\n                  size=\"small\"\n                  style={{ backgroundColor: \"#5bc0de\", color: \"white\" }}\n                >\n                  {rest.original.entry_count} entries\n                </Button2>\n              )}\n            </div>\n          )}\n        </div>\n      );\n    },\n    getProps: (state, rowInfo, column) => {\n      return {\n        className: \"show-pointer\"\n      };\n    }\n  }\n};\n\nconst defaultTableSettings = {\n  manual: true,\n  sortable: true,\n  filterable: true,\n  resizable: true,\n  styleName: \"styles.ReactTable\",\n  className: \"-striped -highlight\",\n  minRows: 0,\n\n  LoadingComponent: customTableComponents.loading\n};\n\nexport const defaultTypeTableSettings = {\n  page: 0,\n  pageSize: 50,\n  sorted: [\n    {\n      id: \"id\",\n      desc: true\n    }\n  ],\n  filtered: []\n};\n\nconst defaultColumnSettings = {\n  style: {\n    padding: \"5px 5px\"\n  }\n};\n\nconst typeColumns = {\n  alert: [\"Id\", \"Status\", \"EntryCountColumn\"],\n\n  alertgroup: [\n    \"Id\",\n    \"Location\",\n    \"AlertStatus\",\n    \"Subject\",\n    \"Created\",\n    \"Sources\",\n    \"Tags\",\n    \"Views\",\n    \"OpenTasks\"\n  ],\n  event: [\n    \"Id\",\n    \"Location\",\n    \"EventStatus\",\n    \"Subject\",\n    \"Created\",\n    \"Updated\",\n    \"Sources\",\n    \"Tags\",\n    \"Owner\",\n    \"Entries\",\n    \"Views\",\n    \"OpenTasks\"\n  ],\n  incident: [\n    \"Id\",\n    \"Location\",\n    \"DOE\",\n    \"IncidentStatus\",\n    \"Owner\",\n    \"Subject\",\n    \"Occurred\",\n    \"IncidentType\",\n    {\n      title: \"Tags\",\n      options: { minWidth: 100, maxWidth: 150 }\n    },\n    {\n      title: \"Sources\",\n      options: { minWidth: 100, maxWidth: 150 }\n    }\n  ],\n  intel: [\n    \"Id\",\n    \"Location\",\n    \"Subject\",\n    \"Created\",\n    \"Updated\",\n    \"Sources\",\n    {\n      title: \"Tags\",\n      options: { minWidth: 200, maxWidth: 250 }\n    },\n    \"Owner\",\n    \"Entries\",\n    \"Views\"\n  ],\n  task: [\n    \"Id\",\n    \"Location\",\n    \"Subject\",\n    \"TargetType\",\n    \"TargetId\",\n    {\n      title: \"TaskOwner\",\n      options: { minWidth: 150, maxWidth: 500 }\n    },\n    \"TaskStatus\",\n    \"TaskSummary\",\n    {\n      title: \"Updated\",\n      options: { minWidth: 150, maxWidth: 500 }\n    }\n  ],\n  signature: [\n    \"Id\",\n    \"Location\",\n    \"Name\",\n    \"Type\",\n    \"SigStatus\",\n    \"Group\",\n    \"Description\",\n    \"Owner\",\n    \"Tags\",\n    \"Sources\",\n    \"Updated\"\n  ],\n  guide: [\"Id\", \"Location\", \"Subject\", \"AppliesTo\"],\n  entity: [\"Id\", \"Location\", \"Value\", \"EntityType\", \"Entries\"],\n  default: [\n    \"Id\",\n    \"Location\",\n    \"AlertStatus\",\n    \"Subject\",\n    \"Created\",\n    \"Sources\",\n    \"Tags\",\n    \"Views\"\n  ]\n};\n\nexport const buildTypeColumns = (type, rowData, propData, flag) => {\n  if (!typeColumns.hasOwnProperty(type)) {\n    // throw new Error( 'No columns defined for type: '+ type );\n    type = \"default\";\n  }\n\n  if (flag === false && type === \"alert\") {\n    type = \"alertgroup\";\n  }\n\n  let columns = [];\n  for (let col of typeColumns[type]) {\n    let colOptions = {};\n\n    if (typeof col === \"object\") {\n      colOptions = {\n        ...columnDefinitions[col.title],\n        ...col.options\n      };\n    } else if (typeof col === \"string\") {\n      colOptions = columnDefinitions[col];\n    }\n\n    columns.push({\n      ...defaultColumnSettings,\n      ...colOptions\n    });\n  }\n\n  if (type === \"alert\") {\n    if (propData.length > 0) {\n      if (propData[0].data.columns) {\n        propData[0].data.columns.forEach(\n          function(element, index) {\n            if (element !== \"status\") {\n              //dont want duplicate status column\n              let columnobj = {\n                accessor: element,\n                Header: element,\n                filter: true,\n                Cell: customCellRenderers.flairCell,\n                width: getColumnWidth(rowData, element, element)\n              };\n              columns.push(columnobj);\n            }\n          }.bind(this)\n        );\n      }\n      columns.forEach(function(column, index) {\n        column[\"getProps\"] = function(state, rowInfo) {\n          return {\n            style: {\n              backgroundColor: index % 2 === 0 ? \"#bababa45\" : \"\"\n            }\n          };\n        };\n      });\n    }\n  }\n\n  return columns;\n};\n\nclass FlairObject extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { value } = this.props;\n\n    return (\n      <div\n        style={{\n          wordWrap: \"break-word\"\n        }}\n        className=\"alertTableHorizontal\"\n        dangerouslySetInnerHTML={{ __html: value }}\n      />\n    );\n  }\n}\n\nexport const getColumnWidth = (data, accessor, headerText) => {\n  if (typeof accessor === \"string\" || accessor instanceof String) {\n    accessor = d => d[accessor]; // eslint-disable-line no-param-reassign\n  }\n  const maxWidth = 500;\n  let magicLength = 0;\n  let re = new RegExp(\"^<svg\\\\b[^>]*>(.*?)<\\\\/svg>$\");\n  const cellLength = Math.max(\n    ...data.map(function(row) {\n      let newtext = row[headerText];\n      var canvas = document.createElement(\"canvas\");\n      var ctx = canvas.getContext(\"2d\");\n      if (newtext !== undefined) {\n        if (re.test(newtext)) {\n          return 210;\n        } else {\n          if (newtext.includes(\"entity\")) {\n            //lets count the number of occurences of entity\n            let entitycount = (newtext.match(new RegExp(\"entity\", \"g\")) || [])\n              .length;\n            magicLength = 10 * entitycount;\n            newtext = newtext.replace(/<[^>]*>?/g, \"\");\n          }\n          //return ctx.measureText(newtext).width;\n          return newtext.length + 100;\n          //return ctx.measureText(newtext).width;\n        }\n      }\n    }),\n    headerText.length + 100\n  );\n\n  if (headerText === \"Entries\") {\n    return 70;\n  } else {\n    return Math.min(maxWidth, cellLength + magicLength);\n  }\n};\n\nclass PromotionButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      element: null,\n      loading: true\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.row.value !== this.props.row.value) {\n      this.getPromotionInfo(this.props.row.original.id).then(element => {\n        if (element) {\n          this.setState({ element });\n        }\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.getPromotionInfo(this.props.row.original.id).then(element => {\n      if (element) {\n        this.setState({ element });\n      }\n    });\n  }\n\n  getPromotionInfo = id => {\n    let json = get_data(`/scot/api/v2/alert/${id}/event`, {});\n    return json;\n  };\n\n  render() {\n    if (this.props.row.value === \"closed\") {\n      return <p style={{ color: \"green\" }}>{this.props.row.value}</p>;\n    } else if (this.props.row.value === \"open\") {\n      return <p style={{ color: \"red\" }}>{this.props.row.value}</p>;\n    } else if (this.props.row.value === \"promoted\") {\n      if (this.state.element) {\n        return (\n          <Button2\n            variant=\"contained\"\n            onMouseDown={() =>\n              navigateTo(this.state.element.data.records[0].id)\n            }\n            style={{ backgroundColor: \"orange\", color: \"white\" }}\n          >\n            {this.props.row.value}\n          </Button2>\n        );\n      } else {\n        return <span>Loading...</span>;\n      }\n    }\n  }\n}\n\nexport default defaultTableSettings;\n","\n/*****************************************************/\n/***************    Table Options   *****************/\n/***************************************************/\nexport const INCIDENT_TYPES = [\n    'Type 1 : Root Compromise',\n    'Type 1 : User Compromise',\n    'Type 1 : Loss/Theft/Missing Desktop',\n    'Type 1 : Loss/Theft/Missing Laptop',\n    'Type 1 : Loss/Theft/Missing Media',\n    'Type 1 : Loss/Theft/Missing Other',\n    'Type 1 : Malicious Code Trojan',\n    'Type 1 : Malicious Code Virus',\n    'Type 1 : Malicious Code Worm',\n    'Type 1 : Malicious Code Other',\n    'Type 1 : Web Site Defacement',\n    'Type 1 : Denial of Service',\n    'Type 1 : Critical Infrastructure Protection',\n    'Type 1 : Unauthorized Use',\n    'Type 1 : Information Compromise',\n    'Type 2 : Attempted Intrusion',\n    'Type 2 : Reconnaissance Activity',\n];\n","var listColumnsJSON = {};\nlistColumnsJSON = {\n    columnsDisplay: {\n        alertgroup: ['ID', 'Status', 'Subject', 'Created', 'Sources', 'Tags', 'Views', 'Open Tasks'],\n        alert: ['ID', 'Status', 'Subject', 'Created', 'Sources', 'Tags', 'Views'],\n        event: ['ID', 'Status', 'Subject', 'Created', 'Updated', 'Sources', 'Tags', 'Owner', 'Entries', 'Views', 'Open Tasks'],\n        incident: ['ID', 'DOE', 'Status', 'Owner', 'Subject', 'Occurred', 'Type', 'Tags', 'Sources'],\n        task: [ 'Entry Id', 'Body', 'Type', 'ID', 'Status', 'Owner', 'Updated'],\n        guide: ['ID', 'Subject', 'Applies To'],\n        intel: ['ID', 'Subject', 'Created', 'Updated', 'Source', 'Tags', 'Owner', 'Entries', 'Views'],\n        signature: ['ID', 'Name', 'Type', 'Status', 'Group', 'Description', 'Owner', 'Tag', 'Source', 'Updated'],\n        entity: ['ID', 'Value', 'Type', 'Entries']\n    },\n    columns: {\n        alertgroup: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views', 'has_tasks'],\n        alert: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views'],\n        event: ['id', 'status', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views', 'has_tasks'],\n        incident: ['id', 'doe_report_id', 'status', 'owner', 'subject', 'occurred', 'type', 'tag', 'source'],\n        task: [ 'id', 'body_plain', 'target.type', 'target.id', 'metadata.status', 'owner', 'updated'],\n        guide: ['id', 'subject', 'applies_to'],\n        intel: ['id', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views'],\n        signature: ['id', 'name', 'type', 'status', 'signature_group', 'description', 'owner', 'tag', 'source', 'updated'],\n        entity: ['id', 'value', 'type', 'entry_count']\n    },\n    columnsClassName: {\n        alertgroup: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views', 'has-tasks'],\n        alert: ['id', 'status', 'subject', 'created', 'source', 'tag', 'views'],\n        event: ['id', 'status', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views', 'has-tasks'],\n        incident: ['id', 'doe_report_id', 'status', 'owner', 'subject', 'occurred', 'type', 'tag', 'source'],\n        task: ['id', 'body_plain', 'target_type', 'target_id', 'task_status', 'owner', 'updated'],\n        guide: ['id', 'subject', 'applies_to']   ,\n        intel: ['id', 'subject', 'created', 'updated', 'source', 'tag', 'owner', 'entry_count', 'views'],\n        signature: ['id', 'name', 'type', 'status', 'signature_group', 'description', 'owner', 'tag', 'source', 'updated'],\n        entity: ['id', 'value', 'type', 'entry_count']\n    }\n};\nexport default listColumnsJSON;","import React from \"react\";\nimport $ from \"jquery\";\nlet ButtonToolbar = require(\"react-bootstrap/lib/ButtonToolbar\");\nlet OverlayTrigger = require(\"react-bootstrap/lib/OverlayTrigger\");\nlet MenuItem = require(\"react-bootstrap/lib/MenuItem\");\nlet DropdownButton = require(\"react-bootstrap/lib/DropdownButton\");\nlet Popover = require(\"react-bootstrap/lib/Popover\");\nlet Link = require(\"react-router-dom\").Link;\n\nexport default class DetailDataStatus extends React.Component {\n  componentDidMount = () => {\n    //Adds open/close hot keys for alertgroup\n    if (this.props.type === \"alertgroup\") {\n      $(\"#list-view\").keydown(\n        function(event) {\n          //prevent from working when in input\n          if ($(\"input\").is(\":focus\")) {\n            return;\n          }\n          //check for character \"o\" for 79 or \"c\" for 67\n          if (this.props.status !== \"promoted\") {\n            if (\n              event.keyCode === 79 &&\n              (event.ctrlKey !== true && event.metaKey !== true)\n            ) {\n              this.statusAjax(\"open\");\n            } else if (\n              event.keyCode === 67 &&\n              (event.ctrlKey !== true && event.metaKey !== true)\n            ) {\n              this.statusAjax(\"closed\");\n            }\n          }\n        }.bind(this)\n      );\n    }\n  };\n\n  componentWillUnmount = () => {\n    $(\"#list-view\").unbind(\"keydown\");\n  };\n\n  /*eventStatusToggle: function () {\n        if (this.props.status == 'open') {\n            this.statusAjax('closed');\n        } else if (this.props.status == 'closed') {\n            this.statusAjax('open');\n        }\n    },*/\n  trackAll = () => {\n    this.statusAjax(\"tracked\");\n  };\n\n  untrackAll = () => {\n    this.statusAjax(\"untracked\");\n  };\n\n  closeAll = () => {\n    this.statusAjax(\"closed\");\n  };\n\n  openAll = () => {\n    this.statusAjax(\"open\");\n  };\n\n  enableAll = () => {\n    this.statusAjax(\"enabled\");\n  };\n\n  disableAll = () => {\n    this.statusAjax(\"disabled\");\n  };\n\n  statusAjax = newStatus => {\n    console.log(newStatus);\n    let json = { status: newStatus };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success status change to: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to change status\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let buttonStyle = \"\";\n    let open = \"\";\n    let closed = \"\";\n    let promoted = \"\";\n    let title = \"\";\n    let classStatus = \"\";\n    let href;\n    if (\n      this.props.status === \"open\" ||\n      this.props.status === \"disabled\" ||\n      this.props.status === \"untracked\"\n    ) {\n      buttonStyle = \"danger\";\n      classStatus = \"alertgroup_open\";\n    } else if (\n      this.props.status === \"closed\" ||\n      this.props.status === \"enabled\" ||\n      this.props.status === \"tracked\"\n    ) {\n      buttonStyle = \"success\";\n      classStatus = \"alertgroup_closed\";\n    } else if (this.props.status === \"promoted\") {\n      buttonStyle = \"default\";\n      classStatus = \"alertgroup_promoted\";\n    }\n\n    if (this.props.type === \"alertgroup\") {\n      open = this.props.data.open_count;\n      closed = this.props.data.closed_count;\n      promoted = this.props.data.promoted_count;\n      title = open + \" / \" + closed + \" / \" + promoted;\n    }\n\n    if (this.props.type === \"event\") {\n      href = \"/incident/\" + this.props.data.promotion_id;\n    } else if (this.props.type === \"intel\") {\n      href = \"/event/\" + this.props.data.promotion_id;\n    }\n\n    if (this.props.type === \"guide\" || this.props.type === \"intel\") {\n      return <div />;\n    } else if (this.props.type === \"alertgroup\") {\n      return (\n        <ButtonToolbar>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Popover id={this.props.id}>open/closed/promoted alerts</Popover>\n            }\n          >\n            <DropdownButton\n              bsSize=\"xsmall\"\n              bsStyle={buttonStyle}\n              title={title}\n              id=\"dropdown\"\n              className={classStatus}\n            >\n              <MenuItem eventKey=\"1\" onClick={this.openAll} bsSize=\"xsmall\">\n                <b>Open</b> All Alerts\n              </MenuItem>\n              <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n                <b>Close</b> All Alerts\n              </MenuItem>\n            </DropdownButton>\n          </OverlayTrigger>\n        </ButtonToolbar>\n      );\n    } else if (this.props.type === \"incident\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.openAll}>\n            Open Incident\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n            Close Incident\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else if (this.props.type === \"signature\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.enableAll}>\n            Enable Signature\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.disableAll}>\n            Disable Signature\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else if (this.props.type === \"entity\") {\n      return (\n        <DropdownButton\n          bsSize=\"xsmall\"\n          bsStyle={buttonStyle}\n          id=\"event_status\"\n          className={classStatus}\n          style={{ fontSize: \"14px\" }}\n          title={this.props.status}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.trackAll}>\n            Track\n          </MenuItem>\n          <MenuItem eventKey=\"2\" onClick={this.untrackAll}>\n            Untracked\n          </MenuItem>\n        </DropdownButton>\n      );\n    } else {\n      return (\n        <div>\n          {this.props.status === \"promoted\" ? (\n            <Link to={href} role=\"button\" className={\"btn btn-warning\"}>\n              {this.props.status}\n            </Link>\n          ) : (\n            <DropdownButton\n              bsSize=\"xsmall\"\n              bsStyle={buttonStyle}\n              id=\"event_status\"\n              className={classStatus}\n              style={{ fontSize: \"14px\" }}\n              title={this.props.status}\n            >\n              <MenuItem eventKey=\"1\" onClick={this.openAll}>\n                Open\n              </MenuItem>\n              <MenuItem eventKey=\"2\" onClick={this.closeAll}>\n                Close\n              </MenuItem>\n            </DropdownButton>\n          )}\n        </div>\n      );\n    }\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nlet Button = require(\"react-bootstrap/lib/Button.js\");\n\nexport default class Promote extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newURL: null,\n            newType: null\n        };\n    }\n\n    componentDidMount = () => {\n        if (this.props.type === \"alert\") {\n            this.setState({ newType: \"Event\" });\n            this.setState({ newURL: \"event\" });\n        } else if (this.props.type === \"event\") {\n            this.setState({ newType: \"Incident\" });\n            this.setState({ newURL: \"incident\" });\n        }\n    };\n\n    promote = () => {\n        let data = JSON.stringify({ promote: \"new\" });\n        $.ajax({\n            type: \"put\",\n            url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            data: data,\n            contentType: \"application/json; charset=UTF-8\",\n            success: function (data) {\n                console.log(\"successfully promoted\");\n                window.location.assign(\"#/\" + this.state.newURL + \"/\" + data.pid);\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"error\", \"Failed to promote\", data);\n            }.bind(this)\n        });\n    };\n\n    render = () => {\n        return (\n            <Button\n                bsStyle=\"warning\"\n                eventkey=\"1\"\n                bsSize=\"xsmall\"\n                onClick={this.promote}\n            >\n                <img src=\"/images/megaphone.png\" alt=\"\" />\n                <span>Promote to {this.state.newType}</span>\n            </Button>\n        );\n    };\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, MenuItem, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport * as SessionStorage from \"../utils/session_storage\";\n\nexport default class Marker extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isMarked: false\n    };\n\n    this.removeMarkedItemsHandler = this.removeMarkedItemsHandler.bind(this);\n    this.getMarkedItemsHandler = this.getMarkedItemsHandler.bind(this);\n    this.setMarkedItemsHandler = this.setMarkedItemsHandler.bind(this);\n    this.getSelectedAlerts = this.getSelectedAlerts.bind(this);\n  }\n\n  componentWillMount() {\n    this.getMarkedItemsHandler();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.getMarkedItemsHandler();\n    if (nextProps.isAlert) {\n      //set marked to false if alert since we can't predict if new ones are selected\n      this.setState({ isMarked: false });\n    }\n  }\n\n  render() {\n    if (this.props.type === \"entry\") {\n      return (\n        <MenuItem\n          onClick={\n            this.state.isMarked\n              ? this.removeMarkedItemsHandler\n              : this.setMarkedItemsHandler\n          }\n        >\n          <i\n            style={{ color: `${this.state.isMarked ? \"green\" : \"\"} ` }}\n            className={`fa fa${this.state.isMarked ? \"-check\" : \"\"}-square-o`}\n            aria-hidden=\"true\"\n          />\n          {this.state.isMarked ? <span>Marked</span> : <span>Mark</span>}\n        </MenuItem>\n      );\n    } else {\n      return (\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={\n            <Tooltip id=\"mark_tooltip\">\n              Mark selected{\" \"}\n              {this.props.isAlert ? <span>alerts</span> : this.props.type}\n            </Tooltip>\n          }\n        >\n          <Button\n            bsSize=\"xsmall\"\n            onClick={\n              this.state.isMarked\n                ? this.removeMarkedItemsHandler\n                : this.setMarkedItemsHandler\n            }\n          >\n            <i\n              style={{ color: `${this.state.isMarked ? \"green\" : \"\"} ` }}\n              className={`fa fa${this.state.isMarked ? \"-check\" : \"\"}-square-o`}\n              aria-hidden=\"true\"\n            />\n            {this.props.isAlert ? <span>Mark selected</span> : null}\n\n            {/* { this.state.isMarked ? <span>Marked</span> : <span>Mark</span> }*/}\n          </Button>\n        </OverlayTrigger>\n      );\n    }\n  }\n\n  getMarkedItemsHandler() {\n    let markedItems = getMarkedItems();\n    let isMarked = false;\n\n    if (markedItems) {\n      for (let key of markedItems) {\n        if (key.id === this.props.id && key.type === this.props.type) {\n          isMarked = true;\n          break;\n        }\n      }\n    }\n    this.setState({ isMarked: isMarked });\n  }\n\n  removeMarkedItemsHandler() {\n    if (this.props.isAlert) {\n      let selectedAlerts = this.getSelectedAlerts();\n      for (let i = 0; i < selectedAlerts.length; i++) {\n        removeMarkedItems(\"alert\", selectedAlerts[i]);\n      }\n    } else {\n      removeMarkedItems(this.props.type, this.props.id);\n    }\n    this.setState({ isMarked: false });\n  }\n\n  setMarkedItemsHandler() {\n    if (this.props.isAlert) {\n      //parse alerts then iterate through them to add to marking list\n      let selectedAlerts = this.getSelectedAlerts();\n      for (let i = 0; i < selectedAlerts.length; i++) {\n        setMarkedItems(\"alert\", selectedAlerts[i], this.props.string);\n      }\n    } else {\n      setMarkedItems(this.props.type, this.props.id, this.props.string);\n    }\n    this.setState({ isMarked: true });\n  }\n\n  getSelectedAlerts() {\n    return this.props.alertsSelected.map(alert => alert.id);\n  }\n}\n\nexport const removeMarkedItems = (type, id) => {\n  let currentMarked = getMarkedItems();\n\n  if (currentMarked) {\n    for (let i = 0; i < currentMarked.length; i++) {\n      if (currentMarked[i].type === type && currentMarked[i].id === id) {\n        currentMarked.splice(i, 1);\n        break;\n      }\n    }\n\n    SessionStorage.setLocalStorage(\"marked\", JSON.stringify(currentMarked));\n  }\n};\n\nexport const getMarkedItems = () => {\n  let markedItems = SessionStorage.getLocalStorage(\"marked\");\n  if (markedItems) {\n    markedItems = JSON.parse(markedItems);\n    return markedItems;\n  }\n};\n\nexport const setMarkedItems = (type, id, string) => {\n  let nextMarked = [];\n  let currentMarked = getMarkedItems();\n\n  if (currentMarked) {\n    for (let key of currentMarked) {\n      if (key.type !== type || key.id !== id) {\n        nextMarked.push(key);\n      }\n    }\n  }\n\n  nextMarked.push({ id: id, type: type, subject: string.substring(0, 120) });\n  SessionStorage.setLocalStorage(\"marked\", JSON.stringify(nextMarked));\n};\n\nMarker.propTypes = {\n  isMarked: PropTypes.bool\n};\n\nMarker.defaultProps = {\n  isMarked: false\n};\n","import React from \"react\";\nimport $ from \"jquery\";\nimport SelectedEntry from \"../detail/selected_entry.js\";\nimport Inspector from \"react-inspector\";\nimport Button from \"react-bootstrap/lib/Button\";\nimport Tabs from \"react-bootstrap/lib/Tabs\";\nimport Tab from \"react-bootstrap/lib/Tab\";\nimport AddEntry from \"../components/add_entry\";\nimport Draggable from \"react-draggable\";\nimport DetailDataStatus from \"../components/detail_data_status\";\nimport { Link } from \"react-router-dom\";\nimport Marker from \"../components/marker\";\nimport Frame from \"react-frame-component\";\nimport { get_data } from \"../utils/XHR\";\n\nlet startX;\nlet startY;\nlet startWidth;\nlet startHeight;\n\nexport default class EntityDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    let tabs = [];\n    let processedIdsArray = [];\n    let entityHeight = \"100%\"; //test\n    let entityWidthint = 700;\n    let entityWidth = entityWidthint + \"px\";\n    let entityMaxHeight = \"70vh\";\n    if (this.props.fullScreen === true) {\n      entityHeight = \"95vh\";\n      entityWidth = \"95%\";\n      entityMaxHeight = \"95vh\";\n    }\n    this.state = {\n      entityData: null,\n      entityid: this.props.entityid,\n      entityHeight: entityHeight,\n      entityWidth: entityWidth,\n      entityWidthint: entityWidthint,\n      entityMaxHeight: entityMaxHeight,\n      tabs: tabs,\n      initialLoad: false,\n      processedIds: processedIdsArray,\n      valueClicked: \"\",\n      defaultEntityOffset: this.props.entityoffset,\n      entityobj: this.props.entityobj,\n      height: null,\n      isMounted: false\n    };\n  }\n\n  componentWillMount = () => {};\n\n  onLoad = () => {\n    if (\n      document.getElementById(\"iframe_\" + this.props.id) !== undefined &&\n      document.getElementById(\"iframe_\" + this.props.id) !== null\n    ) {\n      if (\n        document.getElementById(\"iframe_\" + this.props.id).contentDocument\n          .readyState === \"complete\"\n      ) {\n        let ifr = $(\"#iframe_\" + this.props.id);\n        let ifrContents = $(ifr).contents();\n        let ifrContentsHead = $(ifrContents).find(\"head\");\n        if (ifrContentsHead) {\n          if (!$(ifrContentsHead).find(\"link\")) {\n            ifrContentsHead.append(\n              $(\"<link/>\", {\n                rel: \"stylesheet\",\n                href: \"css/sandbox.css\",\n                type: \"text/css\"\n              })\n            );\n          }\n        }\n        setTimeout(\n          function() {\n            if (\n              document.getElementById(\"iframe_\" + this.props.id) !== undefined\n            ) {\n              document\n                .getElementById(\"iframe_\" + this.props.id)\n                .contentWindow.requestAnimationFrame(\n                  function() {\n                    let newheight;\n                    newheight = document.getElementById(\n                      \"iframe_\" + this.props.id\n                    ).contentWindow.document.body.scrollHeight;\n                    newheight = newheight + \"px\";\n                    if (this.state.height !== newheight) {\n                      this.setState({ height: newheight });\n                    }\n                  }.bind(this)\n                );\n            }\n          }.bind(this),\n          250\n        );\n        //}\n      } else {\n        setTimeout(this.onLoad, 0);\n      }\n    }\n  };\n\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    let currentTabArray = this.state.tabs;\n    let valueClicked = this.props.entityvalue;\n    if (this.props.entitytype !== \"source\") {\n      if (this.state.entityid === undefined || isNaN(this.state.entityid)) {\n        $.ajax({\n          type: \"GET\",\n          url: \"scot/api/v2/\" + this.props.entitytype + \"/byname\",\n          data: { name: valueClicked },\n          success: function(result) {\n            let entityid = result.id;\n            if (this.state.isMounted) {\n              this.setState({ entityid: entityid });\n              $.ajax({\n                type: \"GET\",\n                url: \"scot/api/v2/\" + this.props.entitytype + \"/\" + entityid,\n                success: function(result) {\n                  //this.setState({entityData:result})\n                  let newTab = {\n                    data: result,\n                    entityid: entityid,\n                    entitytype: this.props.entitytype,\n                    valueClicked: result.value\n                  };\n                  currentTabArray.push(newTab);\n                  if (this.state.isMounted) {\n                    let entityidsarray = [];\n                    entityidsarray.push(entityid);\n                    this.setState({\n                      tabs: currentTabArray,\n                      currentKey: entityid,\n                      initialLoad: true,\n                      processedIds: entityidsarray\n                    });\n                    this.props.createCallback(\n                      this.props.entityid,\n                      this.updated\n                    );\n                  }\n                }.bind(this),\n                error: function(data) {\n                  this.props.errorToggle(\n                    \"failed to get entity detail information\",\n                    data\n                  );\n                }.bind(this)\n              });\n            }\n          }.bind(this),\n          error: function(data) {\n            this.props.errorToggle(\n              \"failed to get entity detail id information \",\n              data\n            );\n          }.bind(this)\n        });\n      } else {\n        let id = this.state.entityid;\n        if (!Array.isArray(id)) {\n          id = [parseInt(id, 10)];\n        }\n\n        for (let i = 0; i < id.length; i++) {\n          $.ajax({\n            type: \"GET\",\n            url: \"scot/api/v2/\" + this.props.entitytype + \"/\" + id[i],\n            success: function(result) {\n              //this.setState({entityData:result})\n              let newTab = {\n                data: result,\n                entityid: result.id,\n                entitytype: this.props.entitytype,\n                valueClicked: result.value\n              };\n              currentTabArray.push(newTab);\n              if (this.state.isMounted) {\n                let entityidsarray = [];\n                entityidsarray.push(result.id);\n                this.setState({\n                  tabs: currentTabArray,\n                  currentKey: result.id,\n                  initialLoad: true,\n                  processedIds: entityidsarray\n                });\n                this.props.createCallback(this.props.entityid, this.updated);\n              }\n            }.bind(this),\n            error: function(data) {\n              this.props.errorToggle(\n                \"failed to get entity detail information\",\n                data\n              );\n            }.bind(this)\n          });\n        }\n      }\n    } else {\n      let newTab = {\n        data: this.props.data,\n        entityid: this.props.entityid,\n        entitytype: this.props.entitytype,\n        valueClicked: this.props.entitytype\n      };\n      currentTabArray.push(newTab);\n      // if (this.state.isMounted) {\n      let entityidsarray = [];\n      entityidsarray.push(this.props.entityid);\n      this.setState({\n        tabs: currentTabArray,\n        currentKey: parseInt(this.props.entityid, 10),\n        initialLoad: true,\n        processedIds: entityidsarray\n      });\n      this.props.createCallback(this.props.entityid, this.updated);\n    }\n    //Esc key closes popup\n    function escHandler(event) {\n      //prevent from working when in input\n      if ($(\"input\").is(\":focus\")) {\n        return;\n      }\n      if ($(\"#main-search-results\")[0] !== undefined) {\n        return;\n      } //close search results before closing entity div\n      //check for esc with keyCode\n      if (event.keyCode === 27) {\n        this.props.flairToolbarOff();\n        event.preventDefault();\n      }\n    }\n\n    $(document).keydown(escHandler.bind(this));\n    this.containerHeightAdjust();\n    window.addEventListener(\"resize\", this.containerHeightAdjust);\n    this.onLoad();\n\n    $(\"iframe\").each(function(index, ifr) {\n      //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n      ifr.contentWindow.requestAnimationFrame(function() {\n        if (ifr.contentDocument != null) {\n          let ifrContents = $(ifr).contents();\n          //This makes all href point to blank so they don't reload the iframe\n          $(ifr.contentDocument.body)\n            .find(\"a\")\n            .attr(\"target\", \"_blank\");\n          //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n          ifrContents.find(\"a\").each(function(index, a) {\n            let url = $(a).attr(\"href\");\n            $(a).attr(\"url\", url);\n          });\n        }\n      });\n    });\n\n    // this.setState({ isMounted: true });\n    // let currentTabArray = this.state.tabs;\n    // let valueClicked = this.props.entityvalue;\n    // if (\n    //   this.props.entitytype !== \"source\" &&\n    //   this.props.entitytype !== \"entry\"\n    // ) {\n    //   if (this.state.entityid === undefined || isNaN(this.state.entityid)) {\n    //     let endpoint = `scot/api/v2/${this.props.entitytype}\"/byname`;\n    //     let params = { name: valueClicked };\n    //     let data_response = get_data(endpoint, params);\n    //     data_response.then(\n    //       function(response) {\n    //         let entityid = response.id;\n    //         this.setState({ entityid: entityid });\n    //         let entity_endpoint = `scot/api/v2/${\n    //           this.props.entitytype\n    //         }/${entityid}`;\n    //         let entity_response = get_data(entity_endpoint, params);\n    //         entity_response.then(\n    //           function(result) {\n    //             let newTab = {\n    //               data: result,\n    //               entityid: entityid,\n    //               entitytype: this.props.entitytype,\n    //               valueClicked: result.value\n    //             };\n\n    //             currentTabArray.push(newTab);\n    //             if (this.state.isMounted) {\n    //               let entityidsarray = [];\n    //               entityidsarray.push(entityid);\n    //               this.setState({\n    //                 tabs: currentTabArray,\n    //                 currentKey: entityid,\n    //                 initialLoad: true,\n    //                 processedIds: entityidsarray\n    //               });\n    //               this.props.createCallback(this.props.entityid, this.updated);\n    //             }\n    //           }\n    //             .bind(this)\n    //             .catch(function(error) {\n    //               this.props.errorToggle(\n    //                 \"failed to get entity detail information\",\n    //                 error\n    //               );\n    //             })\n    //         );\n    //       }\n    //         .bind(this)\n    //         .catch(function(error) {\n    //           this.props.errorToggle(\n    //             \"failed to get entity detail id information \",\n    //             error\n    //           );\n    //         })\n    //     );\n    //   } else {\n    //     let id = this.state.entityid;\n    //     if (!Array.isArray(id)) {\n    //       id = [parseInt(id, 10)];\n    //     }\n\n    //     for (let i = 0; i < id.length; i++) {\n    //       $.ajax({\n    //         type: \"GET\",\n    //         url: \"scot/api/v2/\" + this.props.entitytype + \"/\" + id[i],\n    //         success: function(result) {\n    //           //this.setState({entityData:result})\n    //           let newTab = {\n    //             data: result,\n    //             entityid: result.id,\n    //             entitytype: this.props.entitytype,\n    //             valueClicked: result.value\n    //           };\n    //           currentTabArray.push(newTab);\n    //           if (this.state.isMounted) {\n    //             let entityidsarray = [];\n    //             entityidsarray.push(result.id);\n    //             this.setState({\n    //               tabs: currentTabArray,\n    //               currentKey: result.id,\n    //               initialLoad: true,\n    //               processedIds: entityidsarray\n    //             });\n    //             this.props.createCallback(this.props.entityid, this.updated);\n    //           }\n    //         }.bind(this),\n    //         error: function(data) {\n    //           this.props.errorToggle(\n    //             \"failed to get entity detail information\",\n    //             data\n    //           );\n    //         }.bind(this)\n    //       });\n    //     }\n    //   }\n    // } else {\n    //   let newTab = {\n    //     data: this.props.data,\n    //     entityid: this.props.entityid,\n    //     entitytype: this.props.entitytype,\n    //     valueClicked: this.props.entitytype\n    //   };\n    //   currentTabArray.push(newTab);\n    //   // if (this.state.isMounted) {\n    //   let entityidsarray = [];\n    //   entityidsarray.push(this.props.entityid);\n    //   this.setState({\n    //     tabs: currentTabArray,\n    //     currentKey: parseInt(this.props.entityid, 10),\n    //     initialLoad: true,\n    //     processedIds: entityidsarray\n    //   });\n    //   this.props.createCallback(this.props.entityid, this.updated);\n    // }\n    // //Esc key closes popup\n    // function escHandler(event) {\n    //   //prevent from working when in input\n    //   if ($(\"input\").is(\":focus\")) {\n    //     return;\n    //   }\n    //   if ($(\"#main-search-results\")[0] !== undefined) {\n    //     return;\n    //   } //close search results before closing entity div\n    //   //check for esc with keyCode\n    //   if (event.keyCode === 27) {\n    //     this.props.flairToolbarOff();\n    //     event.preventDefault();\n    //   }\n    // }\n\n    // $(document).keydown(escHandler.bind(this));\n    // this.containerHeightAdjust();\n    // window.addEventListener(\"resize\", this.containerHeightAdjust);\n    // this.onLoad();\n\n    // $(\"iframe\").each(function(index, ifr) {\n    //   //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n    //   ifr.contentWindow.requestAnimationFrame(function() {\n    //     if (ifr.contentDocument != null) {\n    //       let ifrContents = $(ifr).contents();\n    //       //This makes all href point to blank so they don't reload the iframe\n    //       $(ifr.contentDocument.body)\n    //         .find(\"a\")\n    //         .attr(\"target\", \"_blank\");\n    //       //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n    //       ifrContents.find(\"a\").each(function(index, a) {\n    //         let url = $(a).attr(\"href\");\n    //         $(a).attr(\"url\", url);\n    //       });\n    //     }\n    //   });\n    // });\n    // // this.props.watcher();\n  };\n\n  componentWillUnmount = () => {\n    this.setState({ isMounted: false });\n    //removes escHandler bind\n    $(document).off(\"keydown\");\n    //This makes the size that was last used hold for future entities\n    /*let height = $('#dragme').height();\n        let width = $('#dragme').width();\n        entityPopUpHeight = height;\n        entityPopUpWidth = width;*/\n  };\n\n  componentWillReceiveProps = nextProps => {\n    this.onLoad();\n    let checkForInitialLoadComplete = {\n      checkForInitialLoadComplete: function() {\n        let addNewEntity = {\n          //Initializing Function for adding an entry to be used later.\n          addNewEntity: function() {\n            let currentTabArray = this.state.tabs;\n            if (nextProps.entitytype !== \"source\") {\n              if (\n                nextProps.entityid === undefined ||\n                isNaN(nextProps.entityid)\n              ) {\n                $.ajax({\n                  type: \"GET\",\n                  url: \"scot/api/v2/\" + nextProps.entitytype + \"/byname\",\n                  data: { name: nextProps.entityvalue },\n                  success: function(result) {\n                    let entityid = result.id;\n                    if (this.state.isMounted) {\n                      this.setState({ entityid: entityid });\n                      $.ajax({\n                        type: \"GET\",\n                        url:\n                          \"scot/api/v2/\" +\n                          nextProps.entitytype +\n                          \"/\" +\n                          entityid,\n                        success: function(result) {\n                          let newTab = {\n                            data: result,\n                            entityid: entityid,\n                            entitytype: nextProps.entitytype,\n                            valueClicked: nextProps.entityvalue\n                          };\n                          currentTabArray.push(newTab);\n                          if (this.state.isMounted) {\n                            this.setState({\n                              tabs: currentTabArray,\n                              currentKey: nextProps.entityid\n                            });\n                            this.props.createCallback(\n                              nextProps.entityid,\n                              this.updated\n                            );\n                          }\n                        }.bind(this),\n                        error: function(data) {\n                          this.props.errorToggle(\n                            \"failed to get entity detail information\",\n                            data\n                          );\n                        }.bind(this)\n                      });\n                    }\n                  }.bind(this),\n                  error: function(data) {\n                    this.props.errorToggle(\n                      \"failed to get entity id detail information\",\n                      data\n                    );\n                  }.bind(this)\n                });\n              } else {\n                $.ajax({\n                  type: \"GET\",\n                  url:\n                    \"scot/api/v2/\" +\n                    nextProps.entitytype +\n                    \"/\" +\n                    nextProps.entityid,\n                  success: function(result) {\n                    let newTab = {\n                      data: result,\n                      entityid: nextProps.entityid,\n                      entitytype: nextProps.entitytype,\n                      valueClicked: nextProps.entityvalue\n                    };\n                    currentTabArray.push(newTab);\n                    if (this.state.isMounted) {\n                      this.setState({\n                        tabs: currentTabArray,\n                        currentKey: nextProps.entityid\n                      });\n                      this.props.createCallback(\n                        nextProps.entityid,\n                        this.updated\n                      );\n                    }\n                  }.bind(this),\n                  error: function(data) {\n                    this.props.errorToggle(\n                      \"failed to get entity detail information\",\n                      data\n                    );\n                  }.bind(this)\n                });\n              }\n            } else {\n              let newTab = {\n                data: nextProps.data,\n                entityid: nextProps.entityid,\n                entitytype: nextProps.entitytype,\n                valueClicked: nextProps.entitytype\n              };\n              currentTabArray.push(newTab);\n              // if (this.state.isMounted) {\n              let entityidsarray = [];\n              entityidsarray.push(nextProps.entityid);\n              this.setState({\n                tabs: currentTabArray,\n                currentKey: parseInt(nextProps.entityid, 10),\n                initialLoad: true,\n                processedIds: entityidsarray\n              });\n              this.props.createCallback(nextProps.entityid, this.updated);\n              this.props.watcher();\n            }\n          }.bind(this)\n        };\n        if (this.state.initialLoad === false) {\n          setTimeout(\n            checkForInitialLoadComplete.checkForInitialLoadComplete,\n            50\n          );\n        } else {\n          if (nextProps !== undefined) {\n            //TODO Fix next conditional for undefined that prevents multiple calls for the same ID at load time on a nested entity\n            if (\n              nextProps.entitytype != null &&\n              nextProps.entityid !== undefined\n            ) {\n              let nextPropsEntityIdInt = parseInt(nextProps.entityid, 10);\n              for (let i = 0; i < this.state.tabs.length; i++) {\n                if (\n                  nextPropsEntityIdInt === this.state.tabs[i].entityid ||\n                  (this.state.tabs[i].entitytype === \"guide\" &&\n                    nextProps.entitytype === \"guide\")\n                ) {\n                  if (this.state.isMounted) {\n                    this.setState({ currentKey: nextPropsEntityIdInt });\n                  }\n                  return;\n                } else {\n                  let array = this.state.processedIds;\n                  let addEntity = true;\n                  for (let i = 0; i < array.length; i++) {\n                    if (array[i] === nextPropsEntityIdInt) {\n                      // Check if entity is already being processed so we don't show it twice\n                      addEntity = false;\n                    }\n                  }\n                  if (addEntity) {\n                    addNewEntity.addNewEntity();\n                    array.push(nextPropsEntityIdInt);\n                    this.setState({ processedIds: array });\n                  }\n                }\n              }\n            }\n          }\n        }\n      }.bind(this)\n    };\n    checkForInitialLoadComplete.checkForInitialLoadComplete();\n    this.containerHeightAdjust();\n  };\n\n  updated = () => {\n    let currentTabArray = this.state.tabs;\n    // eslint-disable-line\n    let valueClicked = this.props.entityvalue;\n    for (let j = 0; j < currentTabArray.length; j++) {\n      //TODO: Ask Nick\n      // if ( activemqid == currentTabArray[j].entityid ) {\n      let currentTabArrayIndex = j;\n      $.ajax({\n        type: \"GET\",\n        url:\n          \"scot/api/v2/\" +\n          this.props.entitytype +\n          \"/\" +\n          currentTabArray[j].entityid,\n        success: function(result) {\n          //this.setState({entityData:result})\n          let newTab = {\n            data: result,\n            entityid: result.id,\n            entitytype: this.props.entitytype,\n            valueClicked: result.value\n          };\n          currentTabArray[currentTabArrayIndex] = newTab;\n          if (this.state.isMounted) {\n            let entityidsarray = [];\n            entityidsarray.push(result.id);\n            this.setState({\n              tabs: currentTabArray,\n              currentKey: result.id,\n              initialLoad: true,\n              processedIds: entityidsarray\n            });\n          }\n        }.bind(this),\n        error: function(data) {\n          this.props.errorToggle(\n            \"failed to get updated entity detail information\",\n            data\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  checkFlairHover = ifr => {\n    if (ifr.contentDocument != null) {\n      $(ifr)\n        .contents()\n        .find(\"a\")\n        .each(\n          function(index, a) {\n            if ($(a).css(\"color\") === \"rgb(255, 0, 0)\") {\n              $(a).data(\"state\", \"down\");\n            } else if ($(a).data(\"state\") === \"down\") {\n              $(a).data(\"state\", \"up\");\n              let url = $(a).attr(\"url\");\n              this.props.linkWarningToggle(url);\n            }\n          }.bind(this)\n        );\n    }\n  };\n\n  initDrag = e => {\n    //remove the entityPopUpMaxSizeDefault class so it can be resized.\n    if ($(\"#dragme\").hasClass(\"entityPopUpMaxSizeDefault\")) {\n      let height = $(\"#dragme\").height() + \"px\";\n      $(\"#dragme\").css(\"height\", height);\n      $(\"#dragme\").removeClass(\"entityPopUpMaxSizeDefault\");\n    }\n    let elem = document.getElementById(\"dragme\");\n    startX = e.clientX;\n    startY = e.clientY;\n    startWidth = parseInt(\n      document.defaultView.getComputedStyle(elem).width,\n      10\n    );\n    startHeight = parseInt(\n      document.defaultView.getComputedStyle(elem).height,\n      10\n    );\n    document.documentElement.addEventListener(\"mousemove\", this.doDrag, false);\n    document.documentElement.addEventListener(\"mouseup\", this.stopDrag, false);\n    this.blockiFrameMouseEvent();\n  };\n\n  doDrag = e => {\n    let elem = document.getElementById(\"dragme\");\n    console.log(`elem.style.width before: ${elem.style.width}`);\n    console.log(`e.clientX before: ${e.clientX}`);\n    console.log(`startX before: ${startX}`);\n    console.log(`startwidth before: ${startWidth}`);\n    if (startWidth + e.clientX - startX > 586) {\n      elem.style.width = startWidth + e.clientX - startX + \"px\";\n    }\n    if (startHeight + e.clientY - startY > 386) {\n      elem.style.height = startHeight + e.clientY - startY + \"px\";\n    }\n  };\n\n  stopDrag = e => {\n    document.documentElement.removeEventListener(\n      \"mousemove\",\n      this.doDrag,\n      false\n    );\n    document.documentElement.removeEventListener(\n      \"mouseup\",\n      this.stopDrag,\n      false\n    );\n    this.allowiFrameMouseEvent();\n  };\n\n  moveDivInit = e => {\n    document.documentElement.addEventListener(\n      \"mouseup\",\n      this.moveDivStop,\n      false\n    );\n    this.blockiFrameMouseEvent();\n  };\n\n  moveDivStop = e => {\n    document.documentElement.removeEventListener(\n      \"mouseup\",\n      this.moveDivStop,\n      false\n    );\n    this.allowiFrameMouseEvent();\n  };\n\n  blockiFrameMouseEvent = () => {\n    $(\"iframe\").each(function(index, ifr) {\n      $(ifr).addClass(\"pointerEventsOff\");\n    });\n  };\n\n  allowiFrameMouseEvent = () => {\n    $(\"iframe\").each(function(index, ifr) {\n      $(ifr).removeClass(\"pointerEventsOff\");\n    });\n  };\n\n  handleSelectTab = key => {\n    this.setState({ currentKey: key });\n  };\n\n  positionRightBoundsCheck = e => {\n    if (!e) {\n      return (\n        $(document).width() -\n        this.state.defaultEntityOffset.left -\n        this.state.entityWidthint\n      );\n    } else {\n      return (\n        $(document).width() -\n        (this.state.defaultEntityOffset.left + e) -\n        this.state.entityWidthint\n      );\n    }\n  };\n\n  containerHeightAdjust = () => {\n    //only run this if we're in /#/entity and not as a popup\n    if (this.props.fullScreen === true) {\n      let scrollHeight;\n      if ($(\"#list-view-container\")[0]) {\n        scrollHeight =\n          $(window).height() -\n          $(\"#list-view-container\").height() -\n          $(\"#header\").height() -\n          70;\n        scrollHeight = scrollHeight + \"px\";\n      } else {\n        scrollHeight = $(window).height() - $(\"#header\").height() - 70;\n        scrollHeight = scrollHeight + \"px\";\n      }\n      //$('#detail-container').css('height',scrollHeight);\n      if (this.state.isMounted) {\n        this.setState({ height: scrollHeight });\n      }\n    }\n  };\n\n  render = () => {\n    //This makes the size that was last used hold for future entities\n    /*if (entityPopUpHeight && entityPopUpWidth) {\n            entityHeight = entityPopUpHeight;\n            entityWidth = entityPopUpWidth;\n        }*/\n    let defaultOffsetY;\n    let defaultOffsetX;\n    let tabsArr = [];\n    let DragmeClass =\n      \"box react-draggable entityPopUp entityPopUpMaxSizeDefault\";\n    if (this.props.fullScreen === true || $(\"react-draggable-dragged\")) {\n      //Don't readd entityPopUpMaxSizeDefault if full screen or if the box has been dragged\n      DragmeClass = \"box react-draggable entityPopUp\";\n    }\n    if (this.props.fullScreen === true) {\n      DragmeClass = DragmeClass + \" height100percent\";\n    }\n    for (let i = 0; i < this.state.tabs.length; i++) {\n      let z = i + 1;\n      let title = \"tab\";\n      if (this.state.tabs[i].entitytype === \"guide\") {\n        title = \"guide\";\n      } else if (this.state.tabs[i].entitytype === \"source\") {\n        title = \"source\";\n      } else {\n        if (this.state.tabs[i].valueClicked !== undefined) {\n          title = this.state.tabs[i].valueClicked.slice(0, 15);\n        } else {\n          title = \"\";\n        }\n      }\n      tabsArr.push(\n        <Tab\n          className=\"tab-content\"\n          eventKey={this.state.tabs[i].entityid}\n          title={title}\n        >\n          <TabContents\n            data={this.state.tabs[i].data}\n            form={this.props.form}\n            type={this.props.type}\n            id={this.props.id}\n            entityid={this.state.tabs[i].entityid}\n            entitytype={this.state.tabs[i].entitytype}\n            valueClicked={this.state.tabs[i].valueClicked}\n            i={z}\n            key={z}\n            errorToggle={this.props.errorToggle}\n            linkWarningToggle={this.props.linkWarningToggle}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        </Tab>\n      );\n    }\n    if (this.state.defaultEntityOffset && this.state.entityobj) {\n      let positionRightBoundsValue = this.positionRightBoundsCheck();\n      if (this.positionRightBoundsCheck($(this.state.entityobj).width()) < 0) {\n        defaultOffsetX =\n          this.state.defaultEntityOffset.left - this.state.entityWidthint;\n      } else {\n        defaultOffsetX =\n          this.state.defaultEntityOffset.left + $(this.state.entityobj).width();\n      }\n    } else {\n      defaultOffsetY = 50;\n      defaultOffsetX = 0;\n    }\n    if (this.props.fullScreen === true) {\n      //entity detail is full screen mode\n      return (\n        <div\n          id=\"popup-flex-container\"\n          style={{ height: this.state.height }}\n          className={\"entity-full-screen\"}\n        >\n          <div\n            id=\"entity_detail_container\"\n            style={{ flexFlow: \"column\", display: \"flex\", width: \"100%\" }}\n          >\n            <Tabs\n              className=\"tab-content\"\n              defaultActiveKey={this.props.entityid}\n              activeKey={this.state.currentKey}\n              onSelect={this.handleSelectTab}\n              bsStyle=\"pills\"\n              animation={false}\n            >\n              {tabsArr}\n            </Tabs>\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <Draggable handle=\"#handle\" onMouseDown={this.moveDivInit}>\n          <div\n            id=\"dragme\"\n            className={DragmeClass}\n            style={{\n              width: this.state.entityWidth,\n              left: defaultOffsetX,\n              maxHeight: \"90vh\"\n            }}\n          >\n            <div\n              id=\"popup-flex-container\"\n              style={{ height: \"100%\", display: \"flex\", flexFlow: \"row\" }}\n            >\n              <div\n                id=\"entity_detail_container\"\n                style={{ flexFlow: \"column\", display: \"flex\", width: \"100%\" }}\n              >\n                <div\n                  id=\"handle\"\n                  style={{\n                    width: \"100%\",\n                    background: \"#292929\",\n                    color: \"white\",\n                    fontWeight: \"900\",\n                    fontSize: \"large\",\n                    textAlign: \"center\",\n                    cursor: \"move\",\n                    flex: \"0 1 auto\"\n                  }}\n                >\n                  <div>\n                    <span className=\"pull-left\" style={{ paddingLeft: \"5px\" }}>\n                      <i className=\"fa fa-arrows\" aria-hidden=\"true\" />\n                    </span>\n                    <span\n                      className=\"pull-right\"\n                      style={{ cursor: \"pointer\", paddingRight: \"5px\" }}\n                    >\n                      <i\n                        className=\"fa fa-times\"\n                        style={{ color: \"red\" }}\n                        onClick={this.props.flairToolbarOff}\n                      />\n                    </span>\n                  </div>\n                </div>\n                <Tabs\n                  className=\"tab-content\"\n                  defaultActiveKey={this.props.entityid}\n                  activeKey={this.state.currentKey}\n                  onSelect={this.handleSelectTab}\n                  bsStyle=\"pills\"\n                  animation={false}\n                >\n                  {tabsArr}\n                </Tabs>\n              </div>\n              <div\n                id=\"sidebar\"\n                onMouseDown={this.initDrag}\n                style={{\n                  flex: \"0 1 auto\",\n                  backgroundColor: \"black\",\n                  borderTop: \"2px solid black\",\n                  borderBottom: \"2px solid black\",\n                  cursor: \"nwse-resize\",\n                  overflow: \"hidden\",\n                  width: \"5px\"\n                }}\n              />\n            </div>\n            <div\n              id=\"footer\"\n              onMouseDown={this.initDrag}\n              style={{\n                display: \"block\",\n                height: \"5px\",\n                backgroundColor: \"black\",\n                borderTop: \"2px solid black\",\n                borderBottom: \"2px solid black\",\n                cursor: \"nwse-resize\",\n                overflow: \"hidden\"\n              }}\n            />\n          </div>\n        </Draggable>\n      );\n    }\n  };\n}\n\nclass TabContents extends React.Component {\n  render = () => {\n    if (this.props.entitytype === \"entity\") {\n      return (\n        <div className=\"tab-content\">\n          <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n            <h4 id=\"myModalLabel\">\n              {this.props.data != null ? (\n                <EntityValue\n                  value={this.props.valueClicked}\n                  data={this.props.data}\n                  errorToggle={this.props.errorToggle}\n                  createCallback={this.props.createCallback}\n                  removeCallback={this.props.removeCallback}\n                />\n              ) : (\n                <div style={{ display: \"inline-flex\", position: \"relative\" }}>\n                  Loading...\n                </div>\n              )}\n            </h4>\n          </div>\n          <div\n            style={{\n              height: \"100%\",\n              display: \"flex\",\n              flex: \"1 1 auto\",\n              marginLeft: \"10px\",\n              flexFlow: \"inherit\",\n              minHeight: \"1px\"\n            }}\n          >\n            {this.props.data != null ? (\n              <EntityBody\n                data={this.props.data}\n                entityid={this.props.entityid}\n                type={this.props.type}\n                id={this.props.id}\n                errorToggle={this.props.errorToggle}\n                linkWarningToggle={this.props.linkWarningToggle}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            ) : (\n              <div>Loading...</div>\n            )}\n          </div>\n        </div>\n      );\n    } else if (this.props.entitytype === \"guide\") {\n      let guideurl = \"/guide/\" + this.props.entityid;\n      return (\n        <div className=\"tab-content\">\n          <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n            <Link to={guideurl} target=\"_blank\">\n              <h4 id=\"myModalLabel\">\n                {this.props.data != null ? (\n                  <span>\n                    <span>\n                      <EntityValue\n                        value={this.props.entityid}\n                        errorToggle={this.props.errorToggle}\n                        createCallback={this.props.createCallback}\n                        removeCallback={this.props.removeCallback}\n                      />\n                    </span>\n                    <div>\n                      <EntityValue\n                        value={this.props.data.applies_to}\n                        errorToggle={this.props.errorToggle}\n                        createCallback={this.props.createCallback}\n                        removeCallback={this.props.removeCallback}\n                      />\n                    </div>\n                  </span>\n                ) : (\n                  <div style={{ display: \"inline-flex\", position: \"relative\" }}>\n                    Loading...\n                  </div>\n                )}\n              </h4>\n            </Link>\n          </div>\n          <div\n            style={{ overflow: \"auto\", flex: \"1 1 auto\", marginLeft: \"10px\" }}\n          >\n            {this.props.data != null ? (\n              <GuideBody\n                entityid={this.props.entityid}\n                form={this.props.form}\n                data={this.props.data}\n                entitytype={this.props.entitytype}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            ) : (\n              <div>Loading...</div>\n            )}\n          </div>\n        </div>\n      );\n    } else if (this.props.entitytype === \"source\") {\n      return (\n        <div className=\"tab-content\">\n          <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }}>\n            {/*<h4 id=\"myModalLabel\">{this.props.data != null ? <span><span><EntityValue value={this.props.entityid} errorToggle={this.props.errorToggle} /></span><div>*/}\n            {/*<EntityValue value={this.props.data} errorToggle={this.props.errorToggle} /></div></span> : <div style={{display:'inline-flex',position:'relative'}}>Loading...</div> }</h4>*/}\n          </div>\n          <div\n            id=\"source-popup\"\n            style={{ overflow: \"auto\", flex: \"1 1 auto\", marginLeft: \"10px\" }}\n          >\n            {this.props.entitytype != null ? (\n              <SourceBody\n                data={this.props.data}\n                entityid={this.props.entityid}\n                entitytype={this.props.entitytype}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            ) : (\n              <div>Loading...</div>\n            )}\n          </div>\n        </div>\n      );\n    } else if (this.props.entitytype === \"entry\") {\n      return (\n        <div className=\"tab-content\">\n          <div style={{ flex: \"0 1 auto\", marginLeft: \"10px\" }} />\n          <div\n            id=\"entry-popup\"\n            style={{ overflow: \"auto\", flex: \"1 1 auto\", marginLeft: \"10px\" }}\n          >\n            {this.props.entitytype != null ? (\n              <div>\n                <AddEntry\n                  entryAction={\"Add\"}\n                  type=\"alert\"\n                  targetid={this.props.entityid}\n                  id={\"add_entry\"}\n                  addedentry={this.entryToggle}\n                  errorToggle={this.props.errorToggle}\n                />\n                <SelectedEntry\n                  type={\"alert\"}\n                  id={this.props.entityid}\n                  isPopUp={1}\n                  headerData={this.props.data}\n                  errorToggle={this.props.errorToggle}\n                  createCallback={this.props.createCallback}\n                  removeCallback={this.props.removeCallback}\n                />\n              </div>\n            ) : (\n              <div>Loading...</div>\n            )}\n          </div>\n        </div>\n      );\n    }\n  };\n}\n\nclass EntityValue extends React.Component {\n  render = () => {\n    if (this.props.data !== undefined) {\n      //Entity Detail Popup showing the entity type\n      let entityurl = \"/entity/\" + this.props.data.id;\n\n      return (\n        <div className=\"flair_header\">\n          <div>\n            <Link to={entityurl} target=\"_blank\">\n              Entity {this.props.data.id}\n            </Link>\n            <span>&nbsp;</span>\n            <DetailDataStatus\n              status={this.props.data.status}\n              id={this.props.data.id}\n              type={\"entity\"}\n              errorToggle={this.props.errorToggle}\n            />\n            <span>&nbsp;</span>\n            <Marker\n              type=\"entity\"\n              id={this.props.data.id}\n              string={this.props.value}\n            />\n          </div>\n          <div>\n            <span>{this.props.data.type}:</span>\n            &nbsp;\n            <span>{this.props.value}</span>\n          </div>\n        </div>\n      );\n    } else {\n      //Guide Detail Popup showing the name of the guide that is being applied to\n      return <div className=\"flair_header\">{this.props.value}</div>;\n    }\n  };\n}\n\nclass EntityBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: \"Loading Entries\",\n      entryToolbar: false,\n      appearances: 0,\n      showFullEntityButton: false,\n      isMounted: false\n    };\n  }\n\n  updateAppearances = appearancesNumber => {\n    if (appearancesNumber !== null) {\n      if (appearancesNumber !== 0) {\n        let newAppearancesNumber = this.state.appearances + appearancesNumber;\n        if (this.state.isMounted) {\n          this.setState({ appearances: newAppearancesNumber });\n        }\n      }\n    }\n  };\n\n  entryToggle = () => {\n    if (this.state.entryToolbar === false) {\n      this.setState({ entryToolbar: true });\n    } else {\n      this.setState({ entryToolbar: false });\n    }\n  };\n\n  showFullEntityButton = () => {\n    //don't show the button if in full screen entity view.\n    if (this.props.type !== \"entity\") {\n      this.setState({ showFullEntityButton: true });\n    }\n  };\n\n  linkOnClickIntercept = e => {\n    this.props.linkWarningToggle(e.target.id);\n  };\n\n  componentDidMount() {\n    this.setState({ isMounted: true });\n  }\n\n  componentWillUnmount() {\n    this.setState({ isMounted: false });\n  }\n\n  render = () => {\n    let entityEnrichmentDataArr = [];\n    let entityEnrichmentLinkArr = [];\n    let entityEnrichmentGeoArr = [];\n    let enrichmentEventKey = 4;\n    if (this.props.data !== undefined) {\n      let entityData = this.props.data[\"data\"];\n      for (let prop in entityData) {\n        if (entityData[prop] !== undefined) {\n          if (prop === \"geoip\") {\n            entityEnrichmentGeoArr.push(\n              <Tab\n                eventKey={enrichmentEventKey}\n                className=\"entityPopUpButtons\"\n                style={{ overflow: \"auto\" }}\n                title={prop}\n              >\n                <GeoView\n                  data={entityData[prop].data}\n                  type={this.props.type}\n                  id={this.props.id}\n                  entityData={this.props.data}\n                  errorToggle={this.props.errorToggle}\n                />\n              </Tab>\n            );\n            enrichmentEventKey++;\n          } else if (entityData[prop].type === \"data\") {\n            entityEnrichmentDataArr.push(\n              <Tab\n                eventKey={enrichmentEventKey}\n                className=\"entityPopUpButtons\"\n                style={{ overflow: \"auto\" }}\n                title={prop}\n              >\n                <EntityEnrichmentButtons\n                  dataSource={entityData[prop]}\n                  type={this.props.type}\n                  id={this.props.id}\n                  errorToggle={this.props.errorToggle}\n                />\n              </Tab>\n            );\n            enrichmentEventKey++;\n          } else if (entityData[prop].type === \"link\") {\n            entityEnrichmentLinkArr.push(\n              <Button\n                bsSize=\"xsmall\"\n                target=\"_blank\"\n                id={entityData[prop].data.url}\n                onMouseDown={this.linkOnClickIntercept}\n              >\n                {entityData[prop].data.title}\n              </Button>\n            );\n            enrichmentEventKey++;\n          }\n        }\n      }\n    }\n    //Lazy Loading SelectedEntry as it is not actually loaded when placed at the top of the page due to the calling order.\n\n    //PopOut available\n    //let href = '/#/entity/' + this.props.entityid + '/' + this.props.type + '/' + this.props.id;\n    let href = \"/entity/\" + this.props.entityid;\n    return (\n      <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"tabs\">\n        <Tab\n          eventKey={1}\n          className=\"entityPopUpButtons\"\n          title={this.state.appearances}\n          style={{ height: \"100%\" }}\n        >\n          <div>{entityEnrichmentLinkArr}</div>\n          <div style={{ maxHeight: \"30vh\", overflowY: \"auto\" }}>\n            <span>\n              <b>Appears: {this.state.appearances} times</b>\n            </span>\n            {this.state.showFullEntityButton === true ? (\n              <span style={{ paddingLeft: \"5px\" }}>\n                <Link to={href} style={{ color: \"#c400ff\" }} target=\"_blank\">\n                  List truncated due to large amount of references. Click to\n                  view the whole entity\n                </Link>\n              </span>\n            ) : null}\n            <br />\n            <EntityReferences\n              entityid={this.props.entityid}\n              updateAppearances={this.updateAppearances}\n              type={this.props.type}\n              showFullEntityButton={this.showFullEntityButton}\n              errorToggle={this.props.errorToggle}\n            />\n            <br />\n          </div>\n          <hr style={{ marginTop: \".5em\", marginBottom: \".5em\" }} />\n          <div style={{ maxHeight: \"50vh\", overflowY: \"auto\" }}>\n            <div>\n              <Button bsSize=\"xsmall\" onClick={this.entryToggle}>\n                Add Entry\n              </Button>\n              <br />\n            </div>\n            {this.state.entryToolbar ? (\n              <AddEntry\n                entryAction={\"Add\"}\n                type=\"entity\"\n                targetid={this.props.entityid}\n                id={\"add_entry\"}\n                addedentry={this.entryToggle}\n                errorToggle={this.props.errorToggle}\n              />\n            ) : null}\n            <SelectedEntry\n              type={\"entity\"}\n              id={this.props.entityid}\n              isPopUp={1}\n              errorToggle={this.props.errorToggle}\n              createCallback={this.props.createCallback}\n              removeCallback={this.props.removeCallback}\n            />\n          </div>\n        </Tab>\n        {entityEnrichmentGeoArr}\n        {entityEnrichmentDataArr}\n      </Tabs>\n    );\n  };\n}\n\nclass GeoView extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      copyToEntryToolbar: false,\n      copyToEntityToolbar: false\n    };\n  }\n\n  copyToEntry = () => {\n    if (this.state.copyToEntryToolbar === false) {\n      this.setState({ copyToEntryToolbar: true });\n    } else {\n      this.setState({ copyToEntryToolbar: false });\n    }\n  };\n\n  copyToEntity = () => {\n    if (this.state.copyToEntityToolbar === false) {\n      this.setState({ copyToEntityToolbar: true });\n    } else {\n      this.setState({ copyToEntityToolbar: false });\n    }\n  };\n\n  render() {\n    let trArr = [];\n    let copyArr = [];\n    copyArr.push(\"<table>\");\n    for (let prop in this.props.data) {\n      let value = this.props.data[prop];\n      trArr.push(\n        <tr>\n          <td style={{ paddingRight: \"4px\", paddingLeft: \"4px\" }}>\n            <b>{prop}</b>\n          </td>\n          <td style={{ paddingRight: \"4px\", paddingLeft: \"4px\" }}>\n            {this.props.data[prop]}\n          </td>\n        </tr>\n      );\n      copyArr.push(\n        '<tr><td style={{paddingRight:\"4px\", paddingLeft:\"4px\"}}><b>' +\n          prop +\n          '</b></td><td style={{paddingRight:\"4px\", paddingLeft:\"4px\"}}>' +\n          value +\n          \"</td></tr>\"\n      );\n    }\n    copyArr.push(\"</table>\");\n    let copy = copyArr.join(\"\");\n    return (\n      <div>\n        <Button bsSize=\"xsmall\" onClick={this.copyToEntity}>\n          Copy to <b>{\"entity\"}</b> entry\n        </Button>\n        {this.props.type !== \"alertgroup\" ? (\n          <Button bsSize=\"xsmall\" onClick={this.copyToEntry}>\n            Copy to{\" \"}\n            <b>\n              {this.props.type} {this.props.id}\n            </b>{\" \"}\n            entry\n          </Button>\n        ) : null}\n        {this.state.copyToEntryToolbar ? (\n          <AddEntry\n            entryAction=\"Copy To Entry\"\n            type={this.props.type}\n            targetid={this.props.id}\n            id={this.props.id}\n            addedentry={this.copyToEntry}\n            content={copy}\n            errorToggle={this.props.errorToggle}\n          />\n        ) : null}\n        {this.state.copyToEntityToolbar ? (\n          <AddEntry\n            entryAction=\"Copy To Entry\"\n            type={\"entity\"}\n            targetid={this.props.entityData.id}\n            id={this.props.entityData.id}\n            addedentry={this.copyToEntity}\n            content={copy}\n            errorToggle={this.props.errorToggle}\n          />\n        ) : null}\n        <div className=\"entityTableWrapper\">\n          <table\n            className=\"tablesorter entityTableHorizontal\"\n            id={\"sortableentitytable\"}\n            width=\"100%\"\n          >\n            {trArr}\n          </table>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass EntityEnrichmentButtons extends React.Component {\n  render() {\n    let dataSource = this.props.dataSource;\n    return (\n      <div style={{ overflowY: \"auto\", maxHeight: \"70vh\" }}>\n        <div>\n          <Inspector data={dataSource} expandLevel={4} />\n        </div>\n      </div>\n    );\n  }\n}\n\nclass EntityReferences extends React.Component {\n  constructor(props) {\n    super(props);\n    let maxRecords = 100;\n    //if type == entity then the url is looking for a full screen entity view with all records.\n    if (this.props.type === \"entity\") {\n      maxRecords = undefined;\n    }\n    this.state = {\n      entityDataAlertGroup: null,\n      entityDataEvent: null,\n      entityDataIncident: null,\n      entityDataIntel: null,\n      entityDataSignature: null,\n      maxRecords: maxRecords,\n      loadingAlerts: true,\n      loadingEvents: true,\n      loadingIncidents: true,\n      loadingIntel: true,\n      loadingSignature: true,\n      loading: true,\n      isMounted: false\n    };\n  }\n\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    this.alertRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/alert\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"alert\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"alert\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"alert\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataAlertGroup: arr, loadingAlerts: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature === false\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\n          \"failed to get entity references for alerts\",\n          data\n        );\n      }.bind(this)\n    });\n\n    this.eventRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/event\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"event\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"event\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"event\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataEvent: arr, loadingEvents: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\n          \"failed to get entity reference for events\",\n          data\n        );\n      }.bind(this)\n    });\n\n    ///GUIDES\n    this.guidesRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/guide\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"guide\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"guide\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"guide\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataIncident: arr, loadingIncidents: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature === false\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\n          \"failed to get entity references for guides\",\n          data\n        );\n      }.bind(this)\n    });\n\n    this.incidentRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/incident\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"incident\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"incident\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"incident\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataIncident: arr, loadingIncidents: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature === false\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\n          \"failed to get entity references for incidents\",\n          data\n        );\n      }.bind(this)\n    });\n\n    this.intelRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/intel\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"intel\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"intel\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"intel\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataIntel: arr, loadingIntel: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature === false\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"failed to get entity references for intel\");\n      }.bind(this)\n    });\n\n    this.signatureRequest = $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/entity/\" + this.props.entityid + \"/signature\",\n      data: { sort: JSON.stringify({ id: -1 }) },\n      traditional: true,\n      success: function(result) {\n        result = result.records;\n        let recordNumber = result.length;\n        let arr = [];\n        let arrPromoted = [];\n        let arrClosed = [];\n        let arrOpen = [];\n        if (this.state.maxRecords) {\n          recordNumber = this.state.maxRecords;\n        }\n        for (let i = 0; i < recordNumber; i++) {\n          if (result[i] != null) {\n            if (result[i].status === \"promoted\") {\n              arrPromoted.push(\n                <ReferencesBody\n                  type={\"signature\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else if (result[i].status === \"closed\") {\n              arrClosed.push(\n                <ReferencesBody\n                  type={\"signature\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            } else {\n              arrOpen.push(\n                <ReferencesBody\n                  type={\"signature\"}\n                  data={result[i]}\n                  index={i}\n                  errorToggle={this.props.errorToggle}\n                />\n              );\n            }\n          }\n        }\n        arr.push(arrPromoted);\n        arr.push(arrClosed);\n        arr.push(arrOpen);\n        if (this.state.isMounted) {\n          if (result.length >= 100) {\n            this.props.showFullEntityButton();\n          }\n          this.props.updateAppearances(result.length);\n          this.setState({ entityDataSignature: arr, loadingSignature: false });\n          if (\n            this.state.loadingAlerts === false &&\n            this.state.loadingEvents === false &&\n            this.state.loadingIncidents === false &&\n            this.state.loadingIntel === false &&\n            this.state.loadingSignature === false\n          ) {\n            this.setState({ loading: false });\n          }\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"failed to get entity references for signature\");\n      }.bind(this)\n    });\n    /*\n        this.entityRequest = $.ajax({\n            type: 'get',\n            url: 'scot/api/v2/entity/' + this.props.entityid + '/entity',\n            data: {sort:JSON.stringify({'id':-1})},\n            traditional: true,\n            success: function(result) {\n                var result = result.records\n                let arr = [];\n                let arrPromoted = [];\n                let arrClosed = [];\n                let arrOpen = [];\n                let recordNumber = this.state.maxRecords;\n                if (isNaN(this.state.maxRecords) == true) { recordNumber = eval(this.state.maxRecords) }\n                for(let i=0; i < recordNumber; i++) {\n                    if (result[i] != null) {\n                        if (result[i].status == 'promoted'){\n                            arrPromoted.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                        } else if (result[i].status == 'closed') {\n                            arrClosed.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                        } else {\n                            arrOpen.push(<ReferencesBody type={'entity'} data={result[i]} index={i} errorToggle={this.props.errorToggle}/>)\n                        }\n                    }\n                }\n                arr.push(arrPromoted);\n                arr.push(arrClosed);\n                arr.push(arrOpen);\n                if (this.state.isMounted) {\n                    if (result.length >= 100) {\n                        this.props.showFullEntityButton();\n                    }\n                    this.props.updateAppearances(result.length);\n                    this.setState({entityDataIntel:arr, loadingIntel:false})\n                    if (this.state.loadingAlerts == false && this.state.loadingEvents == false && this.state.loadingIncidents == false && this.state.loadingIntel == false) {\n                        this.setState({loading:false});\n                    }\n                }\n            }.bind(this),\n            error: function(data) {\n                this.props.errorToggle('failed to get entity references for entity')\n            }.bind(this)\n        })*/\n  };\n\n  componentDidUpdate = () => {};\n\n  componentWillUnmount = () => {\n    this.setState({ isMounted: false });\n  };\n\n  render = () => {\n    let id = \"sortableentitytable\" + this.props.entityid;\n    return (\n      <div className=\"entityTableWrapper\">\n        {this.state.loading ? (\n          <span>\n            Loading: {this.state.loadingAlerts ? <span>Alerts </span> : null}\n            {this.state.loadingEvents ? <span>Events </span> : null}\n            {this.state.loadingIncidents ? <span>Incidents </span> : null}\n            {this.state.loadingIntel ? <span>Intel </span> : null}\n            {this.state.loadingSignature ? <span>Signature </span> : null}\n          </span>\n        ) : null}\n        <table\n          className=\"tablesorter entityTableHorizontal\"\n          id={id}\n          width=\"100%\"\n        >\n          <thead>\n            <tr>\n              <th>peek</th>\n              <th>status</th>\n              <th>id</th>\n              <th>type</th>\n              <th>entries</th>\n              <th>subject</th>\n              <th>last updated</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.entityDataSignature}\n            {this.state.entityDataIntel}\n            {this.state.entityDataIncident}\n            {this.state.entityDataEvent}\n            {this.state.entityDataAlertGroup}\n          </tbody>\n        </table>\n      </div>\n    );\n  };\n}\n\nclass ReferencesBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showSummary: false,\n      summaryExists: true\n    };\n  }\n\n  onClick = () => {\n    $.ajax({\n      type: \"GET\",\n      url:\n        \"scot/api/v2/\" + this.props.type + \"/\" + this.props.data.id + \"/entry\",\n      success: function(result) {\n        let entryResult = result.records;\n        let summary = false;\n        for (let i = 0; i < entryResult.length; i++) {\n          if (entryResult[i].class === \"summary\") {\n            summary = true;\n            if (this.isMounted) {\n              this.setState({\n                showSummary: true,\n                summaryData: entryResult[i].body_plain\n              });\n              $(\"#entityTable\" + this.props.data.id).qtip({\n                content: { text: entryResult[i].body_plain },\n                style: { classes: \"qtip-scot\" },\n                hide: \"unfocus\",\n                position: {\n                  my: \"top left\",\n                  at: \"right\",\n                  target: $(\"#entitySummaryRow\" + this.props.data.id)\n                }, //[position.left,position.top] },\n                show: { ready: true, event: \"click\" }\n              });\n              break;\n            }\n          }\n        }\n        if (summary === false) {\n          $(\"#entityTable\" + this.props.data.id).qtip({\n            content: { text: \"No Summary Found\" },\n            style: { classes: \"qtip-scot\" },\n            hide: \"unfocus\",\n            position: {\n              my: \"top left\",\n              at: \"right\",\n              target: $(\"#entitySummaryRow\" + this.props.data.id)\n            },\n            show: { ready: true, event: \"click\" }\n          });\n        }\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\n          \"Summary Query failed for: \" +\n            this.props.type +\n            \":\" +\n            this.props.data.id,\n          data\n        );\n      }.bind(this)\n    });\n  };\n\n  render() {\n    let id = this.props.data.id;\n    let trId = \"entityTable\" + this.props.data.id;\n    let tdId = \"entitySummaryRow\" + this.props.data.id;\n    let aHref = null;\n    let promotedHref = null;\n    let statusColor = null;\n    let daysSince = null;\n    let subject = this.props.data.subject;\n    let updatedTime = this.props.data.updated;\n    let updatedTimeHumanReadable = \"\";\n    if (this.props.data.status === \"promoted\") {\n      statusColor = \"orange\";\n    } else if (this.props.data.status === \"closed\") {\n      statusColor = \"green\";\n    } else if (this.props.data.status === \"open\") {\n      statusColor = \"red\";\n    } else {\n      statusColor = \"black\";\n    }\n    if (this.props.type === \"alert\") {\n      aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n      //aHref = '/#/alertgroup/' + this.props.data.alertgroup;\n      promotedHref = \"/#/event/\" + this.props.data.promotion_id;\n    } else if (this.props.type === \"event\") {\n      promotedHref = \"/#/incident/\" + this.props.data.promotion_id;\n      aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n    } else {\n      aHref = \"/\" + this.props.type + \"/\" + this.props.data.id;\n    }\n    if (subject === undefined) {\n      if (this.props.data.data !== undefined) {\n        if (this.props.data.data.alert_name !== undefined) {\n          subject = this.props.data.data.alert_name;\n        } else {\n          subject = \"\";\n        }\n      } else {\n        subject = \"\";\n      }\n    }\n    if (updatedTime !== undefined) {\n      daysSince = Math.floor(\n        (Math.round(new Date().getTime() / 1000) - updatedTime) / 86400\n      );\n      updatedTimeHumanReadable = new Date(1000 * updatedTime).toLocaleString();\n    }\n    return (\n      <tr id={trId}>\n        <td\n          style={{\n            textAlign: \"center\",\n            cursor: \"pointer\",\n            verticalAlign: \"top\"\n          }}\n          onClick={this.onClick}\n          id={tdId}\n        >\n          <i className=\"fa fa-eye fa-1\" aria-hidden=\"true\" />\n        </td>\n        {this.props.data.status === \"promoted\" ? (\n          <td\n            style={{\n              paddingRight: \"4px\",\n              paddingLeft: \"4px\",\n              verticalAlign: \"top\"\n            }}\n          >\n            <Button\n              bsSize=\"xsmall\"\n              bsStyle={\"warning\"}\n              id={this.props.data.id}\n              href={promotedHref}\n              target=\"_blank\"\n              style={{\n                lineHeight: \"12pt\",\n                fontSize: \"10pt\",\n                marginLeft: \"auto\"\n              }}\n            >\n              {this.props.data.status}\n            </Button>\n          </td>\n        ) : (\n          <td\n            style={{\n              color: statusColor,\n              paddingRight: \"4px\",\n              paddingLeft: \"4px\",\n              verticalAlign: \"top\"\n            }}\n          >\n            {this.props.data.status}\n          </td>\n        )}\n        <td\n          style={{\n            paddingRight: \"4px\",\n            paddingLeft: \"4px\",\n            verticalAlign: \"top\"\n          }}\n        >\n          <Link to={aHref} target=\"_blank\">\n            {this.props.data.id}\n          </Link>\n        </td>\n        <td\n          style={{\n            paddingRight: \"4px\",\n            paddingLeft: \"4px\",\n            verticalAlign: \"top\"\n          }}\n        >\n          {this.props.type}\n        </td>\n        <td\n          style={{\n            paddingRight: \"4px\",\n            paddingLeft: \"4px\",\n            textAlign: \"center\",\n            verticalAlign: \"top\"\n          }}\n        >\n          {this.props.data.entry_count}\n        </td>\n        <td\n          style={{\n            paddingRight: \"4px\",\n            paddingLeft: \"4px\",\n            verticalAlign: \"top\"\n          }}\n        >\n          {subject}\n        </td>\n        <td\n          style={{\n            paddingRight: \"4px\",\n            paddingLeft: \"4px\",\n            verticalAlign: \"top\"\n          }}\n          title={updatedTimeHumanReadable}\n        >\n          {daysSince} days ago\n        </td>\n      </tr>\n    );\n  }\n}\n\nclass GuideBody extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entryToolbar: false\n    };\n  }\n\n  entryToggle = () => {\n    if (this.state.entryToolbar === false) {\n      this.setState({ entryToolbar: true });\n    } else {\n      this.setState({ entryToolbar: false });\n    }\n  };\n\n  render() {\n    return (\n      <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"pills\">\n        <Tab eventKey={1} style={{ overflow: \"auto\", maxHeight: \"70vh\" }}>\n          <div>\n            <Button bsSize=\"xsmall\" onClick={this.entryToggle}>\n              Add Entry\n            </Button>\n            <br />\n          </div>\n          {this.state.entryToolbar ? (\n            <AddEntry\n              entryAction={\"Add\"}\n              type=\"guide\"\n              targetid={this.props.entityid}\n              id={\"add_entry\"}\n              addedentry={this.entryToggle}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          <SelectedEntry\n            type={\"guide\"}\n            form={this.props.form}\n            id={this.props.entityid}\n            isPopUp={1}\n            headerData={this.props.data}\n            errorToggle={this.props.errorToggle}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        </Tab>\n      </Tabs>\n    );\n  }\n}\n\nclass SourceBody extends React.Component {\n  render() {\n    return (\n      <div>\n        <h2>Source</h2>\n        <Tabs className=\"tab-content\" defaultActiveKey={1} bsStyle=\"tabs\">\n          <Tab\n            eventKey={1}\n            className=\"entityPopUpButtons\"\n            style={{ overflow: \"auto\", maxHeight: \"70vh\" }}\n            title=\"Rendered\"\n          >\n            <Frame\n              style={{ width: \"100%\" }}\n              head={\n                <link\n                  rel=\"stylesheet\"\n                  type=\"text/css\"\n                  href=\"/css/sandbox.css\"\n                />\n              }\n              frameBorder={\"0\"}\n              id={\"iframe_\" + this.props.entityid}\n              sandbox={\"allow-same-origin\"}\n              height=\"500px\"\n            >\n              <div dangerouslySetInnerHTML={{ __html: this.props.data.body }} />\n            </Frame>\n          </Tab>\n          <Tab\n            eventKey={2}\n            className=\"entityPopUpButtons\"\n            style={{ overflow: \"auto\", maxHeight: \"70vh\" }}\n            title=\"Raw Text\"\n          >\n            <Frame\n              head={\n                <link\n                  rel=\"stylesheet\"\n                  type=\"text/css\"\n                  href=\"/css/sandbox.css\"\n                />\n              }\n              style={{ width: \"100%\" }}\n              frameBorder={\"0\"}\n              id={\"iframe_\" + this.props.entityid}\n              sandbox={\"allow-same-origin\"}\n              styleSheets={[\"/css/sandbox.css\"]}\n              height=\"500px\"\n            >\n              >\n              <div\n                dangerouslySetInnerHTML={{ __html: this.props.data.body_plain }}\n              />\n            </Frame>\n          </Tab>\n        </Tabs>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport Dropdown from \"react-bootstrap/lib/Dropdown\";\nlet MenuItem = require(\"react-bootstrap/lib/MenuItem\");\nlet DropdownToggle = require(\"react-bootstrap/lib/DropdownToggle\");\nlet DropdownMenu = require(\"react-bootstrap/lib/DropdownMenu\");\nlet OverlayTrigger = require(\"react-bootstrap/lib/OverlayTrigger\");\nlet Tooltip = require(\"react-bootstrap/lib/Tooltip\");\n\nexport default class TrafficLightProtocol extends React.Component {\n  selectColor = e => {\n    let data = { tlp: e };\n    this.serverRequest = $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/\",\n      data: JSON.stringify(data),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function() {\n        console.log(\"set tlp\");\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to set TLP\", data);\n      }\n    });\n    //this.setState({ color: e });\n  };\n\n  render = () => {\n    return (\n      <span\n        style={{ padding: this.props.type === \"entry\" ? \"3px 20px\" : null }}\n      >\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip id=\"tlp-tooltip\">{this.props.tlp}</Tooltip>}\n        >\n          <Dropdown\n            bsSize=\"xsmall\"\n            bsStyle={{\n              padding: this.props.type === \"entry\" ? \"3px 20px\" : null\n            }}\n          >\n            <DropdownToggle>\n              <svg id=\"trafficlight1\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle1\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"red\" || this.props.tlp === \"white\"\n                        ? this.props.tlp\n                        : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n              <svg id=\"trafficlight2\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle2\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"amber\" && this.props.tlp !== \"white\"\n                        ? \"orange\"\n                        : this.props.tlp === \"white\"\n                          ? \"white\"\n                          : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n              <svg id=\"trafficlight2\" style={{ width: \"12px\", height: \"12px\" }}>\n                <circle\n                  id=\"circle3\"\n                  r=\"5\"\n                  cx=\"6\"\n                  cy=\"6\"\n                  style={{\n                    fill:\n                      this.props.tlp === \"green\" || this.props.tlp === \"white\"\n                        ? this.props.tlp\n                        : \"gray\",\n                    stroke: \"black\",\n                    strokeWidth: \"2\"\n                  }}\n                />\n              </svg>\n            </DropdownToggle>\n            <DropdownMenu>\n              <MenuItem header>Traffic Light Protocol (TLP) Color</MenuItem>\n              <MenuItem eventKey=\"unset\" onSelect={this.selectColor}>\n                Unset\n              </MenuItem>\n              <MenuItem eventKey=\"red\" onSelect={this.selectColor}>\n                Red\n              </MenuItem>\n              <MenuItem eventKey=\"amber\" onSelect={this.selectColor}>\n                Amber\n              </MenuItem>\n              <MenuItem eventKey=\"green\" onSelect={this.selectColor}>\n                Green\n              </MenuItem>\n              <MenuItem eventKey=\"white\" onSelect={this.selectColor}>\n                White\n              </MenuItem>\n              <MenuItem divider />\n              <MenuItem href=\"https://www.us-cert.gov/tlp\">\n                What is TLP?\n              </MenuItem>\n            </DropdownMenu>\n          </Dropdown>\n        </OverlayTrigger>\n      </span>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ButtonGroup from \"react-bootstrap/lib/ButtonGroup.js\";\nimport Button from \"react-bootstrap/lib/Button.js\";\nimport Promote from \"../components/promote.js\";\nimport Marker from \"../components/marker.js\";\nimport TrafficLightProtocol from \"../components/traffic_light_protocol.js\";\nimport { CSVLink } from \"react-csv\";\nimport { put_data } from \"../utils/XHR\";\n\nexport default class SelectedHeaderOptions extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      globalFlairState: true,\n      promoteRemaining: null,\n      dataToDownload: []\n    };\n  }\n\n  toggleFlair = () => {\n    let newGlobalFlairState = !this.state.globalFlairState;\n    this.props.toggleFlair();\n    $(\"iframe\").each(\n      function(index, ifr) {\n        if (ifr.contentDocument != null) {\n          let ifrContents = $(ifr).contents();\n          let off = ifrContents.find(\".entity-off\");\n          let on = ifrContents.find(\".entity\");\n          if (this.state.globalFlairState === false) {\n            ifrContents.find(\".extras\").show();\n            ifrContents.find(\".flair-off\").hide();\n            off.each(function(index, entity) {\n              $(entity).addClass(\"entity\");\n              $(entity).removeClass(\"entity-off\");\n            });\n          } else {\n            ifrContents.find(\".extras\").hide();\n            ifrContents.find(\".flair-off\").show();\n            on.each(function(index, entity) {\n              $(entity).addClass(\"entity-off\");\n              $(entity).removeClass(\"entity\");\n            });\n          }\n        }\n      }.bind(this)\n    );\n    this.setState({ globalFlairState: newGlobalFlairState });\n  };\n\n  alertOpenOrCloseSelected = flag => {\n    let iterarray = [];\n    if (this.props.alertsSelected.length > 0) {\n      iterarray = this.props.alertsSelected;\n    } else if (this.props.entryData.length > 0) {\n      iterarray = this.props.entryData;\n    }\n    let array = iterarray.map(function(alert) {\n      let object = { id: alert.id, status: flag };\n      if (flag === \"closed\") {\n        object[\"closed\"] = Math.round(new Date().getTime() / 1000);\n      }\n      return object;\n    });\n\n    let data = { alerts: array };\n\n    this.props.ToggleProcessingMessage(true);\n    let endpoint = `/scot/api/v2/${this.props.type}/${this.props.id}`;\n    let response = put_data(endpoint, data);\n    response\n      .then(\n        function() {\n          console.log(\"success\");\n          this.props.ToggleProcessingMessage(false);\n        }.bind(this)\n      )\n      .catch(\n        function(data) {\n          this.props.errorToggle(`failed to ${flag} selected alerts`, data);\n          this.props.ToggleProcessingMessage(false);\n        }.bind(this)\n      );\n  };\n\n  alertPromoteSelected = () => {\n    let data = JSON.stringify({ promote: \"new\" });\n    let array = this.props.alertsSelected.map(alert => alert.id);\n\n    this.props.ToggleProcessingMessage(true);\n\n    //Start by promoting the first one in the array\n    let endpoint = `/scot/api/v2/alert/${array[0]}`;\n    let response = put_data(endpoint, data);\n    response.then(\n      function(response) {\n        let promoteTo = {\n          promote: response.data.pid\n        };\n        if (array.length === 1) {\n          this.props.ToggleProcessingMessage(false);\n        }\n        array.forEach(\n          function(alert_id, index) {\n            if (index === 0) {\n              console.log(\"promoting rest of alerts\");\n            } else {\n              let endpoint = `/scot/api/v2/alert/${alert_id}`;\n              let response2 = put_data(endpoint, promoteTo);\n              response2\n                .then(\n                  function() {\n                    if (index + 1 === array.length) {\n                      this.props.ToggleProcessingMessage(false);\n                    }\n                  }.bind(this)\n                )\n                .catch(\n                  function(data) {\n                    this.props.errorToggle(\n                      \"failed to promoted selected alerts\",\n                      data\n                    );\n                  }.bind(this)\n                );\n            }\n          }.bind(this)\n        );\n      }.bind(this)\n    );\n  };\n\n  alertSelectExisting = () => {\n    let text = prompt(\"Please Enter Event ID to promote into\");\n    if (text !== \"\" && text !== null) {\n      this.props.alertsSelected.forEach(\n        function(alert) {\n          let data = { promote: parseInt(text, 10) };\n          let endpoint = `/scot/api/v2/alert/${alert.id}`;\n          let response = put_data(endpoint, data);\n          response\n            .then(function() {\n              window.open(\"#/event/\" + text);\n            })\n            .catch(\n              function() {\n                prompt(\"Please use numbers only\");\n                this.selectExisting();\n              }.bind(this)\n            );\n        }.bind(this)\n      );\n    }\n  };\n\n  alertExportCSV = () => {\n    const currentRecords = this.props.alertsSelected;\n    var data_to_download = [];\n    currentRecords.forEach(\n      function(row) {\n        Object.keys(row).forEach(function(key) {\n          //here lets strip html tags\n          if (typeof row[key] === \"string\") {\n            let regex = /(<([^>]+)>)/gi;\n            let body = row[key];\n            row[key] = body.replace(regex, \"\");\n          }\n        });\n        data_to_download.push(row);\n      }.bind(this)\n    );\n\n    this.setState({ dataToDownload: data_to_download }, () => {\n      // click the CSVLink component to trigger the CSV download\n      this.csvLink.link.click();\n    });\n  };\n\n  PrintPrepare = () => {\n    $(\"iframe\")\n      .contents()\n      .each(function(x, y) {\n        $(y)\n          .find(\"blockquote\")\n          .each(function(index, block) {\n            $(block).css({ \"max-height\": \"5000px\" });\n          });\n        $(y)\n          .find(\"pre\")\n          .each(function(index, pre) {\n            $(pre).css({ \"max-height\": \"5000px\", \"word-wrap\": \"break-word\" });\n          });\n      });\n    setTimeout(\n      function() {\n        this.forceUpdate();\n      }.bind(this),\n      500\n    );\n    setTimeout(function() {\n      $(\"#print-button\").click();\n    }, 1000);\n  };\n\n  Print = () => {\n    window.print();\n  };\n\n  componentDidMount = () => {\n    //open, close SELECTED alerts\n    if (this.props.type === \"alertgroup\" || this.props.type === \"alert\") {\n      $(\"#main-detail-container\").keydown(\n        function(event) {\n          if ($(\"input\").is(\":focus\")) {\n            return;\n          }\n          if (\n            event.keyCode === 79 &&\n            (event.ctrlKey !== true && event.metaKey !== true)\n          ) {\n            this.alertOpenOrCloseSelected(\"open\");\n          }\n          if (\n            event.keyCode === 67 &&\n            (event.ctrlKey !== true && event.metaKey !== true)\n          ) {\n            this.alertOpenOrCloseSelected(\"closed\");\n          }\n        }.bind(this)\n      );\n    }\n    $(\"#main-detail-container\").keydown(\n      function(event) {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if (\n          event.keyCode === 84 &&\n          (event.ctrlKey !== true && event.metaKey !== true)\n        ) {\n          this.toggleFlair();\n        }\n      }.bind(this)\n    );\n  };\n\n  componentWillUnmount = () => {\n    $(\"#main-detail-container\").unbind(\"keydown\");\n  };\n\n  guideToggle = () => {\n    let entityoffset = { top: 0, left: 0 }; //set to 0 so it appears in a default location.\n    this.props.flairToolbarToggle(\n      this.props.guideID,\n      null,\n      \"guide\",\n      entityoffset,\n      null\n    );\n  };\n\n  sourceToggle = () => {\n    let entityoffset = { top: 0, left: 0 }; //set to 0 so it appears in a default location.\n    this.props.flairToolbarToggle(\n      this.props.id,\n      null,\n      \"source\",\n      entityoffset,\n      null\n    );\n  };\n\n  createGuide = () => {\n    let data = JSON.stringify({\n      subject: \"ENTER A GUIDE NAME\",\n      applies_to: [this.props.subjectName]\n    });\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/guide\",\n      data: data,\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(response) {\n        window.open(\"/#/guide/\" + response.id);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"failed to create a new guide\", data);\n      }.bind(this)\n    });\n  };\n  reparseFlair = () => {\n    $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function() {\n        console.log(\"reparsing started\");\n      },\n      error: function(data) {\n        this.props.errorToggle(\"failed to reparse flair\", data);\n      }.bind(this)\n    });\n  };\n\n  createLinkSignature = () => {\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/signature\",\n      data: JSON.stringify({\n        target: { id: this.props.id, type: this.props.type },\n        name: \"Name your Signature\",\n        status: \"disabled\"\n      }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(response) {\n        const url = \"/#/signature/\" + response.id;\n        window.open(url, \"_blank\");\n      },\n      error: function(data) {\n        this.props.errorToggle(\"failed to create a signature\", data);\n      }.bind(this)\n    });\n  };\n\n  manualUpdate = () => {\n    this.props.updated(null, null);\n  };\n\n  render = () => {\n    let subjectType = this.props.subjectType;\n    let type = this.props.type;\n    let id = this.props.id;\n    let status = this.props.status;\n\n    let string = \"\";\n\n    if (this.props.headerData.subject) {\n      string = this.props.headerData.subject;\n    } else if (this.props.headerData.value) {\n      string = this.props.headerData.value;\n    } else if (this.props.headerData.name) {\n      string = this.props.headerData.name;\n    } else if (this.props.headerData.body) {\n      string = this.props.headerData.body;\n    }\n\n    if (type !== \"alertgroup\") {\n      let newType;\n      let showPromote = true;\n      if (status !== \"promoted\") {\n        if (type === \"alert\") {\n          newType = \"Event\";\n        } else if (type === \"event\") {\n          newType = \"Incident\";\n        } else if (\n          type === \"incident\" ||\n          type === \"guide\" ||\n          type === \"intel\" ||\n          type === \"signature\" ||\n          type === \"entity\"\n        ) {\n          showPromote = false;\n        }\n      } else {\n        showPromote = false;\n      }\n      return (\n        <div className=\"entry-header detail-buttons\">\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"1\"\n              bsStyle=\"success\"\n              onClick={this.props.entryToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" /> Add Entry\n            </Button>\n          ) : null}\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"2\"\n              onClick={this.props.fileUploadToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-upload\" aria-hidden=\"true\" /> Upload File\n            </Button>\n          ) : null}\n          <Button eventkey=\"3\" onClick={this.toggleFlair} bsSize=\"xsmall\">\n            <i className=\"fa fa-eye-slash\" aria-hidden=\"true\" /> Toggle Flair\n          </Button>\n          {type === \"alertgroup\" || type === \"event\" || type === \"intel\" ? (\n            <Button\n              eventkey=\"4\"\n              onClick={this.props.viewedByHistoryToggle}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/clock.png\" alt=\"\" /> Viewed By History\n            </Button>\n          ) : null}\n          <Button\n            eventkey=\"5\"\n            onClick={this.props.changeHistoryToggle}\n            bsSize=\"xsmall\"\n          >\n            <img src=\"/images/clock.png\" alt=\"\" /> {subjectType} History\n          </Button>\n          {type !== \"entity\" ? (\n            <Button\n              eventkey=\"6\"\n              onClick={this.props.permissionsToggle}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-users\" aria-hidden=\"true\" /> Permissions\n            </Button>\n          ) : null}\n          <TrafficLightProtocol\n            type={type}\n            id={id}\n            tlp={this.props.headerData.tlp}\n          />\n          <Button\n            eventkey=\"7\"\n            onClick={this.props.entitiesToggle}\n            bsSize=\"xsmall\"\n          >\n            <span className=\"entity\">__</span> View Entities\n          </Button>\n          {type === \"guide\" ? (\n            <Button\n              eventkey=\"8\"\n              onClick={this.props.guideRedirectToAlertListWithFilter}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-table\" aria-hidden=\"true\" /> View Related\n              Alerts\n            </Button>\n          ) : null}\n          <Button onClick={this.props.linksModalToggle} bsSize=\"xsmall\">\n            <i className=\"fa fa-link\" aria-hidden=\"true\" /> Links\n          </Button>\n          {showPromote ? (\n            <Promote\n              type={type}\n              id={id}\n              updated={this.props.updated}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {type !== \"signature\" ? (\n            <Button bsSize=\"xsmall\" onClick={this.createLinkSignature}>\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\" /> Create & Link\n              Signature\n            </Button>\n          ) : null}\n          {type === \"signature\" ? (\n            <Button\n              eventkey=\"11\"\n              onClick={this.props.showSignatureOptionsToggle}\n              bsSize=\"xsmall\"\n              bsStyle=\"warning\"\n            >\n              View Custom Options\n            </Button>\n          ) : null}\n          <Button onClick={this.PrintPrepare} bsSize=\"xsmall\" bsStyle=\"info\">\n            <i className=\"fa fa-print\" aria-hidden=\"true\" /> Print\n          </Button>\n          <Button\n            onClick={this.Print}\n            style={{ display: \"none\" }}\n            id=\"print-button\"\n          />\n          <Button\n            onClick={this.props.exportToggle}\n            bsSize=\"xsmall\"\n            id=\"export-button\"\n          >\n            <i className=\"fa fa-share\" aria-hidden=\"true\" /> Export{\" \"}\n            {subjectType}{\" \"}\n          </Button>\n          <Button\n            bsStyle=\"danger\"\n            eventkey=\"9\"\n            onClick={() => this.props.deleteToggle(type)}\n            bsSize=\"xsmall\"\n          >\n            <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete{\" \"}\n            {subjectType}\n          </Button>\n          <ButtonGroup style={{ float: \"right\" }}>\n            <Marker type={type} id={id} string={string} />\n            <Button onClick={this.props.markModalToggle} bsSize=\"xsmall\">\n              Marked Objects\n            </Button>\n            <Button\n              id=\"refresh-detail\"\n              bsStyle=\"info\"\n              eventkey=\"10\"\n              onClick={this.manualUpdate}\n              bsSize=\"xsmall\"\n              style={{ float: \"right\" }}\n            >\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n            </Button>\n          </ButtonGroup>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"entry-header second-menu detail-buttons\">\n          <ButtonGroup style={{ float: \"right\" }}>\n            <Marker type={type} id={id} string={string} />\n            <Button onClick={this.props.markModalToggle} bsSize=\"xsmall\">\n              Marked Actions\n            </Button>\n            <Button\n              bsStyle=\"info\"\n              eventkey=\"16\"\n              onClick={this.manualUpdate}\n              bsSize=\"xsmall\"\n              style={{ float: \"right\" }}\n            >\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" />\n            </Button>\n          </ButtonGroup>\n          <span className=\"entry-header detail-buttons\">\n            <Button eventkey=\"1\" onClick={this.toggleFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-eye-slash\" aria-hidden=\"true\" /> Toggle Flair\n            </Button>\n            <Button eventkey=\"2\" onClick={this.reparseFlair} bsSize=\"xsmall\">\n              <i className=\"fa fa-refresh\" aria-hidden=\"true\" /> Reparse Flair\n            </Button>\n            <span>\n              {this.props.guideID !== null ? (\n                <Button eventkey=\"3\" onClick={this.guideToggle} bsSize=\"xsmall\">\n                  <img src=\"/images/guide.png\" alt=\"\" /> Guide\n                </Button>\n              ) : (\n                <Button eventkey=\"3\" onClick={this.createGuide} bsSize=\"xsmall\">\n                  <img src=\"/images/guide.png\" alt=\"\" /> Create Guide\n                </Button>\n              )}\n            </span>\n            {this.props.headerData == null ? null : (\n              <Button eventkey=\"4\" onClick={this.sourceToggle} bsSize=\"xsmall\">\n                <img src=\"/images/code.png\" alt=\"\" /> View Source\n              </Button>\n            )}\n            <Button\n              eventkey=\"5\"\n              onClick={this.props.entitiesToggle}\n              bsSize=\"xsmall\"\n            >\n              <span className=\"entity\">__</span> View Entities\n            </Button>\n            {type === \"alertgroup\" || type === \"event\" || type === \"intel\" ? (\n              <Button\n                eventkey=\"6\"\n                onClick={this.props.viewedByHistoryToggle}\n                bsSize=\"xsmall\"\n              >\n                <img src=\"/images/clock.png\" alt=\"\" /> Viewed By History\n              </Button>\n            ) : null}\n            <Button\n              eventkey=\"7\"\n              onClick={this.props.changeHistoryToggle}\n              bsSize=\"xsmall\"\n            >\n              <img src=\"/images/clock.png\" alt=\"\" /> {subjectType} History\n            </Button>\n            <TrafficLightProtocol\n              type={type}\n              id={id}\n              tlp={this.props.headerData.tlp}\n            />\n            <Button onClick={this.props.linksModalToggle} bsSize=\"xsmall\">\n              <i className=\"fa fa-link\" aria-hidden=\"true\" /> Links\n            </Button>\n            <Button bsSize=\"xsmall\" onClick={this.createLinkSignature}>\n              <i className=\"fa fa-pencil\" aria-hidden=\"true\" /> Create & Link\n              Signature\n            </Button>\n\n            <Button\n              onClick={this.Print}\n              style={{ display: \"none\" }}\n              id=\"print-button\"\n            />\n            <Button\n              bsStyle=\"danger\"\n              eventkey=\"8\"\n              onClick={() => this.props.deleteToggle(type)}\n              bsSize=\"xsmall\"\n            >\n              <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete{\" \"}\n              {subjectType}\n            </Button>\n          </span>\n          {this.props.alertsSelected.length > 0 ? (\n            <span>\n              <Button\n                eventkey=\"8\"\n                onClick={() => this.alertOpenOrCloseSelected(\"open\")}\n                bsSize=\"xsmall\"\n                bsStyle=\"danger\"\n              >\n                <img src=\"/images/open.png\" alt=\"\" /> Open Selected\n              </Button>\n              <Button\n                eventkey=\"9\"\n                onClick={() => this.alertOpenOrCloseSelected(\"closed\")}\n                bsSize=\"xsmall\"\n                bsStyle=\"success\"\n              >\n                <i className=\"fa fa-flag-checkered\" aria-hidden=\"true\" /> Close\n                Selected\n              </Button>\n              <Button\n                eventkey=\"10\"\n                onClick={this.alertPromoteSelected}\n                bsSize=\"xsmall\"\n                bsStyle=\"warning\"\n              >\n                <img src=\"/images/megaphone.png\" alt=\"\" /> Promote Selected\n              </Button>\n              <Button\n                eventkey=\"11\"\n                onClick={this.alertSelectExisting}\n                bsSize=\"xsmall\"\n              >\n                <img src=\"/images/megaphone_plus.png\" alt=\"\" /> Add Selected to{\" \"}\n                <b>Existing Event</b>\n              </Button>\n              <CSVLink\n                data={this.state.dataToDownload}\n                filename=\"data.csv\"\n                className=\"hidden\"\n                ref={r => (this.csvLink = r)}\n                target=\"_blank\"\n              />\n              <Button\n                eventkey=\"14\"\n                onClick={this.alertExportCSV}\n                bsSize=\"xsmall\"\n              >\n                <img src=\"/images/csv_text.png\" alt=\"\" /> Export to CSV\n              </Button>\n              <Marker\n                type={type}\n                id={id}\n                string={string}\n                isAlert={true}\n                getSelectedAlerts={this.getSelectedAlerts}\n                alertsSelected={this.props.alertsSelected}\n              />\n              <Button\n                onClick={this.PrintPrepare}\n                bsSize=\"xsmall\"\n                bsStyle=\"info\"\n              >\n                <i className=\"fa fa-print\" aria-hidden=\"true\" /> Print\n              </Button>\n              <Button\n                onClick={this.Print}\n                style={{ display: \"none\" }}\n                id=\"print-button\"\n              />\n              <Button\n                eventkey=\"15\"\n                onClick={() => this.props.deleteToggle(\"alert\")}\n                bsSize=\"xsmall\"\n                bsStyle=\"danger\"\n              >\n                <i className=\"fa fa-trash\" aria-hidden=\"true\" /> Delete Selected\n              </Button>\n            </span>\n          ) : null}\n        </div>\n      );\n    }\n  };\n}\n","import React, { PureComponent } from \"react\";\nimport Modal from \"react-modal\";\nimport { Button } from \"react-bootstrap\";\nimport PropTypes from \"prop-types\";\nimport $ from \"jquery\";\nimport { withSnackbar } from \"notistack\";\nimport { delete_data } from \"../utils/XHR\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  },\n  overlay: {\n    zIndex: \"1101\"\n  }\n};\n\nconst ACTION_BUTTONS = {\n  READY: {\n    style: \"danger\"\n  },\n  LOADING: {\n    text: \"Processing...\",\n    style: \"default\",\n    disabled: true\n  },\n  SUCCESS: {\n    text: \"Success!\",\n    style: \"success\"\n  },\n  ERROR: {\n    text: \"Error!\",\n    style: \"warning\"\n  }\n};\n\nclass DeleteThing extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      key: props.id\n    };\n  }\n\n  deleteItems = () => {\n    const { deleteType } = this.props;\n    let iterator = [];\n    if (deleteType !== \"alert\") {\n      iterator = [parseInt(this.props.id, 10)];\n    } else {\n      iterator = this.props.alertsSelected.map(alert => alert.id);\n    }\n    iterator.forEach(\n      function(id, index) {\n        const { enqueueSnackbar } = this.props;\n        let url = `/scot/api/v2/${deleteType}/${id}`;\n\n        const response = delete_data(url);\n        this.props.removeCallback(parseInt(this.props.id, 10));\n        response\n          .then(\n            function() {\n              if (index === iterator.length - 1 && deleteType === \"alert\") {\n                this.props.updated();\n              }\n              if (deleteType !== \"alert\") {\n                this.props.history.push(\"/\" + deleteType);\n                enqueueSnackbar(`Successfully deleted ${this.props.id}.`, {\n                  variant: \"success\"\n                });\n              } else if (deleteType === \"alert\") {\n                enqueueSnackbar(`Successfully deleted ${id}.`, {\n                  variant: \"success\"\n                });\n              }\n            }.bind(this)\n          )\n          .catch(function(error) {\n            enqueueSnackbar(\"Failed deleting exception.\", {\n              variant: \"error\"\n            });\n          });\n      }.bind(this)\n    );\n    this.props.deleteToggle(deleteType);\n  };\n\n  render() {\n    const { deleteType } = this.props;\n    let deleteText = \"\";\n    if (deleteType !== \"alert\") {\n      deleteText = ` ${deleteType}: ${this.props.id}`;\n    } else if (deleteType === \"alert\") {\n      let deleteTempArray = this.props.alertsSelected.map(function(alert) {\n        return <span style={{ paddingRight: 10 }}>{alert.id}</span>;\n      });\n      deleteText = (\n        <span>\n          {deleteType}(s) : {deleteTempArray}\n        </span>\n      );\n    }\n    return (\n      <Modal\n        isOpen={true}\n        onRequestClose={this.props.deleteToggle}\n        style={customStyles}\n      >\n        <div className=\"modal-header\">\n          <img\n            alt=\"\"\n            src=\"images/close_toolbar.png\"\n            className=\"close_toolbar\"\n            onClick={this.props.deleteToggle}\n          />\n\n          <h3 id=\"myModalLabel\">\n            Are you sure you want to delete {deleteText}?\n          </h3>\n        </div>\n        <div className=\"modal-footer\">\n          <Button id=\"cancel-delete\" onClick={this.props.deleteToggle}>\n            Cancel\n          </Button>\n          <Button bsStyle=\"danger\" id=\"delete\" onClick={this.deleteItems}>\n            Delete\n          </Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport class DeleteEntry extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      key: props.id\n    };\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle() {\n    $.ajax({\n      type: \"delete\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      success: function(data) {\n        console.log(\"success: \" + data);\n        let key = this.state.key;\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to delete entry\", data);\n      }.bind(this)\n    });\n    this.props.deleteToggle();\n  }\n\n  render() {\n    return (\n      <Modal\n        isOpen={true}\n        onRequestClose={this.props.deleteToggle}\n        style={customStyles}\n      >\n        <div className=\"modal-header\">\n          <img\n            alt=\"\"\n            src=\"images/close_toolbar.png\"\n            className=\"close_toolbar\"\n            onClick={this.props.deleteToggle}\n          />\n          <h3 id=\"myModalLabel\">\n            Are you sure you want to delete Entry: {this.props.entryid}?\n          </h3>\n        </div>\n        <div className=\"modal-footer\">\n          <Button id=\"cancel-delete\" onClick={this.props.deleteToggle}>\n            Cancel\n          </Button>\n          <Button bsStyle=\"danger\" id=\"delete\" onClick={this.toggle}>\n            Delete\n          </Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\n// The type signature for things to be deleted\nconst thingType = PropTypes.shape({\n  type: PropTypes.string.isRequired,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired\n});\n\nexport default class DeleteModal extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      deleteButton: ACTION_BUTTONS.READY\n    };\n\n    this.deleteAll = this.deleteAll.bind(this);\n  }\n\n  static propTypes = {\n    things: PropTypes.oneOfType([thingType, PropTypes.arrayOf(thingType)])\n      .isRequired,\n    errorToggle: PropTypes.func.isRequired,\n    callback: PropTypes.func.isRequired\n  };\n\n  deleteAll() {\n    this.setState({\n      deleteButton: ACTION_BUTTONS.LOADING\n    });\n\n    let success = true;\n\n    let { things } = this.props;\n    if (!Array.isArray(things)) {\n      things = [things];\n    }\n\n    $.when(...things.map(thing => this.deleteAjax(thing)))\n      .then(\n        // Success\n        () => {\n          this.setState({\n            deleteButton: ACTION_BUTTONS.SUCCESS\n          });\n        },\n        // Failure\n        error => {\n          console.error(error);\n          this.setState({\n            deleteButton: ACTION_BUTTONS.ERROR\n          });\n          this.props.errorToggle(\"error deleting\", error);\n          success = false;\n        }\n      )\n      .always(() => {\n        setTimeout(() => {\n          this.setState({\n            deleteButton: ACTION_BUTTONS.READY\n          });\n\n          this.props.callback(success);\n        }, 2000);\n      });\n  }\n\n  deleteAjax(thing) {\n    return $.ajax({\n      type: \"delete\",\n      url: \"/scot/api/v2/\" + thing.type + \"/\" + thing.id,\n      contentType: \"application/json; charset=UTF-8\"\n    });\n  }\n\n  render() {\n    let { things } = this.props;\n    let confirmText = \"\";\n\n    if (Array.isArray(things)) {\n      confirmText = things\n        .map(thing => `${thing.type}: ${thing.id}`)\n        .join(\", \");\n    } else {\n      confirmText = `${things.type}: ${things.id}`;\n    }\n\n    const { deleteButton } = this.state;\n\n    return (\n      <Modal\n        isOpen={true}\n        onRequestClose={this.props.callback}\n        style={customStyles}\n      >\n        <div className=\"modal-header\">\n          <img\n            alt=\"\"\n            src=\"images/close_toolbar.png\"\n            className=\"close_toolbar\"\n            onClick={this.props.callback}\n          />\n          <h3 id=\"myModalLabel\">\n            Are you sure you want to delete {confirmText}?\n          </h3>\n        </div>\n        <div className=\"modal-footer\">\n          <Button id=\"cancel-delete\" onClick={this.props.callback}>\n            Cancel\n          </Button>\n          <Button\n            bsStyle={deleteButton.style}\n            id=\"delete\"\n            onClick={this.deleteAll}\n            disabled={deleteButton.disabled}\n          >\n            {deleteButton.text ? deleteButton.text : \"Delete\"}\n          </Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nconst DeleteThingComponent = withSnackbar(DeleteThing);\nexport { DeleteThingComponent };\n","import $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport React from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Badge\";\nimport DropdownButton from \"react-bootstrap/lib/DropdownButton\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class Owner extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentOwner: this.props.data,\n      whoami: undefined,\n      ownerToolbar: false\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n  };\n\n  componentWillReceiveProps = () => {\n    this.setState({ currentOwner: this.props.data });\n  };\n\n  toggle = () => {\n    if (this.state.whoami !== undefined) {\n      let json = { owner: this.state.whoami };\n      $.ajax({\n        type: \"put\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        data: JSON.stringify(json),\n        contentType: \"application/json; charset=UTF-8\",\n        success: function(data) {},\n        error: function(data) {\n          this.props.errorToggle(\"Failed to change owner\", data);\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(\"Failed to detect current user\");\n    }\n    this.ownerToggle();\n  };\n\n  ownerToggle = () => {\n    if (this.state.ownerToolbar === false) {\n      this.setState({ ownerToolbar: true });\n    } else {\n      this.setState({ ownerToolbar: false });\n    }\n  };\n\n  render = () => {\n    return (\n      <div>\n        <DropdownButton\n          bsSize=\"xsmall\"\n          id=\"event_owner\"\n          title={this.state.currentOwner}\n        >\n          <MenuItem eventKey=\"1\" onClick={this.ownerToggle}>\n            Take Ownership\n          </MenuItem>\n        </DropdownButton>\n        {this.state.ownerToolbar ? (\n          <Modal\n            isOpen={true}\n            onRequestClose={this.ownerToggle}\n            style={customStyles}\n          >\n            <div className=\"modal-header\">\n              <img\n                src=\"images/close_toolbar.png\"\n                alt=\"\"\n                className=\"close_toolbar\"\n                onClick={this.ownerToggle}\n              />\n              <h3 id=\"myModalLabel\">Take Ownership</h3>\n            </div>\n            <div className=\"modal-body\">\n              Are you sure you want to take ownership of this event?\n            </div>\n            <div className=\"modal-footer\">\n              <Button id=\"cancel-ownership\" onClick={this.ownerToggle}>\n                Cancel\n              </Button>\n              <Button bsStyle=\"info\" id=\"take-ownership\" onClick={this.toggle}>\n                Take Ownership\n              </Button>\n            </div>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nlet Modal = require(\"react-modal\");\nlet Button = require(\"react-bootstrap/lib/Button\");\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class Entities extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entitiesBody: true\n    };\n  }\n\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.entitiesToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              alt=\"\"\n              onClick={this.props.entitiesToggle}\n            />\n            <h3 id=\"myModalLabel\">List of Entities</h3>\n          </div>\n          <div\n            className=\"modal-body\"\n            style={{ maxHeight: \"50vh\", overflowY: \"auto\" }}\n          >\n            {this.state.entitiesBody ? (\n              <EntitiesData\n                data={this.props.entityData}\n                flairToolbarToggle={this.props.flairToolbarToggle}\n              />\n            ) : null}\n          </div>\n          <div className=\"modal-footer\">\n            <Button onClick={this.props.entitiesToggle}>Done</Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n\nclass EntitiesData extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    let originalobj = {};\n    originalobj[\"entities\"] = {};\n    let obj = originalobj.entities;\n    for (let prop in data) {\n      let subobj = {};\n      let type = data[prop].type;\n      let id = data[prop].id;\n      let value = prop;\n      subobj[id] = value;\n      if (obj.hasOwnProperty(type)) {\n        obj[type].push(subobj);\n      } else {\n        let arr = [];\n        arr.push(subobj);\n        obj[type] = arr;\n      }\n    }\n    for (let prop in obj) {\n      let type = prop;\n      let value = obj[prop];\n      rows.push(\n        <EntitiesDataHeaderIterator\n          type={type}\n          value={value}\n          flairToolbarToggle={this.props.flairToolbarToggle}\n        />\n      );\n    }\n    return <div>{rows}</div>;\n  };\n}\n\nclass EntitiesDataHeaderIterator extends React.Component {\n  render = () => {\n    let rows = [];\n    let type = this.props.type;\n    let value = this.props.value;\n    for (let i = 0; i < value.length; i++) {\n      let eachValue = value[i];\n      let entityId = null;\n      let entityValue = null;\n      for (let prop in eachValue) {\n        entityId = prop;\n        entityValue = eachValue[prop];\n      }\n      rows.push(\n        <EntitiesDataValueIterator\n          entityValue={entityValue}\n          entityId={entityId}\n          flairToolbarToggle={this.props.flairToolbarToggle}\n        />\n      );\n    }\n    return (\n      <div style={{ border: \"1px solid black\", width: \"500px\" }}>\n        <h3>{type}</h3>\n        <div\n          style={{\n            fontWeight: \"normal\",\n            maxHeight: \"300px\",\n            overflowY: \"auto\"\n          }}\n        >\n          {rows}\n        </div>\n      </div>\n    );\n  };\n}\n\nclass EntitiesDataValueIterator extends React.Component {\n  toggle = () => {\n    this.props.flairToolbarToggle(\n      this.props.entityId,\n      this.props.entityValue,\n      \"entity\"\n    );\n  };\n\n  render = () => {\n    let entityValue = this.props.entityValue;\n    return (\n      <a href=\"javascript: void(0)\" onClick={this.toggle}>\n        {entityValue}\n        <br />\n      </a>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ReactTime from \"react-time\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Button\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class ChangeHistory extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      historyBody: false,\n      data: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/history\",\n      success: function(result) {\n        this.setState({ historyBody: true, data: result.records });\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to get change history\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.changeHistoryToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              alt=\"\"\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              onClick={this.props.changeHistoryToggle}\n            />\n            <h3 id=\"myModalLabel\">{this.props.subjectType} Change History</h3>\n          </div>\n          <div\n            className=\"modal-body\"\n            style={{ maxHeight: \"30vh\", width: \"700px\", overflowY: \"auto\" }}\n          >\n            {this.state.historyBody ? (\n              <ChangeHistoryData data={this.state.data} />\n            ) : null}\n          </div>\n          <div className=\"modal-footer\">\n            <Button onClick={this.props.changeHistoryToggle}>Done</Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n\nclass ChangeHistoryData extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    for (let prop in data) {\n      rows.push(<ChangeHistoryDataIterator data={data[prop]} />);\n    }\n    return <div>{rows}</div>;\n  };\n}\n\nclass ChangeHistoryDataIterator extends React.Component {\n  render = () => {\n    let data = this.props.data;\n    return (\n      <div>\n        ID: {data.id} -{\" \"}\n        <ReactTime value={data.when * 1000} format=\"MM/DD/YYYY hh:mm:ss a\" /> -{\" \"}\n        {data.who} - {data.what}\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport ReactTime from 'react-time'\nimport Modal from 'react-modal'\nimport Button from 'react-bootstrap/lib/Button'\nlet type;\nconst customStyles = {\n    content: {\n        top: \"50%\",\n        left: \"50%\",\n        right: \"auto\",\n        bottom: \"auto\",\n        marginRight: \"-50%\",\n        transform: \"translate(-50%, -50%)\"\n    }\n};\n\nexport default class ViewedByHistory extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            historyBody: false,\n            data: \"\"\n        };\n    }\n    componentDidMount() {\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n            success: function (result) {\n                this.setState({ historyBody: true, data: result });\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to get user change history\", data);\n            }.bind(this)\n        });\n    };\n\n    render() {\n        return (\n            <div>\n                <Modal\n                    isOpen={true}\n                    onRequestClose={this.props.viewedByHistoryToggle}\n                    style={customStyles}\n                >\n                    <div className=\"modal-header\">\n                        <img\n                            alt=\"\"\n                            src=\"/images/close_toolbar.png\"\n                            className=\"close_toolbar\"\n                            onClick={this.props.viewedByHistoryToggle}\n                        />\n                        <h3 id=\"myModalLabel\">{this.props.subjectType} Viewed By</h3>\n                    </div>\n                    <div\n                        className=\"modal-body\"\n                        style={{ maxHeight: \"30vh\", overflowY: \"auto\" }}\n                    >\n                        {this.state.historyBody ? (\n                            <ViewedByHistoryData data={this.state.data} />\n                        ) : null}\n                    </div>\n                    <div className=\"modal-footer\">\n                        <Button onClick={this.props.viewedByHistoryToggle}>Done</Button>\n                    </div>\n                </Modal>\n            </div>\n        );\n    };\n}\n\nclass ViewedByHistoryData extends React.Component {\n    render() {\n        let rows = [];\n        let data = this.props.data;\n        for (let prop in data.view_history) {\n            rows.push(\n                <ViewedByHistoryDataIterator\n                    data={data.view_history[prop]}\n                    prop={prop}\n                />\n            );\n        }\n        return (\n            <div>{rows}</div>\n        );\n    };\n}\n\nclass ViewedByHistoryDataIterator extends React.Component {\n    render() {\n        let data = this.props.data;\n        let prop = this.props.prop;\n        return (\n            <div>\n                <b>{prop}</b> at{\" \"}\n                <ReactTime value={data.when * 1000} format=\"MM/DD/YYYY hh:mm:ss a\" />{\" \"}\n                from IP: {data.where}\n            </div>\n        );\n    };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\nimport Button from \"react-bootstrap/lib/Button\";\nconst ReactTags = require('react-tag-input').WithContext;\n\nexport default class SelectedPermission extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { readPermissionEntry: false, modifyPermissionEntry: false };\n  }\n\n  toggleNewReadPermission = () => {\n    if (this.state.readPermissionEntry === false) {\n      this.setState({ readPermissionEntry: true });\n    } else if (this.state.readPermissionEntry === true) {\n      this.setState({ readPermissionEntry: false });\n    }\n  };\n\n  toggleNewModifyPermission = () => {\n    if (this.state.modifyPermissionEntry === false) {\n      this.setState({ modifyPermissionEntry: true });\n    } else if (this.state.modifyPermissionEntry === true) {\n      this.setState({ modifyPermissionEntry: false });\n    }\n  };\n\n  permissionsfunc = permissionData => {\n    console.log(permissionData.groups);\n    let writepermissionsarr = [];\n    let readpermissionsarr = [];\n    let readwritepermissionsarr = [];\n    for (let prop in permissionData.groups) {\n      let fullprop = permissionData.groups[prop];\n      if (prop === \"read\") {\n        permissionData.groups[prop].forEach(function (fullprop) {\n          readpermissionsarr.push(fullprop);\n        });\n      } else if (prop === \"modify\") {\n        permissionData.groups[prop].forEach(function (fullprop) {\n          writepermissionsarr.push(fullprop);\n        });\n      }\n    }\n    readwritepermissionsarr.push(readpermissionsarr);\n    readwritepermissionsarr.push(writepermissionsarr);\n    return readwritepermissionsarr;\n  };\n\n  render = () => {\n    let modifyRows = [];\n    let readRows = [];\n    let permissionData = this.props.permissionData;\n    let data = this.permissionsfunc(permissionData); //pos 0 is read and pos 1 is write\n    let id = this.props.id;\n    let type = this.props.type;\n    if (data[0] !== undefined) {\n      for (let i = 0; i < data[0].length; i++) {\n        let read_modify = \"read\";\n        readRows.push(\n          <PermissionIterator\n            data={data[0][i]}\n            dataRead={data[0]}\n            dataModify={data[1]}\n            updateid={this.props.updateid}\n            id={id}\n            type={type}\n            read_modify={read_modify}\n            updated={this.props.updated}\n          />\n        );\n      }\n    }\n    if (data[1] !== undefined) {\n      for (let i = 0; i < data[1].length; i++) {\n        let read_modify = \"modify\";\n        modifyRows.push(\n          <PermissionIterator\n            data={data[1][i]}\n            dataRead={data[0]}\n            dataModify={data[1]}\n            updateid={this.props.updateid}\n            id={id}\n            type={type}\n            read_modify={read_modify}\n            updated={this.props.updated}\n          />\n        );\n      }\n    }\n    if (type === \"entry\") {\n      return (\n        <div id=\"\" className=\"\">\n          <span style={{ display: \"inline-flex\" }}>\n            Read Groups: {readRows}\n            {this.state.readPermissionEntry ? (\n              <span style={{ display: \"inherit\", color: \"white\" }}>\n                <NewPermission\n                  readUpdate={1}\n                  modifyUpdate={0}\n                  dataRead={data[0]}\n                  dataModify={data[1]}\n                  type={type}\n                  updateid={this.props.updateid}\n                  id={id}\n                  toggleNewReadPermission={this.toggleNewReadPermission}\n                  updated={this.props.updated}\n                  permissionsToggle={this.props.permissionsToggle}\n                />\n              </span>\n            ) : null}\n            {this.state.readPermissionEntry ? (\n              <Button\n                bsSize=\"xsmall\"\n                bsStyle={\"danger\"}\n                onClick={this.toggleNewReadPermission}\n              >\n                <span\n                  className=\"glyphicon glyphicon-minus\"\n                  aria-hidden=\"true\"\n                />\n              </Button>\n            ) : (\n                <Button\n                  bsSize=\"xsmall\"\n                  bsStyle={\"success\"}\n                  onClick={this.toggleNewReadPermission}\n                >\n                  <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                </Button>\n              )}\n            <span style={{ paddingLeft: \"5px\" }}>Modify Groups: </span>\n            {modifyRows}\n            {this.state.modifyPermissionEntry ? (\n              <span style={{ display: \"inherit\", color: \"white\" }}>\n                <NewPermission\n                  readUpdate={0}\n                  modifyUpdate={1}\n                  dataRead={data[0]}\n                  dataModify={data[1]}\n                  type={type}\n                  updateid={this.props.updateid}\n                  id={id}\n                  toggleNewModifyPermission={this.toggleNewModifyPermission}\n                  updated={this.props.updated}\n                  permissionsToggle={this.props.permissionsToggle}\n                />\n              </span>\n            ) : null}\n            {this.state.modifyPermissionEntry ? (\n              <Button\n                bsSize=\"xsmall\"\n                bsStyle={\"danger\"}\n                onClick={this.toggleNewModifyPermission}\n              >\n                <span\n                  className=\"glyphicon glyphicon-minus\"\n                  aria-hidden=\"true\"\n                />\n              </Button>\n            ) : (\n                <Button\n                  bsSize=\"xsmall\"\n                  bsStyle={\"success\"}\n                  onClick={this.toggleNewModifyPermission}\n                >\n                  <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n                </Button>\n              )}\n          </span>\n        </div>\n      );\n    } else {\n      return (\n        <div\n          id=\"\"\n          className=\"toolbar entry-header-info-null\"\n          style={{ paddingTop: \"0px\" }}\n        >\n          <span\n            style={{\n              display: \"inline-flex\",\n              paddingRight: \"10px\",\n              paddingLeft: \"5px\"\n            }}\n          >\n            <h4>Permissions:</h4>\n          </span>\n          Read Groups: {readRows}\n          {this.state.readPermissionEntry ? (\n            <NewPermission\n              readUpdate={1}\n              modifyUpdate={0}\n              dataRead={data[0]}\n              dataModify={data[1]}\n              type={type}\n              updateid={this.props.updateid}\n              id={id}\n              toggleNewReadPermission={this.toggleNewReadPermission}\n              updated={this.props.updated}\n              permissionsToggle={this.props.permissionsToggle}\n            />\n          ) : null}\n          {this.state.readPermissionEntry ? (\n            <Button\n              bsSize={\"xsmall\"}\n              bsStyle={\"danger\"}\n              onClick={this.toggleNewReadPermission}\n            >\n              <span className=\"glyphicon glyphicon-minus\" aria-hidden=\"true\" />\n            </Button>\n          ) : (\n              <Button\n                bsSize={\"xsmall\"}\n                bsStyle={\"success\"}\n                onClick={this.toggleNewReadPermission}\n              >\n                <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n              </Button>\n            )}\n          <span style={{ paddingLeft: \"5px\" }}>Modify Groups: </span>\n          {modifyRows}\n          {this.state.modifyPermissionEntry ? (\n            <NewPermission\n              readUpdate={0}\n              modifyUpdate={1}\n              dataRead={data[0]}\n              dataModify={data[1]}\n              type={type}\n              updateid={this.props.updateid}\n              id={id}\n              toggleNewModifyPermission={this.toggleNewModifyPermission}\n              updated={this.props.updated}\n              permissionsToggle={this.props.permissionsToggle}\n            />\n          ) : null}\n          {this.state.modifyPermissionEntry ? (\n            <Button\n              bsSize={\"xsmall\"}\n              bsStyle={\"danger\"}\n              onClick={this.toggleNewModifyPermission}\n            >\n              <span className=\"glyphicon glyphicon-minus\" aria-hidden=\"true\" />\n            </Button>\n          ) : (\n              <Button\n                bsSize={\"xsmall\"}\n                bsStyle={\"success\"}\n                onClick={this.toggleNewModifyPermission}\n              >\n                <span className=\"glyphicon glyphicon-plus\" aria-hidden=\"true\" />\n              </Button>\n            )}\n          <img\n            src=\"/images/close_toolbar.png\"\n            alt=\"\"\n            className=\"close_toolbar\"\n            onClick={this.props.permissionsToggle}\n          />\n        </div>\n      );\n    }\n  };\n}\n\nclass PermissionIterator extends React.Component {\n  permissionDelete = () => {\n    let newPermission = {};\n    let tempArr = [];\n    let data = this.props.data;\n    let dataRead = this.props.dataRead;\n    let dataModify = this.props.dataModify;\n    if (this.props.read_modify === \"read\") {\n      for (let i = 0; i < dataRead.length; i++) {\n        if (dataRead[i] !== data) {\n          tempArr.push(dataRead[i]);\n        }\n      }\n      newPermission.read = tempArr;\n      newPermission.modify = dataModify;\n    } else if (this.props.read_modify === \"modify\") {\n      for (let j = 0; j < dataModify.length; j++) {\n        if (dataModify[j] !== data) {\n          tempArr.push(dataModify[j]);\n        }\n      }\n      newPermission.read = dataRead;\n      newPermission.modify = tempArr;\n    }\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify({ groups: newPermission }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"success\");\n      },\n      error: function (data) {\n        this.props.errorToggle(\"error Failed to delete group\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let data = this.props.data;\n    let type = this.props.type;\n    if (type === \"entry\") {\n      return (\n        <span id=\"permission_source\" className=\"permissionButton\">\n          {data}\n          <span\n            className=\"fa fa-times permissionButtonClose\"\n            aria-hidden=\"true\"\n            onClick={this.permissionDelete}\n          />\n        </span>\n      );\n    } else {\n      return (\n        <span id=\"permission_source\" className=\"permissionButton\">\n          {data}\n          <span\n            className=\"fa fa-times permissionButtonClose\"\n            aria-hidden=\"true\"\n            onClick={this.permissionDelete}\n          />\n        </span>\n      );\n    }\n  };\n}\n\nclass NewPermission extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      suggestions: this.props.options,\n      key: this.props.updateid,\n    };\n\n  }\n  handleAddition = tag => {\n    let newPermission = {};\n    let dataRead = this.props.dataRead;\n    let dataModify = this.props.dataModify;\n    let toggle = this.props.permissionsToggle;\n    if (this.props.readUpdate === 1) {\n      dataRead.push(tag['text']);\n    } else if (this.props.modifyUpdate === 1) {\n      dataModify.push(tag['text']);\n    }\n    if (this.props.toggleNewModifyPermission !== undefined) {\n      toggle = this.props.toggleNewModifyPermission;\n    } else if (this.props.toggleNewReadPermission !== undefined) {\n      toggle = this.props.toggleNewReadPermission;\n    }\n    newPermission.read = dataRead;\n    newPermission.modify = dataModify;\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify({ groups: newPermission }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function () {\n        console.log(\"success: permission added\");\n        toggle();\n      },\n      error: function (data) {\n        toggle();\n        this.props.errorToggle(\"error Failed to add group\", data);\n      }.bind(this)\n    });\n  };\n\n  handleInputChange = input => {\n    //blank until there's a lookup for group permissions\n    /*let arr = [];\n        this.serverRequest = $.get('/scot/api/v2/ac/source/' + input, function (result) {\n            let result = result.records;\n            console.log(result);\n            for (let prop in result) {\n                arr.push(result[prop].value)\n            }\n            this.setState({suggestions:arr})\n        }.bind(this));*/\n  };\n\n  handleDelete = () => {\n    //blank since buttons are handled outside of this\n  };\n\n  handleDrag = () => {\n    //blank since buttons are handled outside of this\n  };\n\n  render() {\n    let suggestions = this.state.suggestions;\n    return (\n      <span className=\"tag-new\">\n        <ReactTags\n          suggestions={suggestions}\n          handleAddition={this.handleAddition}\n          handleInputChange={this.handleInputChange}\n          handleDelete={this.handleDelete}\n          handleDrag={this.handleDrag}\n          minQueryLength={1}\n          customCSS={1}\n        />\n      </span>\n    );\n  };\n}\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport { withSnackbar } from 'notistack';\nimport { withStyles } from '@material-ui/core/styles';\nimport axios from 'axios'\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport { Editor } from '@tinymce/tinymce-react';\n\nconst styles = theme => ({\n  card: {\n    minWidth: 700,\n    marginBottom: 20\n  },\n});\n\nclass Conflict extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\n      editedtext: \"\"\n    }\n  }\n\n  componentDidMount() {\n    this.setState({ editedtext: this.props.localconflict })\n  }\n\n  handlePUT = () => {\n    const { enqueueSnackbar, id } = this.props;\n    let data = {\n      body: this.state.editedtext,\n      target_id: this.props.targetid,\n      parent: this.props.parent,\n      target_type: this.props.type,\n      parsed: 0\n    }\n    let url = `/scot/api/v2/entry/${id}`;\n    axios.put(url, data)\n      .then(function () {\n        enqueueSnackbar(`Successfully updated entry`, { variant: 'success' });\n        this.props.handleClose();\n        this.props.addedEntry();\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error);\n        enqueueSnackbar(`Failed updated entry.`, { variant: 'error' });\n        this.props.handleClose();\n      });\n  }\n  handleEditorChange = (e) => {\n    this.setState({ editedtext: e })\n    console.log(`State is now: ${this.state.editedtext}`)\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            <Typography variant=\"h5\" component=\"h2\">Uh-oh! It looks like there was a conflict between your {this.props.type} and the one cached saved on server.</Typography>\n            <br />\n            <div>\n              <div id='remote' className='remote'>\n                <b>Changes on server: </b>\n                <Editor\n                  className=\"remote\"\n                  initialValue={this.props.remoteconflict}\n                  disabled={true}\n                />\n              </div>\n              <br />\n              <div id='local' className='local'>\n                <b>Your changes: </b>\n                <Editor\n                  initialValue={this.state.editedtext}\n                  plugins={'advlist lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template paste textcolor colorpicker textpattern imagetools'}\n                  onEditorChange={this.handleEditorChange}\n                  value={this.state.editedtext}\n                  init={{\n                    selector: \"textarea\",\n                    plugins:\n                      \"advlist lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template paste textcolor colorpicker textpattern imagetools\",\n                    table_clone_elements:\n                      \"strong em b i font h1 h2 h3 h4 h5 h6 p div\",\n                    paste_retain_style_properties: \"all\",\n                    paste_data_images: true,\n                    paste_preprocess: function (plugin, args) {\n                      function replaceA(string) {\n                        return string.replace(/<(\\/)?a([^>]*)>/g, \"<$1span$2>\");\n                      }\n                      args.content = replaceA(args.content) + \" \";\n                    },\n                    relative_urls: false,\n                    remove_script_host: false,\n                    link_assume_external_targets: true,\n                    toolbar1:\n                      \"full screen spellchecker | undo redo | bold italic | alignleft aligncenter alignright | bullist numlist | forecolor backcolor fontsizeselect fontselect formatselect | blockquote code link image insertdatetime | customBlockquote\",\n                    theme: \"modern\",\n                    content_css: \"/css/entryeditor.css\",\n                    height: 250,\n                    verify_html: false,\n                    setup: function (editor) {\n                      function blockquote() {\n                        return \"<blockquote><p><br></p></blockquote>\";\n                      }\n\n                      function insertBlockquote() {\n                        let html = blockquote();\n                        editor.insertContent(html);\n                      }\n\n                      editor.addButton(\"customBlockquote\", {\n                        text: \"500px max-height blockquote\",\n                        //image: 'http://p.yusukekamiyamane.com/icons/search/fugue/icons/calendar-blue.png',\n                        tooltip: \"Insert a 500px max-height div (blockquote)\",\n                        onclick: insertBlockquote\n                      });\n                    }\n                  }}\n                />\n              </div>\n            </div>\n            <div>\n              <br />\n              <Button style={{ marginLeft: 5, backgroundColor: 'red', color: 'white' }} onClick={this.handlePUT} variant=\"contained\" >Send Update to Server</Button>\n              <Button style={{ marginLeft: 5 }} onClick={this.props.handleClose} variant=\"contained\" >Cancel</Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(withStyles(styles)(Conflict));","import React from \"react\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport { Editor } from \"@tinymce/tinymce-react\";\nimport Conflict from \"./conflict\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nlet Button = require(\"react-bootstrap/lib/Button.js\");\nlet Prompt = require(\"react-router-dom\").Prompt;\nlet Link = require(\"react-router-dom\").Link;\n\nexport default class AddEntryModal extends React.Component {\n  constructor(props) {\n    super(props);\n    let key = new Date();\n    key = key.getTime();\n    let tinyID = \"tiny_\" + key;\n    let content;\n    let asyncContentLoaded;\n    switch (this.props.entryAction) {\n      case \"Add\":\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n      case \"Reply\":\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n      case \"Copy To Entry\":\n        content = this.props.content;\n        asyncContentLoaded = true;\n        break;\n      case \"Edit\":\n        content = \"\";\n        asyncContentLoaded = false;\n        break;\n      case \"Export\":\n        content = this.props.content;\n        asyncContentLoaded = true;\n        break;\n      default:\n        content = \"\";\n        asyncContentLoaded = true;\n        break;\n    }\n\n    this.state = {\n      tinyID: tinyID,\n      key: key,\n      content: content,\n      asyncContentLoaded: asyncContentLoaded,\n      leaveCatch: true,\n      whoami: undefined,\n      recentlyUpdated: 0,\n      showConflict: false,\n      localcontent: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n\n    if (this.props.entryAction === \"Edit\") {\n      $.ajax({\n        type: \"GET\",\n        url: \"/scot/api/v2/entry/\" + this.props.id,\n        success: function(response) {\n          this.setState({\n            content: response.body,\n            asyncContentLoaded: true,\n            recentlyUpdated: response.updated\n          });\n          this.forceUpdate();\n        }.bind(this),\n        error: function(data) {\n          this.props.errorToggle(\n            \"Error getting original data from source. Copy/Paste original\",\n            data\n          );\n          this.setState({\n            content:\n              \"Error getting original data from source. Copy/Paste original\",\n            asyncContentLoaded: true\n          });\n          this.forceUpdate();\n        }.bind(this)\n      });\n    }\n    if ($(\"#not_saved_entry_\" + this.state.key).position()) {\n      $(\".entry-wrapper\").scrollTop(\n        $(\".entry-wrapper\").scrollTop() +\n          $(\"#not_saved_entry_\" + this.state.key).position().top\n      );\n    }\n  };\n\n  // shouldComponentUpdate = () => {\n  //   return false; //prevent updating this component because it causes the page container to scroll upwards and lose focus due to a bug in paste_preprocess. If this is removed it will cause abnormal scrolling.\n  // };\n\n  onCancel = () => {\n    this.setState({ leaveCatch: false });\n    this.props.addedentry();\n    this.setState({ change: false });\n  };\n\n  submit = () => {\n    if (\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .text() === \"\" &&\n      $(\"#\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .find(\"img\").length === 0\n    ) {\n      alert(\"Please Add Some Text\");\n    } else {\n      if (this.props.entryAction === \"Reply\") {\n        var data = {};\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function(x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function(key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking to see if it's a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = JSON.stringify({\n          parent: Number(this.props.id),\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: this.props.type,\n          tlp: \"unset\"\n        });\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: data,\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function(response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n          }.bind(this),\n          error: function(response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      } else if (this.props.entryAction === \"Edit\") {\n        $.ajax({\n          type: \"GET\",\n          url: \"/scot/api/v2/entry/\" + this.props.id,\n          success: function(response) {\n            if (this.state.recentlyUpdated !== response.updated) {\n              this.forEdit(false);\n              this.setState({\n                showConflict: true,\n                remoteconflict: response.body\n              });\n            } else {\n              this.forEdit(true);\n            }\n          }.bind(this),\n          error: function(data) {\n            this.props.errorToggle(\"failed to get data for edit\", data);\n          }.bind(this)\n        });\n      } else if (this.props.type === \"alert\") {\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function(x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function(key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking if it's a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = JSON.stringify({\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: \"alert\",\n          tlp: \"unset\",\n          parent: 0\n        });\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: data,\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function(response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n            this.props.toggleVisibility();\n          }.bind(this),\n          error: function(response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      } else {\n        $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .each(function(x, y) {\n            $(y)\n              .find(\"img\")\n              .each(function(key, value) {\n                if ($(value)[0].src.startsWith(\"blob\")) {\n                  //Checking if its a locally copied file\n                  let canvas = document.createElement(\"canvas\");\n                  let set = new Image();\n                  set = $(value);\n                  canvas.width = set[0].width;\n                  canvas.height = set[0].height;\n                  let ctx = canvas.getContext(\"2d\");\n                  ctx.drawImage(set[0], 0, 0);\n                  let dataURL = canvas.toDataURL(\"image/png\");\n                  $(value).attr(\"src\", dataURL);\n                }\n              });\n          });\n        data = {\n          parent: 0,\n          body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n            .contents()\n            .find(\"#tinymce\")\n            .html(),\n          target_id: Number(this.props.targetid),\n          target_type: this.props.type,\n          tlp: \"unset\"\n        };\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: JSON.stringify(data),\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function(response) {\n            this.setState({ leaveCatch: false });\n            this.props.addedentry();\n          }.bind(this),\n          error: function(response) {\n            this.props.errorToggle(\"Failed to add entry.\", response);\n          }.bind(this)\n        });\n      }\n    }\n  };\n\n  exportContent = () => {\n    if (this.props.recipients.length > 0) {\n      var data = {};\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .each(function(x, y) {\n          $(y)\n            .find(\"img\")\n            .each(function(key, value) {\n              if ($(value)[0].src.startsWith(\"blob\")) {\n                //Checking to see if it's a locally copied file\n                let canvas = document.createElement(\"canvas\");\n                let set = new Image();\n                set = $(value);\n                canvas.width = set[0].width;\n                canvas.height = set[0].height;\n                let ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(set[0], 0, 0);\n                let dataURL = canvas.toDataURL(\"image/png\");\n                $(value).attr(\"src\", dataURL);\n              }\n            });\n        });\n      data = JSON.stringify({\n        body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .html(),\n        to: this.props.recipients,\n        thing: this.props.type\n      });\n      $.ajax({\n        type: \"post\",\n        url: \"/scot/api/v2/sendexport\",\n        data: data,\n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function() {\n          this.setState({ leaveCatch: false });\n          this.props.exportResponse(\"success\");\n        }.bind(this),\n        error: function(response) {\n          this.props.errorToggle(\n            \"Failed to export \" + this.props.type,\n            response\n          );\n          this.props.exportResponse(\"error\");\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(\"Please enter a valid email address\");\n    }\n  };\n\n  handleClose = () => {\n    this.setState({ showConflict: false });\n  };\n\n  forEdit = set => {\n    if (set) {\n      $(\"#tiny_\" + this.state.key + \"_ifr\")\n        .contents()\n        .find(\"#tinymce\")\n        .each(function(x, y) {\n          $(y)\n            .find(\"img\")\n            .each(function(key, value) {\n              if ($(value)[0].src.startsWith(\"blob\")) {\n                //Checking if its a lcoally copied file\n                let canvas = document.createElement(\"canvas\");\n                let set = new Image();\n                set = $(value);\n                canvas.width = set[0].width;\n                canvas.height = set[0].height;\n                let ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(set[0], 0, 0);\n                let dataURL = canvas.toDataURL(\"image/png\");\n                $(value).attr(\"src\", dataURL);\n              }\n            });\n        });\n      let data = {\n        parent: Number(this.props.parent),\n        body: $(\"#tiny_\" + this.state.key + \"_ifr\")\n          .contents()\n          .find(\"#tinymce\")\n          .html(),\n        target_id: Number(this.props.targetid),\n        target_type: this.props.type,\n        parsed: 0\n      };\n      $.ajax({\n        type: \"put\",\n        url: \"/scot/api/v2/entry/\" + this.props.id,\n        data: JSON.stringify(data),\n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function(response) {\n          this.setState({ leaveCatch: false });\n          this.props.addedentry();\n        }.bind(this),\n        error: function(response) {\n          this.props.errorToggle(\"Failed to edit entry.\", response);\n        }.bind(this)\n      });\n    }\n  };\n\n  handleEditorChange = e => {\n    this.setState({ localcontent: e });\n  };\n\n  render = () => {\n    let not_saved_entry_id = \"not_saved_entry_\" + this.state.key;\n    return (\n      <div id={not_saved_entry_id} className={\"not_saved_entry\"}>\n        {this.state.showConflict ? (\n          <Dialog\n            fullWidth={true}\n            maxWidth={\"md\"}\n            open={this.state.showConflict}\n            onClose={this.handleClose}\n            aria-labelledby=\"simple-dialog-title\"\n          >\n            <Conflict\n              targetid={this.props.targetid}\n              type={this.props.type}\n              parent={this.props.parent}\n              addedEntry={this.props.addedentry}\n              id={this.props.id}\n              localconflict={this.state.localcontent}\n              handleClose={this.handleClose}\n              remoteconflict={this.state.remoteconflict}\n            />\n          </Dialog>\n        ) : null}\n        <div\n          className={\"row-fluid entry-outer\"}\n          style={{\n            border: \"3px solid blue\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\"\n          }}\n        >\n          <div className={\"row-fluid entry-header\"}>\n            <div className=\"entry-header-inner\">\n              [\n              <Link style={{ color: \"black\" }} to={\"not_saved_0\"}>\n                Not_Saved_0\n              </Link>\n              ]by {this.state.whoami}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                {this.props.entryAction === \"Export\" ? (\n                  <Button\n                    bsSize={\"xsmall\"}\n                    onClick={this.exportContent}\n                    bsStyle={\"success\"}\n                  >\n                    Export\n                  </Button>\n                ) : (\n                  <Button\n                    bsSize={\"xsmall\"}\n                    onClick={this.submit}\n                    bsStyle={\"success\"}\n                  >\n                    Submit\n                  </Button>\n                )}\n                <Button bsSize={\"xsmall\"} onClick={this.onCancel}>\n                  Cancel\n                </Button>\n              </span>\n            </div>\n          </div>\n          {this.state.asyncContentLoaded ? (\n            <Editor\n              id={this.state.tinyID}\n              className={\"inputtext\"}\n              initialValue={this.state.content}\n              plugins={\n                \"advlist lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template paste textpattern imagetools\"\n              }\n              onEditorChange={this.handleEditorChange}\n              init={{\n                table_default_attributes: {\n                  border: \"5\",\n                  borderStyle: \"solid\",\n                  borderColor: \"blue\"\n                },\n                auto_focus: this.state.tinyID,\n                selector: \"textarea\",\n                browser_spellcheck: true,\n                contextmenu: false,\n                plugins:\n                  \"advlist lists link image charmap print preview hr anchor pagebreak searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking save table directionality emoticons template paste textpattern imagetools\",\n                table_clone_elements:\n                  \"strong em b i font h1 h2 h3 h4 h5 h6 p div\",\n                paste_retain_style_properties: \"all\",\n                paste_data_images: true,\n                paste_preprocess: function(plugin, args) {\n                  function replaceA(string) {\n                    return string.replace(/<(\\/)?a([^>]*)>/g, \"<$1span$2>\");\n                  }\n                  args.content = replaceA(args.content) + \" \";\n                },\n                paste_postprocess: (plugin, args) => {\n                  args.node.querySelectorAll(\"table\").forEach(tableNode => {\n                    tableNode.setAttribute(\"border\", \"1\");\n                    tableNode.setAttribute(\"cellpadding\", \"1\");\n                    tableNode.setAttribute(\"cellspacing\", \"0\");\n                  });\n                },\n                relative_urls: false,\n                remove_script_host: false,\n                link_assume_external_targets: true,\n                toolbar1:\n                  \"full screen  | undo redo | bold italic | alignleft aligncenter alignright | bullist numlist | forecolor backcolor fontsizeselect fontselect formatselect | blockquote code link image insertdatetime | customBlockquote\",\n                content_css: \"/css/entryeditor.css\",\n                height: 250,\n                verify_html: false,\n                setup: function(editor) {\n                  function blockquote() {\n                    return \"<blockquote><p><br></p></blockquote>\";\n                  }\n\n                  function insertBlockquote() {\n                    let html = blockquote();\n                    editor.insertContent(html);\n                  }\n\n                  editor.ui.registry.addMenuButton(\"customBlockquote\", {\n                    text: \"500px max-height blockquote\",\n                    //image: 'http://p.yusukekamiyamane.com/icons/search/fugue/icons/calendar-blue.png',\n                    tooltip: \"Insert a 500px max-height div (blockquote)\",\n                    fetch: insertBlockquote\n                    // onclick: insertBlockquote\n                  });\n                }\n              }}\n            />\n          ) : (\n            <div>Loading Editor...</div>\n          )}\n        </div>\n        <Prompt\n          when={this.state.leaveCatch}\n          message=\"Unsubmitted entry detected. You may want to submit or copy the contents of the entry before navigating elsewhere. Click CANCEL to prevent navigation elsewhere.\"\n        />\n      </div>\n    );\n  };\n}\n","import React from \"react\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\nimport Dropzone from \"react-dropzone\";\nlet Button = require(\"react-bootstrap/lib/Button.js\");\nlet Link = require(\"react-router-dom\").Link;\nlet finalfiles = [];\n\nexport default class FileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n      edit: false,\n      stagecolor: \"#000\",\n      enable: true,\n      addentry: true,\n      saved: true,\n      enablesave: true,\n      whoami: undefined\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    if (whoami) {\n      this.setState({ whoami: whoami });\n    }\n\n    $(\".entry-wrapper\").scrollTop(\n      $(\".entry-wrapper\").scrollTop() +\n        $(\"#not_saved_entry_\" + this.props.id).position().top\n    );\n  };\n\n  render = () => {\n    let not_saved_entry_id = \"not_saved_entry_\" + this.props.id;\n    return (\n      <div id={not_saved_entry_id}>\n        <div\n          className={\"row-fluid entry-outer\"}\n          style={{\n            border: \"3px solid blue\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\"\n          }}\n        >\n          <div className={\"row-fluid entry-header\"}>\n            <div className=\"entry-header-inner\">\n              [\n              <Link style={{ color: \"black\" }} to={\"not_saved_0\"}>\n                Not_Saved_0\n              </Link>\n              ]by {this.state.whoami}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                <Button bsSize={\"xsmall\"} onClick={this.submit}>\n                  Submit\n                </Button>\n                <Button bsSize={\"xsmall\"} onClick={this.onCancel}>\n                  Cancel\n                </Button>\n              </span>\n            </div>\n          </div>\n          <Dropzone\n            onDrop={this.onDrop}\n            style={{\n              \"border-width\": \"2px\",\n              \"border-color\": \"#000\",\n              \"border-radius\": \"4px\",\n              \"border-style\": \"dashed\",\n              \"text-align\": \"center\",\n              \"background-color\": \"azure\"\n            }}\n          >\n            <div style={{ fontSize: \"16px\", color: \"black\", margin: \"5px\" }}>\n              Click or Drop files here to upload\n            </div>\n          </Dropzone>\n          {this.state.files ? (\n            <div>\n              {\" \"}\n              {this.state.files.map(\n                function(file) {\n                  return (\n                    <ul\n                      style={{\n                        \"list-style-type\": \"none\",\n                        margin: \"0\",\n                        padding: \"0\"\n                      }}\n                    >\n                      <li>\n                        <p style={{ display: \"inline\" }}>{file.name}</p>\n                        <button\n                          style={{ \"line-height\": \"1px\" }}\n                          className=\"btn btn-info\"\n                          id={file.name}\n                          onClick={this.Close}\n                        >\n                          x\n                        </button>\n                      </li>\n                    </ul>\n                  );\n                }.bind(this)\n              )}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  };\n\n  onCancel = () => {\n    finalfiles = [];\n    this.props.fileUploadToggle();\n  };\n\n  Close = i => {\n    for (let x = 0; x < finalfiles.length; x++) {\n      if (i.target.id === finalfiles[x].name) {\n        finalfiles.splice(x, 1);\n      }\n    }\n    this.setState({ files: finalfiles });\n  };\n\n  onDrop = files => {\n    for (let i = 0; i < files.length; i++) {\n      finalfiles.push(files[i]);\n    }\n    this.setState({ files: finalfiles });\n  };\n\n  submit = () => {\n    if (finalfiles.length > 0) {\n      for (let i = 0; i < finalfiles.length; i++) {\n        let data = new FormData();\n        data.append(\"upload\", finalfiles[i]);\n        data.append(\"target_type\", this.props.type);\n        data.append(\"target_id\", Number(this.props.targetid));\n        if (this.props.entryid != null) {\n          data.append(\"entry_id\", this.props.entryid);\n        }\n        let xhr = new XMLHttpRequest();\n        xhr.addEventListener(\"progress\", this.uploadProgress);\n        xhr.addEventListener(\"load\", this.uploadComplete);\n        xhr.addEventListener(\"error\", this.uploadFailed);\n        xhr.addEventListener(\"abord\", this.uploadCancelled);\n        xhr.open(\"POST\", \"/scot/api/v2/file\");\n        xhr.send(data);\n      }\n    } else {\n      alert(\"Select a file to upload before submitting.\");\n    }\n  };\n\n  uploadComplete = () => {\n    this.onCancel();\n  };\n\n  uploadFailed = () => {\n    this.props.errorToggle(\"An error occured. Upload failed.\");\n  };\n\n  uploadProgress = () => {\n    //TODO add progress bar\n  };\n\n  uploadCancelled = () => {\n    //this.props.errorToggle('Upload Cancelled');\n  };\n}\n","import React from \"react\";\nimport $ from \"jquery\";\n\nexport default class Summary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      key: this.props.id\n    };\n  }\n\n  toggle = () => {\n    let newClass;\n    if (this.props.summary === 1) {\n      newClass = \"entry\";\n    } else if (this.props.summary === 0) {\n      newClass = \"summary\";\n    }\n    let json = { class: newClass };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to make summary\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let summaryDisplay = \"Summary Loading...\";\n    let onClick;\n    if (this.props.summary === 0) {\n      summaryDisplay = \"Make Summary\";\n      onClick = this.toggle;\n    } else if (this.props.summary === 1) {\n      summaryDisplay = \"Remove Summary\";\n      onClick = this.toggle;\n    }\n    return (\n      <span style={{ display: \"block\" }} onClick={onClick}>\n        {summaryDisplay}\n      </span>\n    );\n  };\n}\n","import React from \"react\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\n\nexport default class Task extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whoami: undefined\n    };\n  }\n\n  componentDidMount = () => {\n    let whoami = SessionStorage.getSessionStorage(\"whoami\");\n    this.setState({ whoami: whoami });\n  };\n\n  makeTask = () => {\n    let json = { make_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to close task\", data);\n      }.bind(this)\n    });\n  };\n\n  closeTask = () => {\n    let json = { close_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to close task\", data);\n      }.bind(this)\n    });\n  };\n\n  takeTask = () => {\n    let json = { take_task: 1 };\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/entry/\" + this.props.entryid,\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"success: \" + data);\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to make Task owner\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let taskDisplay = \"Task Loading...\";\n    let onClick;\n    if (this.props.taskData.class === \"task\") {\n      if (\n        this.props.taskData.metadata.task.status === undefined ||\n        this.props.taskData.metadata.task.status === null ||\n        this.props.taskData.class !== \"task\"\n      ) {\n        taskDisplay = \"Make Task\";\n        onClick = this.makeTask;\n      } else if (\n        this.state.whoami !== this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"open\"\n      ) {\n        taskDisplay = \"Assign task to me\";\n        onClick = this.takeTask;\n      } else if (\n        this.state.whoami === this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"open\"\n      ) {\n        taskDisplay = \"Close Task\";\n        onClick = this.closeTask;\n      } else if (\n        this.props.taskData.metadata.task.status === \"closed\" ||\n        this.props.taskData.metadata.task.status === \"completed\"\n      ) {\n        taskDisplay = \"Reopen Task\";\n        onClick = this.makeTask;\n      } else if (\n        this.state.whoami === this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"assigned\"\n      ) {\n        taskDisplay = \"Close Task\";\n        onClick = this.closeTask;\n      } else if (\n        this.state.whoami !== this.props.taskData.metadata.task.who &&\n        this.props.taskData.metadata.task.status === \"assigned\"\n      ) {\n        taskDisplay = \"Assign task to me\";\n        onClick = this.takeTask;\n      }\n    } else {\n      taskDisplay = \"Make Task\";\n      onClick = this.makeTask;\n    }\n    return (\n      <span style={{ display: \"block\" }} onClick={onClick}>\n        {taskDisplay}\n      </span>\n    );\n  };\n}\n","import React from \"react\";\nimport Modal from \"react-modal\";\nimport Button from \"react-bootstrap/lib/Button\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nexport default class LinkWarning extends React.Component {\n  proceed = () => {\n    window.open(this.props.link, '_blank' ).opener = null;\n    this.props.linkWarningToggle();\n  };\n\n  componentWillMount = () => {\n    let myDomain = window.location.href;\n    let reg = new RegExp(\n      /((https?|ftp):\\/\\/[a-zA-Z0-9\\-_\\.]+\\.)?([a-zA-Z0-9\\-_\\.]+\\.([a-zA-Z]{1,63}))/,\n      \"i\"\n    );\n    let linkRegResult = this.props.link.match(reg);\n    let myDomainRegResult = myDomain.match(reg);\n    if (linkRegResult != undefined && myDomainRegResult != undefined) {\n      let linkDomain = linkRegResult[3];\n      let myDomain = myDomainRegResult[3];\n      if (linkDomain === myDomain) {\n        this.proceed();\n      }\n    } else if (linkRegResult == undefined) {\n      this.proceed();\n    }\n    /*\n        if ($.isUrlInternal(this.props.link)) {\n            this.proceed();\n        }*/\n  };\n  render = () => {\n    return (\n      <div>\n        <Modal\n          isOpen={true}\n          onRequestClose={this.props.linkWarningToggle}\n          style={customStyles}\n        >\n          <div className=\"modal-header\">\n            <img\n              src=\"/images/close_toolbar.png\"\n              className=\"close_toolbar\"\n              alt=\"\"\n              onClick={this.props.linkWarningToggle}\n            />\n            <h3 id=\"myModalLabel\">Browse to site?</h3>\n          </div>\n          <div className=\"modal-body\">\n            The link you clicked may take you to a site outside SCOT. If this is\n            a link an attacker controls you may be tipping your hand.\n            <br />\n            <b>{this.props.link}</b>\n          </div>\n          <div className=\"modal-footer\">\n            <Button id=\"cancel-delete\" onClick={this.props.linkWarningToggle}>\n              Cancel\n            </Button>\n            <Button bsStyle=\"info\" id=\"proceed\" onClick={this.proceed}>\n              Proceed\n            </Button>\n          </div>\n        </Modal>\n      </div>\n    );\n  };\n}\n","import React from 'react';\nimport brace from 'brace';\nimport AceEditor from 'react-ace';\nimport Button from 'react-bootstrap/lib/Button.js';\nimport DropdownButton from 'react-bootstrap/lib/DropdownButton.js';\nimport OverlayTrigger from 'react-bootstrap/lib/OverlayTrigger.js';\nimport ButtonGroup from 'react-bootstrap/lib/ButtonGroup.js';\nimport MenuItem from 'react-bootstrap/lib/MenuItem.js';\nimport Popover from 'react-bootstrap/lib/Popover.js';\nimport $ from 'jquery'\nimport 'brace/mode/bro';\nimport 'brace/mode/javascript';\nimport 'brace/mode/java';\nimport 'brace/mode/python';\nimport 'brace/mode/xml';\nimport 'brace/mode/ruby';\nimport 'brace/mode/sass';\nimport 'brace/mode/markdown';\nimport 'brace/mode/mysql';\nimport 'brace/mode/json';\nimport 'brace/mode/html';\nimport 'brace/mode/c_cpp';\nimport 'brace/mode/csharp';\nimport 'brace/mode/perl';\nimport 'brace/mode/powershell';\nimport 'brace/mode/yaml';\nimport 'brace/theme/github';\nimport 'brace/theme/monokai';\nimport 'brace/theme/kuroir';\nimport 'brace/theme/solarized_dark';\nimport 'brace/theme/solarized_light';\nimport 'brace/theme/terminal';\nimport 'brace/theme/textmate';\nimport 'brace/theme/tomorrow';\nimport 'brace/theme/twilight';\nimport 'brace/theme/xcode';\nimport 'brace/keybinding/vim';\nimport 'brace/keybinding/emacs';\nimport * as Cookies from \"../utils/cookies\"\n\n\nexport default class SignatureTable extends React.Component {\n  constructor(props) {\n    super(props);\n    let key = new Date();\n    key = key.getTime();\n    let value = '';\n    let currentKeyboardHandler = 'none';\n    let currentLanguageMode = 'java';\n    let currentEditorTheme = 'github';\n    let viewVersionid = this.props.headerData.prod_sigbody_id;\n    let viewSigBodyid;\n    if (Cookies.checkCookie('signatureKeyboardHandler') != undefined) {\n      currentKeyboardHandler = Cookies.checkCookie('signatureKeyboardHandler');\n    }\n    if (Cookies.checkCookie('signatureLanguageMode') != undefined) {\n      currentLanguageMode = Cookies.checkCookie('signatureLanguageMode');\n    }\n    if (Cookies.checkCookie('signatureEditorTheme') != undefined) {\n      currentEditorTheme = Cookies.checkCookie('signatureEditorTheme');\n    }\n    if (Object.keys(this.props.headerData.version).length !== 0) {\n      if (this.props.headerData.version[this.props.headerData.prod_sigbody_id] != undefined || this.props.headerData.version[this.props.headerData.prod_sigbody_id] == 0) {\n        value = this.props.headerData.version[this.props.headerData.prod_sigbody_id].body;\n        viewSigBodyid = this.props.headerData.version[this.props.headerData.prod_sigbody_id].id;\n      } else {\n        for (let key in this.props.headerData.version) {\n          if (key < viewVersionid) {\n            continue;\n          } else {\n            viewVersionid = key;\n            value = this.props.headerData.version[key].body;\n            viewSigBodyid = this.props.headerData.version[key].id;\n          }\n        }\n      }\n    }\n    this.state = {\n      readOnly: true,\n      value: value,\n      signatureData: this.props.headerData,\n      loaded: true,\n      viewSigBodyid: viewSigBodyid,\n      viewVersionid: viewVersionid,\n      lastViewVersionid: null,\n      key: key,\n      cursorEnabledDisabled: \"cursorDisabled\",\n      keyboardHandlers: [\"none\", \"vim\", \"emacs\"],\n      currentKeyboardHandler: currentKeyboardHandler,\n      languageModes: [\n        \"bro\",\n        \"csharp\",\n        \"c_cpp\",\n        \"html\",\n        \"javascript\",\n        \"java\",\n        \"json\",\n        \"markdown\",\n        \"mysql\",\n        \"perl\",\n        \"powershell\",\n        \"python\",\n        \"ruby\",\n        \"sass\",\n        \"xml\",\n        \"yaml\"\n      ],\n      currentLanguageMode: currentLanguageMode,\n      editorThemes: [\n        \"github\",\n        \"monokai\",\n        \"kuroir\",\n        \"solarized_dark\",\n        \"solarized_light\",\n        \"terminal\",\n        \"textmate\",\n        \"tomorrow\",\n        \"twilight\",\n        \"xcode\"\n      ],\n      currentEditorTheme: currentEditorTheme,\n      ajaxType: null\n    };\n\n  }\n  onChange = value => {\n    this.setState({ value: value });\n  }\n\n  submitSigBody = e => {\n    let url = 'scot/api/v2/sigbody/';\n    let versionid = this.state.viewVersionid;  //version revision if creating a new sigbody\n    if (this.state.ajaxType == 'put') {\n      versionid = this.state.viewSigBodyid;  //version id (not revision id) if editing an existing sigbody \n      url = 'scot/api/v2/sigbody/' + versionid;\n    }\n    $.ajax({\n      type: this.state.ajaxType,\n      url: url,\n      data: JSON.stringify({ signature_id: parseInt(this.props.id), body: this.state.value }),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        console.log('successfully changed signature data');\n        let viewVersionid;\n        if (data.revision == undefined) { viewVersionid = this.state.viewVersionid; } else { viewVersionid = data.revision; }\n        this.setState({ readOnly: true, cursorEnabledDisabled: 'cursorDisabled', ajaxType: null, viewVersionid: viewVersionid, viewSigBodyid: data.id });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to create/update sigbody', data);\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps = nextProps => {\n    this.setState({ signatureData: nextProps.headerData });\n  }\n\n  editSigBody = e => {\n    this.setState({ readOnly: false, lastViewVersionid: this.state.viewVersionid, cursorEnabledDisabled: 'cursorEnabled', ajaxType: 'put' });\n  }\n\n  createNewSigBody = () => {\n    this.setState({ readOnly: false, viewVersionid: null, lastViewVersionid: this.state.viewVersionid, value: '', cursorEnabledDisabled: 'cursorEnabled', ajaxType: 'post' });\n  }\n\n  createNewSigBodyFromSig = () => {\n    this.setState({ readOnly: false, lastViewVersionid: this.state.viewVersionid, cursorEnabledDisabled: 'cursorEnabled', ajaxType: 'post', viewVersionid: null });\n  }\n\n  Cancel = () => {\n    let value = '';\n    if (Object.keys(this.state.signatureData.version).length !== 0) {\n      if (this.state.signatureData.version[this.state.signatureData.prod_sigbody_id] != undefined) {\n        value = this.state.signatureData.version[this.state.lastViewVersionid].body;\n      }\n    }\n    this.setState({ readOnly: true, value: value, viewVersionid: this.state.lastViewVersionid, cursorEnabledDisabled: 'cursorDisabled', ajaxType: null });\n  }\n\n  viewSigBody = e => {\n    if (this.state.readOnly === true) {\n      //only allow button click if you can't edit the signature\n      this.setState({\n        value: this.state.signatureData.version[e.target.id].body,\n        viewVersionid: e.target.id,\n        viewSigBodyid: e.target.viewSigBodyid\n      });\n    }\n  };\n\n  keyboardHandlerUpdate = e => {\n    Cookies.setCookie(\"signatureKeyboardHandler\", e.target.text, 1000);\n    this.setState({ currentKeyboardHandler: e.target.text });\n  };\n\n  languageModeUpdate = e => {\n    Cookies.setCookie(\"signatureLanguageMode\", e.target.text, 1000);\n    this.setState({ currentLanguageMode: e.target.text });\n  };\n\n  editorThemeUpdate = e => {\n    Cookies.setCookie(\"signatureEditorTheme\", e.target.text, 1000);\n    this.setState({ currentEditorTheme: e.target.text });\n  };\n\n\n  render() {\n    let versionsArray = [];\n    let keyboardHandlersArray = [];\n    let languageModesArray = [];\n    let editorThemesArray = [];\n    let not_saved_signature_entry_id = 'not_saved_signature_entry_' + this.state.key;\n    let currentKeyboardHandlerApplied = this.state.currentKeyboardHandler;\n    let viewVersionid = [];\n    let highestVersionid = 0;\n    if (Object.keys(this.state.signatureData).length !== 0) {\n      if (Object.keys(this.state.signatureData.version).length !== 0) {\n        for (let key in this.state.signatureData.version) {\n          let versionidrevision = this.state.signatureData.version[key].revision;\n          let versionidrevisionprodqual = this.state.signatureData.version[key].revision;\n          let versionidSigBodyid = this.state.signatureData.version[key].id;\n          if (this.state.signatureData.prod_sigbody_id == versionidrevision) { versionidrevisionprodqual = versionidrevision + ' - Production'; } else if (this.state.signatureData.qual_sigbody_id == versionidrevision) { versionidrevisionprodqual = versionidrevision + ' - Quality'; } //add production and quality text to identify current status on the menu\n          let disabled;\n          if (this.state.readOnly == true) { disabled = false; } else { disabled = true; }\n          versionsArray.push(<MenuItem id={versionidrevision} key={versionidrevision} onClick={this.viewSigBody} eventKey={versionidrevision} viewSigBodyid={versionidSigBodyid} bsSize={'xsmall'} disabled={disabled}>{versionidrevisionprodqual}</MenuItem>);\n          if (versionidrevision > highestVersionid) { highestVersionid = versionidrevision; }\n        }\n      }\n    }\n\n    if (this.state.keyboardHandlers != undefined) {\n      for (let i = 0; i < this.state.keyboardHandlers.length; i++) {\n        keyboardHandlersArray.push(<MenuItem id={i} key={i} onClick={this.keyboardHandlerUpdate} eventKey={i} bsSize={'xsmall'}>{this.state.keyboardHandlers[i]}</MenuItem>);\n      }\n    }\n\n    if (this.state.currentKeyboardHandler == 'none') {\n      currentKeyboardHandlerApplied = null;\n    }\n\n    if (this.state.languageModes != undefined) {\n      for (let i = 0; i < this.state.languageModes.length; i++) {\n        languageModesArray.push(<MenuItem id={i} key={i} onClick={this.languageModeUpdate} eventKey={i} bsSize={'xsmall'}>{this.state.languageModes[i]}</MenuItem>);\n      }\n    }\n\n    if (this.state.editorThemes != undefined) {\n      for (let i = 0; i < this.state.editorThemes.length; i++) {\n        editorThemesArray.push(<MenuItem id={i} key={i} onClick={this.editorThemeUpdate} eventKey={i} bsSize={'xsmall'}>{this.state.editorThemes[i]}</MenuItem>);\n      }\n    }\n    if (this.state.signatureData.prod_sigbody_id == this.state.viewVersionid) {\n      viewVersionid.push(<span className='signature_production_color'>{this.state.viewVersionid} - Production</span>);\n    } else if (this.state.signatureData.qual_sigbody_id == this.state.viewVersionid) {\n      viewVersionid.push(<span className='signature_quality_color'>{this.state.viewVersionid} - Quality</span>);\n    } else {\n      viewVersionid.push(<span>{this.state.viewVersionid}</span>);\n    }\n    return (\n      <div id={'signatureDetail'} className='signatureDetail'>\n        {this.state.loaded ?\n          <div>\n            <SignatureMetaData signatureData={this.state.signatureData} type={this.props.type} id={this.props.id} currentLanguageMode={this.state.currentLanguageMode} currentEditorTheme={this.state.currentEditorTheme} currentKeyboardHandlerApplied={currentKeyboardHandlerApplied} errorToggle={this.props.errorToggle} showSignatureOptions={this.props.showSignatureOptions} />\n            <div id={not_saved_signature_entry_id} className={'not_saved_signature_entry'}>\n              <div className={'row-fluid signature-entry-outer'} style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n                <div className={'row-fluid signature-entry-header'}>\n                  <div className=\"signature-entry-header-inner\">\n                    Signature Body: {viewVersionid}\n                    <span className='pull-right' style={{ display: 'inline-flex', paddingRight: '3px' }}>\n                      Editor Theme:\n                                            <DropdownButton bsSize={'xsmall'} title={this.state.currentEditorTheme} id='bg-nested-dropdown' style={{ marginRight: '10px' }}>\n                        {editorThemesArray}\n                      </DropdownButton>\n                      Language Handler:\n                                            <DropdownButton bsSize={'xsmall'} title={this.state.currentLanguageMode} id='bg-nested-dropdown' style={{ marginRight: '10px' }}>\n                        {languageModesArray}\n                      </DropdownButton>\n\n                      Keyboard Handler:\n                                            <DropdownButton bsSize={'xsmall'} title={this.state.currentKeyboardHandler} id='bg-nested-dropdown' style={{ marginRight: '10px' }}>\n                        {keyboardHandlersArray}\n                      </DropdownButton>\n\n                      Signature Body Version:\n                                            <DropdownButton bsSize={'xsmall'} title={viewVersionid} id='bg-nested-dropdown' style={{ marginRight: '10px' }}>\n                        {versionsArray}\n                      </DropdownButton>\n                      {this.state.readOnly ?\n                        <span>\n                          <Button bsSize={'xsmall'} onClick={this.createNewSigBody} bsStyle={'success'}>Create new version</Button>\n                          {this.state.viewVersionid != 0 ?\n                            <span><Button bsSize={'xsmall'} onClick={this.createNewSigBodyFromSig}>Create new version using this base</Button>\n                              <Button bsSize={'xsmall'} onClick={this.editSigBody}>Update displayed version</Button></span>\n                            :\n                            null\n                          }\n                        </span>\n                        :\n                        <span>\n                          <Button bsSize={'xsmall'} onClick={this.submitSigBody}>Submit</Button>\n                          <Button bsSize={'xsmall'} onClick={this.Cancel}>Cancel</Button>\n                        </span>\n                      }\n                    </span>\n                  </div>\n                </div>\n                <AceEditor\n                  mode={this.state.currentLanguageMode}\n                  theme={this.state.currentEditorTheme}\n                  onChange={this.onChange}\n                  name=\"signatureEditor\"\n                  editorProps={{ $blockScrolling: true }}\n                  keyboardHandler={currentKeyboardHandlerApplied}\n                  value={this.state.value}\n                  width='100%'\n                  maxLines={50}\n                  minLines={10}\n                  readOnly={this.state.readOnly}\n                  className={this.state.cursorEnabledDisabled}\n                  showPrintMargin={false}\n                />\n              </div>\n            </div>\n          </div>\n          :\n          <div>\n            Loading Signature Data...\n                    </div>\n        }\n      </div>\n    );\n  }\n}\n\nclass SignatureMetaData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      optionsValue: JSON.stringify(this.props.signatureData.options)\n    };\n  }\n\n\n  submitMetaData = event => {\n    let k = event.target.id;\n    let v = event.target.value;\n    if (k == 'options' || k == 'target') {\n      try { v = JSON.parse(v); }\n      catch (err) { this.props.errorToggle('Failed to convert string to object. Try adding quotation marks around the key and values'); return; }\n      let optionsType = typeof (v);\n      if (optionsType !== 'object') { this.props.errorToggle('options need to be an object but were detected as: ' + optionsType); return; }\n    } //Convery v to JSON for options as its type is JSON\n    let json = {};\n    json[k] = v;\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/signature/' + this.props.id,\n      data: JSON.stringify(json),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        console.log('successfully changed signature data');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to update signature metadata', data);\n      }.bind(this)\n    });\n  }\n\n  onOptionsChange = optionsValue => {\n    this.setState({ optionsValue: optionsValue });\n  };\n\n  render() {\n\n    return (\n      <div>\n        {this.props.showSignatureOptions ?\n          <div id='signatureTable2' className='signatureTableOptions'>\n            <div className={'row-fluid signature-entry-outer'} style={{ marginLeft: 'auto', marginRight: 'auto' }}>\n              <div className={'row-fluid signature-entry-header'}>\n                <div className=\"signature-entry-header-inner\">\n                  Signature Options\n                                    <Button type='submit' bsSize='xsmall' bsStyle='success' onClick={this.submitMetaData} id={'options'} value={this.state.optionsValue}>Apply</Button>\n                </div>\n              </div>\n              <AceEditor\n                mode='json'\n                theme={this.props.currentEditorTheme}\n                onChange={this.onOptionsChange}\n                name=\"signatureEditorOptions\"\n                editorProps={{ $blockScrolling: true }}\n                keyboardHandler={this.props.currentKeyboardHandlerApplied}\n                value={this.state.optionsValue}\n                minLines={10}\n                maxLines={25}\n                width='100%'\n                readOnly={false}\n                showPrintMargin={false}\n              />\n            </div>\n          </div>\n          :\n          null\n        }\n      </div>\n    );\n  }\n};\n\nclass SignatureGroup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      signatureGroupValue: \"\"\n    };\n  }\n\n  handleAddition = signature_group => {\n    let newSignatureGroupArr = [];\n    let data = this.props.data;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof data[i] == \"string\") {\n          newSignatureGroupArr.push(data[i]);\n        } else {\n          newSignatureGroupArr.push(data[i].value);\n        }\n      }\n    }\n    newSignatureGroupArr.push(signature_group.target.value);\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/signature/\" + this.props.id,\n      data: JSON.stringify({ signature_group: newSignatureGroupArr }),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (data) {\n        console.log(\"success: signature_group added\");\n        this.setState({ signatureGroupValue: \"\" });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle(\"Failed to add signature_group\", data);\n      }.bind(this)\n    });\n  };\n\n  InputChange = event => {\n    this.setState({ signatureGroupValue: event.target.value });\n  };\n\n  handleDelete = event => {\n    let data = this.props.data;\n    let clickedThing = event.target.id;\n    let newSignatureGroupArr = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof (data[i]) == 'string') {\n          if (data[i] != clickedThing) {\n            newSignatureGroupArr.push(data[i]);\n          }\n        } else {\n          if (data[i].value != clickedThing) {\n            newSignatureGroupArr.push(data[i].value);\n          }\n        }\n      }\n    }\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/signature/' + this.props.id,\n      data: JSON.stringify({ 'signature_group': newSignatureGroupArr }),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        console.log('deleted signature_group success: ' + data);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to delete signature_group', data);\n      }.bind(this)\n    });\n  }\n\n\n  render() {\n    let data = this.props.data;\n    let signatureGroupArr = [];\n    let value;\n    for (let i = 0; i < data.length; i++) {\n      if (typeof (data[i]) == 'string') {\n        value = data[i];\n      } else if (typeof (data[i]) == 'object') {\n        if (data[i] != undefined) {\n          value = data[i].value;\n        }\n      }\n      signatureGroupArr.push(<span id=\"event_signature\" className='tagButton'>{value} <i id={value} onClick={this.handleDelete} className=\"fa fa-times tagButtonClose\" /></span>);\n    }\n    return (\n      <div className='col-lg-2 col-md-4'>\n        <span className='signatureTableWidth'>\n          Signature Group:\n                </span>\n        <span className='signatureTableWidth'>\n          <input id={this.props.metaType} onChange={this.InputChange} value={this.state.signatureGroupValue} />\n          {this.state.signatureGroupValue != '' ? <Button bsSize='xsmall' bsStyle='success' onClick={this.handleAddition} value={this.state.signatureGroupValue}>Submit</Button> : <Button bsSize='xsmall' bsType='submit' disabled>Submit</Button>}\n        </span>\n        {signatureGroupArr}\n      </div>\n    );\n  }\n};\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport AutoComplete from \"react-autocomplete\";\nimport $ from \"jquery\";\n\nclass AutoCompleteInput extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestions: [],\n      value: \"\"\n    };\n\n    this.HandleAdd = this.HandleAdd.bind(this);\n    this.HandleInputChange = this.HandleInputChange.bind(this);\n  }\n\n  static propTypes = {\n    onChange: PropTypes.func.isRequired,\n    value: PropTypes.array.isRequired\n  };\n\n  componentWillMount() {\n    if (this.props.value) {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  HandleAdd(value) {\n    this.setState({ value: value });\n    this.props.OnChange(value);\n  }\n\n  HandleInputChange(input) {\n    this.props.OnChange(input.target.value);\n\n    this.setState({ value: input.target.value });\n\n    if (input.target && input.target.value.length >= 1) {\n      let arr = [];\n      $.ajax({\n        type: \"get\",\n        url: \"/scot/api/v2/ac/\" + this.props.type + \"/\" + input.target.value,\n        success: function(result) {\n          result = result.records;\n          for (let i = 0; i < result.length; i++) {\n            if (typeof result[i] === \"string\") {\n              let obj = {};\n              obj.label = result[i];\n              arr.push(obj);\n            }\n          }\n\n          this.setState({ suggestions: arr });\n        }.bind(this),\n        error: function() {\n          console.log(\"failed to get autocomplete data\");\n        }\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"AutoCompleteInput\">\n        <AutoComplete\n          getItemValue={item => item.label}\n          items={this.state.suggestions}\n          renderItem={(item, isHighlighted) => (\n            <div style={{ background: isHighlighted ? \"lightgray\" : \"white\" }}>\n              {item.label}\n            </div>\n          )}\n          value={this.state.value}\n          onChange={this.HandleInputChange}\n          onSelect={this.HandleAdd}\n          menuStyle={{\n            borderRadius: \"3px\",\n            boxShadow: \"0 2px 12px rgba(0, 0, 0, 0.1)\",\n            background: \"rgba(255, 255, 255, 0.9)\",\n            padding: \"2px 0\",\n            fontSize: \"90%\",\n            overflow: \"auto\",\n            maxHeight: \"200px\", // TODO: don't cheat, let it flow to the bottom\n            top: \"unset\",\n            left: \"unset\",\n            position: \"absolute\"\n          }}\n          inputProps={{ style: { width: \"100%\" } }}\n          wrapperProps={{ style: { width: \"300px\" } }}\n        />\n      </div>\n    );\n  }\n}\n\nexport default AutoCompleteInput;\n","import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport $ from \"jquery\";\n//import TagInput from '../components/TagInput';\nimport AutoCompleteInput from \"../components/autocomplete_input.js\";\n\nclass EntityCreateModal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: \"\",\n      match: \"\",\n      userdef: true,\n      status: \"tracked\",\n      multiword: \"yes\",\n      confirmation: false,\n      countLoading: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.match) {\n      this.setState({ match: this.props.match });\n    }\n\n    this.mounted = true;\n  }\n\n  componentDidMount() {\n    // $(document).keypress(\n    //   function (event) {\n    //     if ($(\"input\").is(\":focus\")) {\n    //       return;\n    //     }\n\n    //     if (\n    //       event.keyCode === 13 &&\n    //       this.state.match.length >= 1 &&\n    //       this.state.value >= 1\n    //     ) {\n    //       if (this.state.confirmation === false) {\n    //         this.Confirmation();\n    //       } else {\n    //         this.Submit();\n    //       }\n    //     }\n    //     return;\n    //   }.bind(this)\n    // ).bind(this);\n    this.HasSpacesCheck(this.props.match);\n  }\n\n  componentWillUnmount() {\n    $(document).unbind(\"keypress\");\n    this.mounted = false;\n  }\n\n  HasSpacesCheck = (match) => {\n    if (/\\s/g.test(match) === true) {\n      this.setState({ multiword: \"yes\" });\n    } else {\n      this.setState({ multiword: \"no\" });\n    }\n  }\n\n  GetCount = () => {\n    this.setState({ countLoading: true });\n    let match = encodeURIComponent(this.state.match);\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/hitsearch?match=\" + match,\n      success: function (data) {\n        this.setState({ count: data.count, countLoading: false });\n      }.bind(this),\n      error: function (data) {\n        this.setState({ count: \"unable to get count\", countLoading: false });\n      }.bind(this)\n    });\n  }\n\n  Confirmation = () => {\n    if (this.state.confirmation === false) {\n      this.GetCount();\n      this.setState({ confirmation: true });\n    } else {\n      this.setState({ confirmation: false, value: \"\" });\n    }\n  }\n\n  Submit = () => {\n    let json = {\n      value: this.state.value,\n      match: this.state.match,\n      status: \"active\",\n      options: { multiword: this.state.multiword }\n    };\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/entitytype\",\n      data: JSON.stringify(json),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function (data) {\n        console.log(\"success: \" + data);\n        this.props.ToggleCreateEntity();\n      }.bind(this),\n      error: function (data) {\n        if (data.responseJSON.error_msg) {\n          this.props.errorToggle(\n            \"failed to create user defined entity: error_message: \" +\n            data.responseJSON.error_msg,\n            data\n          );\n        } else {\n          this.props.errorToggle(\"failed to create user defined entity\", data);\n        }\n      }.bind(this)\n    });\n  }\n\n  OnChangeMatch = (e) => {\n    this.setState({ match: e.target.value });\n    this.HasSpacesCheck(e.target.value);\n  }\n\n  OnChangeValue = (e) => {\n    this.setState({ value: e });\n  }\n\n  render() {\n    return (\n      <Modal\n        dialogClassName=\"entity-create-modal\"\n        show={this.props.modalActive}\n        onHide={this.props.ToggleCreateEntity}\n      >\n        <Modal.Header closeButton={true}>\n          <Modal.Title>\n            {!this.state.confirmation ? (\n              <span>Create a user defined entity</span>\n            ) : (\n                <span>Confirm and submit user defined entity</span>\n              )}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {!this.state.confirmation ? (\n            <span>\n              <span style={{ display: \"flex\" }}>\n                <span style={{ width: \"150px\" }}>\n                  <b>New Entity Name:</b>\n                </span>\n                <span style={{ width: \"300px\" }}>\n                  <input\n                    type={\"tag\"}\n                    onChange={this.OnChangeMatch}\n                    value={this.state.match}\n                    style={{ width: \"100%\" }}\n                  />\n                </span>\n              </span>\n              <span style={{ display: \"flex\" }}>\n                <span style={{ width: \"150px\" }}>\n                  <b>Entity Type:</b>\n                </span>\n                <span>\n                  <AutoCompleteInput\n                    type={\"entitytype\"}\n                    OnChange={this.OnChangeValue}\n                    value={this.state.value}\n                  />\n                </span>\n              </span>\n            </span>\n          ) : (\n              <span>\n                <div>\n                  Entity Name: <b>{this.state.match}</b>\n                </div>\n                <div>\n                  Entity Type: <b>{this.state.value}</b>\n                </div>\n                <div>\n                  Multiword: <b>{this.state.multiword}</b>\n                </div>\n              </span>\n            )}\n        </Modal.Body>\n        <Modal.Footer>\n          {!this.state.confirmation ? (\n            <span>\n              {this.state.value.length >= 1 && this.state.match.length >= 1 ? (\n                <Button\n                  onClick={this.Confirmation}\n                  bsStyle={\"primary\"}\n                  type={\"submit\"}\n                  active={true}\n                >\n                  Continue\n                </Button>\n              ) : null}\n              <Button onClick={this.props.ToggleCreateEntity}>Cancel</Button>\n            </span>\n          ) : (\n              <span>\n                <span style={{ color: \"red\", float: \"left\" }}>\n                  {this.state.countLoading ? (\n                    <span>Count: is loading...</span>\n                  ) : (\n                      <span>Count: {this.state.count}</span>\n                    )}\n                </span>\n                <span>\n                  <Button onClick={this.Submit} bsStyle={\"success\"}>\n                    Submit\n                </Button>\n                  <Button onClick={this.Confirmation}>Go Back</Button>\n                </span>\n              </span>\n            )}\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}\n\nexport default EntityCreateModal;\n","\nimport React from 'react';\nimport ReactDateTime from 'react-datetime'\nimport { Button, Tooltip, OverlayTrigger, FormControl } from 'react-bootstrap';\nimport $ from 'jquery'\n\n//Add data into this metadata field by entering in the form layout in scot.cfg.pl.\n\nexport default class CustomMetaDataTable extends React.Component {\n\n  onChange = (event) => {\n    let k = event.target.id;\n    let v = event.target.value;\n    let data_string = 'data.' + k;\n    let data = {};\n    data[data_string] = v;\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n      data: JSON.stringify(data),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('successfully changed custom table data');\n        this.forceUpdate();\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to updated custom table data', data);\n      }.bind(this)\n    });\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    //Only update the metadata if the headerData is different\n    if (this.props.headerData === nextProps.headerData) {\n      return false;\n    } else {\n      return true;\n    }\n\n  }\n\n  render() {\n    let multiSelectArr = [];\n    let dropdownArr = [];\n    let datesArr = [];\n    let inputArr = [];\n    let textAreaArr = [];\n    let inputMultiArr = [];\n    let booleanArr = [];\n    let formType = this.props.form[this.props.headerData[\"data_fmt_ver\"]];\n    if (formType) {\n      for (let i = 0; i < formType.length; i++) {\n        let value = formType[i]['value'];\n        let url = formType[i]['value_type']['url'];\n        if (url) {\n          url = url.replace('%s', this.props.id);\n        }\n        if (formType[i]['value_type']['key'].split('.').reduce((o, i) => o[i], this.props.headerData.data)) {\n          value = formType[i]['value_type']['key'].split('.').reduce((o, i) => o[i], this.props.headerData.data);\n        }\n\n        switch (formType[i]['type']) {\n          case 'dropdown':\n            if (formType[i]['value_type']['type'] == 'static') {\n              dropdownArr.push(<DropdownComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} value={value} dropdownValues={formType[i]['value']} help={formType[i].help} />);\n            } else {\n              dropdownArr.push(<DropdownComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} />);\n            }\n            break;\n\n          case 'input':\n            if (formType[i]['value_type']['type'] == 'static') {\n              inputArr.push(<InputComponent onBlur={this.onChange} value={value} id={formType[i].key} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              inputArr.push(<InputComponent onBlur={this.onChange} id={formType[i].key} label={formType[i].label} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} />);\n            }\n            break;\n\n          case 'calendar':\n            if (formType[i]['value_type']['type'] == 'static') {\n              let calendarValue = value * 1000;\n              datesArr.push(<Calendar typeTitle={formType[i].label} value={calendarValue} typeLower={formType[i].key} type={this.props.type} id={this.props.id} help={formType[i].help} />);\n            } else {\n              datesArr.push(<Calendar typeTitle={formType[i].label} typeLower={formType[i].key} type={this.props.type} id={this.props.id} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'textarea':\n            if (formType[i]['value_type']['type'] == 'static') {\n              textAreaArr.push(<TextAreaComponent id={formType[i].key} value={value} onBlur={this.onChange} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              textAreaArr.push(<TextAreaComponent id={formType[i].key} onBlur={this.onChange} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'input_multi':\n            if (formType[i]['value_type']['type'] == 'static') {\n              inputMultiArr.push(<InputMultiComponent id={formType[i].key} value={value} errorToggle={this.props.errorToggle} mainType={this.props.type} mainId={this.props.id} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              inputMultiArr.push(<InputMultiComponent id={formType[i].key} errorToggle={this.props.errorToggle} mainType={this.props.type} mainId={this.props.id} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'boolean':\n            if (formType[i]['value_type']['type'] == 'static') {\n              booleanArr.push(<BooleanComponent id={formType[i].key} value={value} onChange={this.onChange} label={formType[i].label} help={formType[i].help} />);\n            } else {\n              booleanArr.push(<BooleanComponent id={formType[i].key} onChange={this.onChange} label={formType[i].label} fetchURL={url} dynamic={true} referenceKey={formType[i]['value_type']['key']} help={formType[i].help} />);\n            }\n            break;\n\n          case 'multi_select':\n            if (formType[i]['value_type']['type'] == 'static') {\n              multiSelectArr.push(<MultiSelectComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} value={value} dropdownValues={formType[i]['value']} help={formType[i].help} mainType={this.props.type} mainId={this.props.id} />);\n            } else {\n              multiSelectArr.push(<MultiSelectComponent onChange={this.onChange} label={formType[i].label} id={formType[i].key} referenceKey={formType[i]['value_type']['key']} fetchURL={url} dynamic={true} help={formType[i].help} mainType={this.props.type} mainId={this.props.id} />);\n            }\n            break;\n        }\n      }\n    }\n\n    return (\n      <div>\n        {formType ?\n          <div className='custom-metadata-table container'>\n            <div className='row'>\n              {dropdownArr}\n              {datesArr}\n              {inputArr}\n              {textAreaArr}\n              {inputMultiArr}\n              {booleanArr}\n              {multiSelectArr}\n            </div>\n          </div>\n          :\n          null\n        }\n      </div>\n\n    );\n  }\n\n};\n\nclass DropdownComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: null,\n      options: [],\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      let arr = [];\n      let selected = '';\n\n      for (let j = 0; j < this.props.dropdownValues.length; j++) {\n        if (this.props.value == this.props.dropdownValues[j]['value']) {\n          selected = this.props.value;\n        }\n\n        arr.push(<option>{this.props.dropdownValues[j]['value']}</option>);\n      }\n\n      this.setState({ selected: selected, options: arr });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let arr = [];\n        let selected = '';\n        let referenceKey = this.props.referenceKey;\n        if (referenceKey == 'qual_sigbody_id' || referenceKey == 'prod_sigbody_id') {\n          arr.push(<option>0</option>);\n          for (let key in result['version']) {\n            if (result['version'][key]['revision'] == result.data[referenceKey]) {\n              selected = result.data[referenceKey];\n            }\n            arr.push(<option>{result['version'][key]['revision']}</option>);\n          }\n        } else {\n          for (let j = 0; j < result[this.props.referenceKey].length; j++) {\n            if (result[this.props.referenceKey][j].selected == 1) {\n              selected = result[this.props.referenceKey][j].value;\n            }\n\n            arr.push(<option>{result[this.props.referenceKey][j].value}</option>);\n          }\n        }\n\n        this.setState({ selected: selected, options: arr });\n\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ selected: nextProps.value });\n    }\n  }\n\n  onChange = (event) => {\n    this.props.onChange(event);\n    this.setState({ selected: event.target.value });\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <select id={this.props.id} value={this.state.selected} onChange={this.onChange}>\n            {this.state.options}\n          </select>\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n\n    );\n  }\n};\n\nclass InputComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = '';\n        value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  inputOnChange = (event) => {\n    this.setState({ value: event.target.value });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input className='custom-metadata-input-width' id={this.props.id} onBlur={this.props.onBlur} onChange={this.inputOnChange} value={this.state.value} />\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass Calendar extends React.Component {\n  constructor(props) {\n    super(props);\n    let loading = false;\n    if (this.props.dynamic) {\n      loading = true;\n    }\n    this.state = {\n      showCalendar: false,\n      loading: loading,\n      value: '',\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey] * 1000;\n        this.setState({ value: value, loading: false });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  onChange = (event) => {\n    let data_string = 'data.' + this.props.typeLower;\n    let v = event._d.getTime() / 1000;\n    let json = {};\n    json[data_string] = v;\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.type + '/' + this.props.id,\n      data: JSON.stringify(json),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('successfully changed custom table data');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to updated custom table data', data);\n      }.bind(this)\n    });\n\n  }\n\n  showCalendar = () => {\n    if (this.state.showCalendar == false) {\n      this.setState({ showCalendar: true });\n    } else {\n      this.setState({ showCalendar: false });\n    }\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div' style={{ display: 'flex', flexFlow: 'row' }}>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.typeTitle}\n        </span>\n        {!this.state.loading ?\n          <ReactDateTime className='custom-metadata-input-width' value={this.state.value} onChange={this.onChange} />\n          :\n          <span>\n            Loading...\n                    </span>\n        }\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}><div dangerouslySetInnerHTML={{ __html: this.props.help }} bsClass=\"popover helpPopup\" /></Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass TextAreaComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  inputOnChange = (event) => {\n    this.setState({ value: event.target.value });\n  }\n\n  render() {\n\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n        <span>\n          <textarea id={this.props.id} onBlur={this.props.onBlur} onChange={this.inputOnChange} value={this.state.value} className='custom-metadata-textarea-width' />\n        </span>\n      </div>\n    );\n  }\n};\n\nclass InputMultiComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputValue: '',\n      value: [],\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  handleAddition = group => {\n    if (this.state.value !== undefined) {\n      let groupArr = [];\n      let data = this.state.value;\n      for (let i = 0; i < data.length; i++) {\n        if (data[i] != undefined) {\n          if (typeof (data[i]) == 'string') {\n            groupArr.push(data[i]);\n          } else {\n            groupArr.push(data[i].value);\n          }\n        }\n      }\n      groupArr.push(group.target.value);\n\n      let newData = {};\n      let data_string = 'data.' + this.props.id;\n      newData[data_string] = groupArr;\n\n      // newData[this.props.id] = groupArr;\n\n\n      $.ajax({\n        type: 'put',\n        url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n        data: JSON.stringify(newData),\n        contentType: 'application/json; charset=UTF-8',\n        success: function () {\n          console.log('success: group added');\n          this.setState({ inputValue: '', value: newData[this.props.id] });\n        }.bind(this),\n        error: function (data) {\n          this.props.errorToggle('Failed to add group', data);\n        }.bind(this)\n      });\n    }\n  }\n\n  InputChange = event => {\n    this.setState({ inputValue: event.target.value });\n  }\n\n  handleDelete = event => {\n    let data = this.state.value;\n    let clickedThing = event.target.id;\n    let groupArr = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof (data[i]) == 'string') {\n          if (data[i] != clickedThing) {\n            groupArr.push(data[i]);\n          }\n        } else {\n          if (data[i].value != clickedThing) {\n            groupArr.push(data[i].value);\n          }\n        }\n      }\n    }\n\n    let newData = {\n      data: {\n        [this.props.id]: groupArr\n      },\n    };\n\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n      data: JSON.stringify(newData),\n      contentType: 'application/json; charset=UTF-8',\n      success: function (data) {\n        this.setState({ value: newData[this.props.id] });\n        console.log('deleted group success: ' + data);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to delete group', data);\n      }.bind(this)\n    });\n  }\n\n\n  render() {\n    let data = this.state.value;\n    let groupArr = [];\n    let value;\n    if (data !== undefined) {\n      for (let i = 0; i < data.length; i++) {\n        if (typeof (data[i]) == 'string') {\n          value = data[i];\n        } else if (typeof (data[i]) == 'object') {\n          if (data[i] != undefined) {\n            value = data[i].value;\n          }\n        }\n        groupArr.push(<span id=\"event_signature\" className='tagButton'>{value} <i id={value} onClick={this.handleDelete} className=\"fa fa-times tagButtonClose\" /></span>);\n      }\n    }\n\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input className='custom-metadata-input-width' id={this.props.id} onChange={this.InputChange} value={this.state.inputValue} />\n          {this.state.inputValue != '' ? <Button bsSize='xsmall' bsStyle='success' onClick={this.handleAddition} value={this.state.inputValue}>Submit</Button> : <Button bsSize='xsmall' bsType='submit' disabled>Submit</Button>}\n        </span>\n        <span className='custom-metadata-multi-input-tags'>\n          {groupArr}\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass BooleanComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: false\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: this.props.value });\n    }\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let value = result[this.props.referenceKey];\n        this.setState({ value: value });\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps = (nextProps) => {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.setState({ value: nextProps.value });\n    }\n  }\n\n  onChange = e => {\n    let value;\n    if (e.target.value == 'true') {\n      value = 1;\n    } else {\n      value = 0;\n    }\n\n    let obj = {};\n    obj['target'] = {};\n    obj['target']['id'] = this.props.id;\n    obj['target']['value'] = value;\n\n    this.props.onChange(obj);\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <input type='checkbox' className='custom-metadata-input-width' id={this.props.id} name={this.props.id} value={this.state.value} onClick={this.onChange} />\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n\nclass MultiSelectComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      options: []\n    };\n  }\n\n  componentWillMount() {\n    if (this.props.dynamic) {\n      this.getDynamic();\n    } else {\n      this.makeForm();\n    }\n  }\n\n  makeForm = nextProps => {\n    let props = this.props;\n    if (nextProps) { props = nextProps; }\n\n    let arr = [];\n    for (let j = 0; j < props.dropdownValues.length; j++) {\n      if (props.value.includes(props.dropdownValues[j]['value'])) {\n        arr.push(<option selected>{props.dropdownValues[j]['value']}</option>);\n      } else {\n        arr.push(<option>{props.dropdownValues[j]['value']}</option>);\n      }\n    }\n\n    this.setState({ options: arr });\n  }\n\n  getDynamic = () => {\n    $.ajax({\n      type: 'get',\n      url: this.props.fetchURL,\n      success: function (result) {\n        let arr = [];\n        for (let j = 0; j < result[this.props.referenceKey].length; j++) {\n          if (result[this.props.referenceKey][j].selected == 1) {\n            arr.push(<option selected>{result[this.props.referenceKey][j].value}</option>);\n          } else {\n            arr.push(<option>{result[this.props.referenceKey][j].value}</option>);\n          }\n\n        }\n\n        this.setState({ options: arr });\n\n      }.bind(this)\n    });\n  }\n\n  componentWillReceiveProps = nextProps => {\n    if (nextProps.dynamic) {\n      this.getDynamic();\n    } else {\n      this.makeForm(nextProps);\n    }\n  }\n\n\n  onChange = event => {\n    let multiSelectArr = [];\n    for (let i = 0; i < event.target.options.length; i++) {\n      if (event.target.options[i] != undefined) {\n        if (event.target.options[i].selected == true) {\n          multiSelectArr.push(event.target.options[i].value);\n        } else {\n          continue;\n        }\n      }\n    }\n\n    let newData = {};\n    let data_string = 'data.' + this.props.id;\n    newData[data_string] = multiSelectArr;\n\n    $.ajax({\n      type: 'put',\n      url: 'scot/api/v2/' + this.props.mainType + '/' + this.props.mainId,\n      data: JSON.stringify(newData),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        console.log('success: multi select added');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to add multi select', data);\n      }.bind(this)\n    });\n    this.setState({ selected: event.target.value });\n  }\n\n  render() {\n    return (\n      <div className='custom-metadata-table-component-div'>\n        <span className='custom-metadata-tableWidth'>\n          {this.props.label}\n        </span>\n        <span>\n          <FormControl id={this.props.id} componentClass='select' placeholder='select' bsClass='custom-metadata-multi-select-width' multiple onChange={this.onChange} size={this.state.options.length}>\n            {this.state.options}\n          </FormControl>\n        </span>\n        <span>\n          <OverlayTrigger placement='top' overlay={<Tooltip id={this.props.id}> {this.props.help}</Tooltip>}>\n            <i className=\"fa fa-question-circle-o\" aria-hidden=\"true\" style={{ paddingLeft: '5px' }}></i>\n          </OverlayTrigger>\n        </span>\n      </div>\n    );\n  }\n};\n","import React, { useEffect, useState } from \"react\";\nimport AddEntry from \"../components/add_entry.js\";\nimport SelectedEntry from \"./selected_entry\";\nimport Button from \"@material-ui/core/Button\";\n\nfunction AddEntryToAlert({ ...props }) {\n  const [visible, setVisibility] = useState(true);\n\n  function toggleVisibility() {\n    setVisibility(!visible);\n    props.updated();\n  }\n\n  return (\n    <div>\n      {!visible ? (\n        <div style={{ justifyContent: \"center\", padding: 5, display: \"flex\" }}>\n          <br />\n\n          <Button\n            style={{ backgroundColor: \"#5bc0de\", color: \"white\" }}\n            onClick={toggleVisibility}\n            variant=\"contained\"\n          >\n            Add Entry\n          </Button>\n          <br />\n        </div>\n      ) : null}\n      {visible ? (\n        <AddEntry\n          entryAction={\"Add\"}\n          type=\"alert\"\n          targetid={props.row.id}\n          id={\"add_entry\"}\n          addedentry={setVisibility}\n          errorToggle={props.errorToggle}\n          toggleVisibility={toggleVisibility}\n        />\n      ) : null}\n      {props.entryData.length > 0 ? (\n        <SelectedEntry\n          entryData={props.entryData}\n          type=\"alert\"\n          id={props.row.id}\n          showEntryData={props.showEntryData}\n          errorToggle={props.errorToggle}\n          createCallback={props.createCallback}\n          removeCallback={props.removeCallback}\n          entityData={props.entityData}\n          addFlair={props.addFlair}\n        />\n      ) : null}\n    </div>\n  );\n}\nexport default AddEntryToAlert;\n","import React from \"react\";\nimport $ from \"jquery\";\nimport EntityDetail from \"../modal/entity_detail\";\nimport ReactTime from \"react-time\";\nimport SplitButton from \"react-bootstrap/lib/SplitButton.js\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem.js\";\nimport Button from \"react-bootstrap/lib/Button.js\";\nimport AddEntry from \"../components/add_entry.js\";\nimport FileUpload from \"../components/file_upload.js\";\nimport { DeleteEntry } from \"../modal/delete\";\nimport Summary from \"../components/summary\";\nimport Task from \"../components/task\";\nimport SelectedPermission from \"../components/permission.js\";\nimport Frame from \"react-frame-component\";\nimport LinkWarning from \"../modal/link_warning\";\nimport { Link } from \"react-router-dom\";\nimport SignatureTable from \"../components/signature_table\";\nimport TrafficLightProtocol from \"../components/traffic_light_protocol\";\nimport Marker from \"../components/marker\";\nimport EntityCreateModal from \"../modal/entity_create\";\nimport CustomMetaDataTable from \"../components/custom_metadata_table\";\nimport ReactTable from \"react-table\";\nimport { get_data, put_data, post_data } from \"../utils/XHR\";\nimport AlertSubComponent from \"./alert_subcomponent\";\nimport {\n  buildTypeColumns,\n  customCellRenderers,\n  getColumnWidth\n} from \"../list/tableConfig\";\nimport Button2 from \"@material-ui/core/Button\";\n\nexport default class SelectedEntry extends React.Component {\n  constructor(props) {\n    super(props);\n    let entityDetailKey = Math.floor(Math.random() * 1000);\n    this.state = {\n      showEntryData: this.props.showEntryData,\n      showEntityData: this.props.showEntityData,\n      entryData: this.props.entryData,\n      entityData: this.props.entityData,\n      entityid: null,\n      entitytype: null,\n      entityoffset: null,\n      entityobj: null,\n      key: this.props.id,\n      flairToolbar: false,\n      notificationType: null,\n      notificationMessage: \"\",\n      height: null,\n      entityDetailKey: entityDetailKey,\n      isMounted: false\n    };\n  }\n\n  componentDidMount() {\n    this.getEntryData();\n    this.getEntityData();\n    this.props.createCallback(this.props.id, this.updatedCB);\n    this.containerHeightAdjust();\n\n    window.addEventListener(\"resize\", this.containerHeightAdjust);\n    let table = document.querySelector(\".ReactTable\");\n    table.onresize = function() {\n      this.containerHeightAdjust();\n    }.bind(this);\n  }\n\n  componentWillReceiveProps() {\n    this.containerHeightAdjust();\n  }\n\n  componentDidUpdate() {\n    if (this.state.runWatcher == true) {\n      this.Watcher();\n    }\n  }\n\n  componentWillUnmount() {\n    this.setState({ isMounted: false });\n  }\n\n  getEntryData = () => {\n    const { type, id } = this.props;\n    this.setState({ isMounted: true });\n    if (type === \"alert\" || type === \"entity\" || this.props.isPopUp === 1) {\n      let entry_url = `scot/api/v2/${type}/${id}/entry`;\n      let entry_response = get_data(entry_url, null);\n      entry_response\n        .then(\n          function(response) {\n            if (this.state.isMounted) {\n              this.setState({\n                showEntryData: true,\n                entryData: response.data.records\n              });\n              response.data.records.forEach(\n                function(element, i) {\n                  this.props.createCallback(\n                    response.data.records[i].id,\n                    this.updatedCB\n                  );\n                }.bind(this)\n              );\n              this.Watcher();\n            }\n          }.bind(this)\n        )\n        .catch(\n          function(error) {\n            if (this.state.isMounted) {\n              this.setState({ showEntryData: true });\n              this.props.errorToggle(\"Failed to load entry data.\", error);\n            }\n          }.bind(this)\n        );\n    }\n  };\n\n  getEntityData = () => {\n    const { addFlair, type, id } = this.props;\n    if (\n      type === \"alert\" ||\n      type === \"entity\" ||\n      type === \"incident\" ||\n      this.props.isPopUp === 1\n    ) {\n      const entity_url = `scot/api/v2/${type}/${id}/entity`;\n      let entity_response = get_data(entity_url, null);\n      entity_response\n        .then(\n          function(response) {\n            let entityResult = response.data.records;\n            if (this.state.isMounted) {\n              this.setState({ showEntityData: true, entityData: entityResult });\n              let waitForEntry = {\n                waitEntry: function() {\n                  if (this.state.showEntryData === false) {\n                    setTimeout(waitForEntry.waitEntry, 50);\n                  } else {\n                    setTimeout(\n                      function() {\n                        addFlair(entityResult, null, type, null, id);\n                      }.bind(this)\n                    );\n                  }\n                }.bind(this)\n              };\n              waitForEntry.waitEntry();\n            }\n          }.bind(this)\n        )\n        .catch(\n          function(data) {\n            if (this.state.isMounted) {\n              this.setState({ showEntityData: true });\n              this.props.errorToggle(\"Failed to load entity data.\", data);\n            }\n          }.bind(this)\n        );\n    }\n  };\n\n  updatedCB = () => {\n    this.getEntityData();\n    this.getEntryData();\n  };\n\n  flairToolbarToggle = (id, value, type, entityoffset, entityobj) => {\n    if (this.state.isMounted) {\n      this.setState({\n        flairToolbar: true,\n        entityid: id,\n        entityvalue: value,\n        entitytype: type,\n        entityoffset: entityoffset,\n        entityobj: entityobj\n      });\n    }\n  };\n\n  flairToolbarOff = () => {\n    if (this.state.isMounted) {\n      let newEntityDetailKey = this.state.entityDetailKey + 1;\n      this.setState({\n        flairToolbar: false,\n        entityDetailKey: newEntityDetailKey\n      });\n    }\n  };\n\n  linkWarningToggle = href => {\n    if (this.state.isMounted) {\n      if (this.state.linkWarningToolbar === false) {\n        this.setState({ linkWarningToolbar: true, link: href });\n      } else {\n        this.setState({ linkWarningToolbar: false });\n      }\n    }\n  };\n\n  Watcher = () => {\n    let containerid = this.props.type + \"-detail-container\";\n    if (this.props.type != \"alertgroup\") {\n      let selector = `iframe`;\n      let iframes = document.querySelectorAll(selector);\n      iframes.forEach(\n        function(ifr, index) {\n          ifr.contentWindow.requestAnimationFrame(\n            function() {\n              if (ifr.contentDocument != null) {\n                let arr = [];\n                arr.push(this.checkFlairHover);\n                ifr.addEventListener(\"mouseenter\", function(v, type) {\n                  let intervalID = setInterval(this[0], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                  console.log(\"Now watching iframe \" + intervalID);\n                });\n\n                ifr.addEventListener(\"mouseleave\", function() {\n                  let intervalID = $(ifr).data(\"intervalID\");\n                  window.clearInterval(intervalID);\n                  console.log(\"No longer watching iframe \" + intervalID);\n                });\n              }\n            }.bind(this)\n          );\n        }.bind(this)\n      );\n    } else {\n      $(containerid)\n        .find(\"a, .entity\")\n        .not(\".not_selectable\")\n        .each(\n          function(index, tr) {\n            $(tr).off(\"mousedown\");\n            $(tr).on(\n              \"mousedown\",\n              function(index) {\n                let thing = index.target;\n                if ($(thing)[0].className == \"extras\") {\n                  thing = $(thing)[0].parentNode;\n                } //if an extra is clicked reference the parent element\n                if ($(thing).attr(\"url\")) {\n                  //link clicked\n                  let url = $(thing).attr(\"url\");\n                  this.linkWarningToggle(url);\n                } else {\n                  //entity clicked\n                  let entityid = $(thing).attr(\"data-entity-id\");\n                  let entityvalue = $(thing).attr(\"data-entity-value\");\n                  let entityoffset = $(thing).offset();\n                  let entityobj = $(thing);\n                  this.flairToolbarToggle(\n                    entityid,\n                    entityvalue,\n                    \"entity\",\n                    entityoffset,\n                    entityobj\n                  );\n                }\n              }.bind(this)\n            );\n          }.bind(this)\n        );\n    }\n  };\n\n  checkFlairHover = ifr => {\n    function returnifr() {\n      return ifr;\n    }\n    if (this.props.type != \"alertgroup\") {\n      if (ifr.contentDocument != null) {\n        $(ifr)\n          .contents()\n          .find(\".entity\")\n          .each(\n            function(index, entity) {\n              if ($(entity).css(\"background-color\") == \"rgb(255, 0, 0)\") {\n                $(entity).data(\"state\", \"down\");\n              } else if ($(entity).data(\"state\") == \"down\") {\n                $(entity).data(\"state\", \"up\");\n                let entityid = $(entity).attr(\"data-entity-id\");\n                let entityvalue = $(entity).attr(\"data-entity-value\");\n                let entityobj = $(entity);\n                let ifr = returnifr();\n                let entityoffset = {\n                  top: $(entity).offset().top + $(ifr).offset().top,\n                  left: $(entity).offset().left + $(ifr).offset().left\n                };\n                this.flairToolbarToggle(\n                  entityid,\n                  entityvalue,\n                  \"entity\",\n                  entityoffset,\n                  entityobj\n                );\n              }\n            }.bind(this)\n          );\n      }\n      if (ifr.contentDocument != null) {\n        $(ifr)\n          .contents()\n          .find(\"a\")\n          .each(\n            function(index, a) {\n              if ($(a).css(\"color\") == \"rgb(255, 0, 0)\") {\n                $(a).data(\"state\", \"down\");\n              } else if ($(a).data(\"state\") == \"down\") {\n                $(a).data(\"state\", \"up\");\n                let url = $(a).attr(\"url\");\n                this.linkWarningToggle(url);\n              }\n            }.bind(this)\n          );\n      }\n    }\n  };\n\n  containerHeightAdjust = () => {\n    //Using setTimeout so full screen toggle animation has time to finish before resizing detail section\n    setTimeout(\n      function() {\n        let scrollHeight;\n        let ListViewTableHeight = document.getElementsByClassName(\n          \"ReactTable\"\n        )[0].clientHeight;\n        if (ListViewTableHeight !== undefined) {\n          if (ListViewTableHeight !== 0) {\n            scrollHeight =\n              $(window).height() -\n              ListViewTableHeight -\n              $(\"#header\").height() -\n              78;\n            scrollHeight = scrollHeight + \"px\";\n          } else {\n            scrollHeight = $(window).height() - $(\"#header\").height() - 78;\n            scrollHeight = scrollHeight + \"px\";\n          }\n          //$('#detail-container').css('height',scrollHeight);\n          if (this.state.isMounted) {\n            this.setState({ height: scrollHeight });\n          }\n        }\n      }.bind(this),\n      500\n    );\n  };\n\n  render = () => {\n    let divid = \"detail-container\";\n    let height = this.state.height;\n    let data = this.props.entryData;\n    let type = this.props.type;\n    let id = this.props.id;\n    let showEntryData = this.props.showEntryData;\n    let divClass = \"row-fluid entry-wrapper entry-wrapper-main\";\n    if (type === \"alert\") {\n      //divClass = 'row-fluid entry-wrapper entry-wrapper-main-300'\n      divClass = \"row-fluid entry-wrapper entry-wrapper-main-nh\";\n      data = this.state.entryData;\n      showEntryData = this.state.showEntryData;\n    } else if (type === \"alertgroup\") {\n      divClass = \"row-fluid alert-wrapper entry-wrapper-main\";\n    } else if (type === \"entity\" || this.props.isPopUp === 1) {\n      divClass = \"row-fluid entry-wrapper-entity\";\n      data = this.state.entryData;\n      showEntryData = this.state.showEntryData;\n    }\n    //lazy loading flair - this needs to be done here because it is not initialized when this function is called by itself (alerts and entities)\n    if (type === \"alert\" || this.props.isPopUp === 1) {\n      divid = this.props.type + \"-detail-container\";\n      height = null;\n    }\n    return (\n      <div id={divid} key={id} className={divClass} style={{ height: height }}>\n        {type !== \"entity\" && type !== \"alert\" ? (\n          <CustomMetaDataTable\n            type={type}\n            id={id}\n            errorToggle={this.props.errorToggle}\n            form={this.props.form}\n            headerData={this.props.headerData}\n          />\n        ) : null}\n        {/*{(type == 'incident' && this.props.headerData != null) ? <IncidentTable type={type} id={id} headerData={this.props.headerData} errorToggle={this.props.errorToggle}/> : null}*/}\n        {type === \"signature\" && this.props.headerData !== null ? (\n          <SignatureTable\n            type={type}\n            id={id}\n            headerData={this.props.headerData}\n            errorToggle={this.props.errorToggle}\n            showSignatureOptions={this.props.showSignatureOptions}\n          />\n        ) : null}\n        {showEntryData ? (\n          <EntryIterator\n            updated={this.updatedCB}\n            removeCallback={this.props.removeCallback}\n            createCallback={this.props.createCallback}\n            data={data}\n            type={type}\n            id={id}\n            entityData={this.state.entityData}\n            entryToggle={this.props.entryToggle}\n            subcomponent={this.props.subcomponent}\n            setAlertColumns={this.props.setAlertColumns}\n            {...this.props}\n          />\n        ) : (\n          <span>Loading...</span>\n        )}\n        {this.props.entryToolbar ? (\n          <div>\n            <AddEntry\n              entryAction={\"Add\"}\n              type={this.props.type}\n              targetid={this.props.id}\n              id={null}\n              addedentry={this.props.entryToggle}\n              updated={this.updatedCB}\n              errorToggle={this.props.errorToggle}\n            />\n          </div>\n        ) : null}\n        {this.props.fileUploadToolbar ? (\n          <div>\n            <FileUpload\n              type={this.props.type}\n              targetid={this.props.id}\n              id={\"file_upload\"}\n              fileUploadToggle={this.props.fileUploadToggle}\n              updated={this.updatedCB}\n              errorToggle={this.props.errorToggle}\n            />\n          </div>\n        ) : null}\n        {this.state.flairToolbar ? (\n          <EntityDetail\n            key={this.state.entityDetailKey}\n            flairToolbarToggle={this.flairToolbarToggle}\n            flairToolbarOff={this.flairToolbarOff}\n            entityid={this.state.entityid}\n            entityvalue={this.state.entityvalue}\n            entitytype={this.state.entitytype}\n            type={this.props.type}\n            id={this.props.id}\n            entityoffset={this.state.entityoffset}\n            entityobj={this.state.entityobj}\n            linkWarningToggle={this.linkWarningToggle}\n            errorToggle={this.props.errorToggle}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        ) : null}\n        {this.state.linkWarningToolbar ? (\n          <LinkWarning\n            linkWarningToggle={this.linkWarningToggle}\n            link={this.state.link}\n          />\n        ) : null}\n      </div>\n    );\n  };\n}\n\nclass EntryIterator extends React.Component {\n  render = () => {\n    let rows = [];\n    let data = this.props.data;\n    let type = this.props.type;\n    let items = this.props.items;\n    let linkToSearch = [];\n    let id = this.props.id;\n    let entityData = this.props.entityData;\n    let search = null;\n    if (this.props.items !== undefined) {\n      if (\n        this.props.items[0].data_with_flair !== undefined &&\n        !this.props.flairOff\n      ) {\n        search = items[0].data_with_flair.search;\n      } else {\n        search = items[0].data.search;\n      }\n      for (let y = 0; y < this.props.headerData.ahrefs.length; y++) {\n        linkToSearch.push(\n          <a href={this.props.headerData.ahrefs[y].link}>\n            {this.props.headerData.ahrefs[y].subject}\n          </a>\n        );\n        linkToSearch.push(<br />);\n      }\n    }\n\n    if (data === undefined || data[0] === undefined) {\n      if (type !== \"alertgroup\") {\n        return (\n          <div>\n            <div style={{ color: \"blue\" }}>\n              No entries found. Click the green Add Entry button if you would\n              like to create one\n            </div>\n          </div>\n        );\n      } else {\n        return (\n          <div>\n            <div style={{ color: \"blue\" }}>\n              No alerts found or they are unable to be rendered. Please check\n              the source and correct the formatting of the alert if necessary\n            </div>\n          </div>\n        );\n      }\n    } else {\n      if (type !== \"alertgroup\") {\n        let key = 0;\n        data.forEach(\n          function(data) {\n            rows.push(\n              <EntryParent\n                subcomponent={this.props.subcomponent}\n                key={key}\n                items={data}\n                type={type}\n                id={id}\n                isPopUp={this.props.isPopUp}\n                errorToggle={this.props.errorToggle}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n                entityData={entityData}\n                entryToggle={this.props.entryToggle}\n              />\n            );\n            key = key + 1;\n          }.bind(this)\n        );\n        return <div>{rows}</div>;\n      } else {\n        return (\n          <div>\n            <NewAlertTable\n              subcomponent={this.props.subcomponent}\n              {...this.props}\n              key={id}\n              type={type}\n              id={id}\n              items={data}\n              entityData={entityData}\n              entryToggle={this.props.entryToggle}\n              createCallback={this.props.createCallback}\n              removeCallback={this.props.removeCallback}\n              addFlair={this.props.addFlair}\n              setAlertColumns={this.props.setAlertColumns}\n              updated={this.props.updated}\n            />\n          </div>\n        );\n      }\n    }\n  };\n}\n\nclass NewAlertTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      columns: [],\n      data: [],\n      entityData: [],\n      type: \"\",\n      addFlair: null,\n      promotionId: null,\n      selected: [],\n      flairOff: false,\n      expanded: {}\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.items.length > 0) {\n      const data = this.createData();\n      const columns = buildTypeColumns(\"alert\", data, this.props.items, true);\n      this.setState({ data, columns });\n    }\n    if (this.props.type) {\n      this.setState({\n        type: this.props.type,\n        entityData: this.props.entityData\n      });\n    }\n    if (this.props.addFlair) {\n      this.setState({ addFlair: this.props.addFlair });\n    }\n\n    //handle alertselection from SelectedHeader\n    if (this.props.alertsSelected) {\n      this.setState({ selected: this.props.alertsSelected });\n    }\n\n    $(\"#main-detail-container\").keydown(\n      function(event) {\n        //prevent from working when in input\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        //check for ctrl + a with keyCode\n        if (\n          event.keyCode === 65 &&\n          (event.ctrlKey === true || event.metaKey === true)\n        ) {\n          this.handleSelectAll();\n          event.preventDefault();\n        }\n      }.bind(this)\n    );\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.entityData !== this.props.entityData) {\n      this.setState({ entityData: this.props.entityData });\n    }\n    if (prevState.flairOff !== this.state.flairOff) {\n      let data = this.createData();\n      this.setState({ data });\n    }\n    if (prevProps.items !== this.props.items) {\n      let data = this.createData();\n      this.setState({ data });\n    }\n\n    if (\n      this.props.alertsSelected !== prevState.selected &&\n      this.props.alertsSelected !== undefined\n    ) {\n      this.setState({ selected: this.props.alertsSelected });\n    }\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.flairOff !== prevState.flairOff) {\n      return { flairOff: nextProps.flairOff };\n    }\n    if (nextProps.alertsSelected !== prevState.selected) {\n      return { selected: nextProps.alertsSelected };\n    } else return null;\n  }\n\n  createData = () => {\n    const dataarray = [];\n    this.props.items.forEach(\n      function(element) {\n        let dataitem = {};\n        if (!this.state.flairOff) {\n          dataitem = element.data_with_flair;\n        } else {\n          dataitem = element.data;\n        }\n        dataitem[\"id\"] = element.id;\n        dataitem[\"status\"] = element.status;\n        dataitem[\"entry_count\"] = element.entry_count;\n        dataarray.push(dataitem);\n      }.bind(this)\n    );\n    return dataarray;\n  };\n\n  render() {\n    const { data, columns } = this.state;\n    const { addFlair, type, headerData, entityData, updated } = this.props;\n\n    return (\n      <div>\n        <ReactTable\n          styleName=\"styles.ReactTable\"\n          ref={r => (this.reactTable = r)}\n          key={2}\n          data={data}\n          columns={columns}\n          filterable={true}\n          expanded={this.state.expanded}\n          onExpandedChange={(expanded, index, event) => {\n            this.setState({ expanded });\n            addFlair(entityData, null, \"entry\", null, null);\n          }}\n          defaultFilterMethod={(filter, row) => {\n            if (row[filter.id].includes(filter.value)) {\n              return row;\n            }\n          }}\n          SubComponent={({ row }) => {\n            return (\n              <AlertSubComponent\n                flag={this.props.subcomponent}\n                row={row}\n                entryToggle={this.props.entryToggle}\n                errorToggle={this.props.errorToggle}\n                entryData={this.props.entryData}\n                showEntryData={this.props.showEntryData}\n                errorToggle={this.props.errorToggle}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n                entityData={this.props.entityData}\n                addFlair={this.props.addFlair}\n                updated={this.props.updated}\n              />\n            );\n          }}\n          onFilteredChange={(filter, column) => {\n            addFlair(entityData, null, type, null, null);\n          }}\n          onSortedChange={(newSorted, column, shiftKey) => {\n            addFlair(entityData, null, type, null, null);\n          }}\n          showPagination={false}\n          pageSize={data.length}\n          getTrProps={(state, rowInfo) => {\n            if (\n              rowInfo &&\n              rowInfo.row &&\n              this.props.alertsSelected !== undefined\n            ) {\n              return {\n                onClick: e => {\n                  if (e.ctrlKey || (e.metaKey && e.keyCode === 83)) {\n                    this.props.handleSelectAll(state.sortedData);\n                  }\n                  if (e.ctrlKey || e.metaKey) {\n                    e.preventDefault();\n                    this.props.handleMultiSelection(rowInfo.original);\n                  } else if (e.shiftKey) {\n                    document.getSelection().removeAllRanges();\n                    this.props.handleShiftSelect(\n                      this.state.selected[0].id,\n                      rowInfo.original.id,\n                      state.sortedData\n                    );\n                  } else {\n                    this.props.handleSelection(rowInfo.original);\n                  }\n                },\n                style: {\n                  background: this.state.selected.some(\n                    item => rowInfo.original.id === item.id\n                  )\n                    ? \"#a7c6a5\"\n                    : \"\",\n                  borderBottom: \"1px solid black\",\n                  maxHeight: 200,\n                  overflowY: \"auto\"\n                }\n              };\n            } else {\n              return { style: { maxHeight: 200, overflowY: \"auto\" } };\n            }\n          }}\n        />\n        <AlertTableSearchDiv\n          items={this.props.items}\n          flairOff={this.props.flairOff}\n          headerData={this.props.headerData}\n        />\n      </div>\n    );\n  }\n}\n\n//div underneath alert table\nclass AlertTableSearchDiv extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let search = null;\n    const { items } = this.props;\n    if (items[0].data_with_flair !== undefined && !this.props.flairOff) {\n      search = items[0].data_with_flair.search;\n    } else {\n      search = items[0].data.search;\n    }\n\n    let linkToSearch = this.props.headerData.ahrefs.map((item, index) => (\n      <div key={index}>\n        <a href={this.props.headerData.ahrefs[index].link}>\n          {this.props.headerData.ahrefs[index].subject}\n        </a>\n        <br />\n      </div>\n    ));\n\n    return (\n      <div>\n        {search !== undefined ? (\n          <div\n            className=\"alertTableHorizontal\"\n            style={{\n              outline: \"1px solid black\",\n              borderRadius: 5,\n              padding: 3,\n              margin: \"10px 0 15px\"\n            }}\n          >\n            {linkToSearch}\n            <div dangerouslySetInnerHTML={{ __html: search }} />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nclass EntryParent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editEntryToolbar: false,\n      replyEntryToolbar: false,\n      deleteToolbar: false,\n      permissionsToolbar: false,\n      fileUploadToolbar: false,\n      showEntityCreateModal: false,\n      highlightedText: null,\n      items: {}\n    };\n  }\n\n  // componentWillUnmount() {\n  //   this.props.removeCallback(this.props.items.id);\n  // }\n\n  componentDidMount = () => {\n    this.props.createCallback(this.props.items.id, this.refreshButton);\n  };\n\n  //TODO modify manual entry refresh to be done on automatically based on STOMP single entry update. This works for now.\n  refreshButton = () => {\n    if ($(\"#refresh-detail\")) {\n      $(\"#refresh-detail\").click();\n    }\n  };\n\n  editEntryToggle = () => {\n    if (this.state.editEntryToolbar === false) {\n      this.setState({ editEntryToolbar: true });\n    } else {\n      this.setState({ editEntryToolbar: false });\n    }\n  };\n\n  replyEntryToggle = () => {\n    if (this.state.replyEntryToolbar === false) {\n      this.setState({ replyEntryToolbar: true });\n    } else {\n      this.setState({ replyEntryToolbar: false });\n    }\n  };\n\n  deleteToggle = () => {\n    if (this.state.deleteToolbar === false) {\n      this.setState({ deleteToolbar: true });\n    } else {\n      this.setState({ deleteToolbar: false });\n    }\n  };\n\n  permissionsToggle = () => {\n    if (this.state.permissionsToolbar === false) {\n      this.setState({ permissionsToolbar: true });\n    } else {\n      this.setState({ permissionsToolbar: false });\n    }\n  };\n\n  reparseFlair = () => {\n    let reparse_flair_endpoint = `/scot/api/v2/entry/${this.props.items.id}`;\n    let put_response = put_data(reparse_flair_endpoint);\n    put_response\n      .then(function(data) {\n        console.log(\"reparsing started\");\n      })\n      .catch(\n        function(data) {\n          this.props.errorToggle(\"failed to start reparsing of data\", data);\n        }.bind(this)\n      );\n  };\n\n  fileUploadToggle = () => {\n    if (this.state.fileUploadToolbar === false) {\n      this.setState({ fileUploadToolbar: true });\n    } else {\n      this.setState({ fileUploadToolbar: false });\n    }\n  };\n\n  render = () => {\n    let itemarr = [];\n    let subitemarr = [];\n    let items = this.props.items;\n    let type = this.props.type;\n    let id = this.props.id;\n    let isPopUp = this.props.isPopUp;\n    let itemsClass = this.props.items.class;\n    let summary = 0; //define Summary as false unless itemsClass is \"summary\"\n    let editEntryToolbar = this.state.editEntryToolbar;\n    let editEntryToggle = this.editEntryToggle;\n    let errorToggle = this.props.errorToggle;\n    let outerClassName = \"row-fluid entry-outer\";\n    let innerClassName = \"row-fluid entry-header\";\n    let taskOwner = \"\";\n    if (itemsClass === \"summary\") {\n      outerClassName += \" summary_entry\";\n      summary = 1;\n    }\n    if (itemsClass === \"task\") {\n      if (\n        items.metadata.task.status === \"open\" ||\n        items.metadata.task.status === \"assigned\"\n      ) {\n        taskOwner = \"-- Task Owner \" + items.metadata.task.who + \" \";\n        outerClassName += \" todo_open_outer\";\n        innerClassName += \" todo_open\";\n      } else if (\n        (items.metadata.task.status === \"closed\" ||\n          items.metadata.task.status === \"completed\") &&\n        items.metadata.task.who != null\n      ) {\n        taskOwner = \"-- Task Owner \" + items.metadata.task.who + \" \";\n        outerClassName += \" todo_completed_outer\";\n        innerClassName += \" todo_completed\";\n      } else if (\n        items.metadata.task.status === \"closed\" ||\n        items.metadata.task.status === \"completed\"\n      ) {\n        outerClassName += \" todo_undefined_outer\";\n        innerClassName += \" todo_undefined\";\n      }\n    }\n    if (itemsClass === \"alert\") {\n      outerClassName += \" event_entry_container_alert\";\n    }\n    itemarr.push(\n      <EntryData\n        id={items.id}\n        key={items.id}\n        subitem={items}\n        type={type}\n        targetid={id}\n        editEntryToolbar={editEntryToolbar}\n        editEntryToggle={editEntryToggle}\n        isPopUp={isPopUp}\n        errorToggle={this.props.errorToggle}\n      />\n    );\n    for (let prop in items) {\n      let childfunc = prop => {\n        if (prop === \"children\") {\n          let childobj = items[prop];\n          items[prop].forEach(\n            function(childobj) {\n              subitemarr.push(\n                new Array(\n                  (\n                    <EntryParent\n                      items={childobj}\n                      id={id}\n                      type={type}\n                      editEntryToolbar={editEntryToolbar}\n                      editEntryToggle={editEntryToggle}\n                      isPopUp={isPopUp}\n                      errorToggle={errorToggle}\n                      createCallback={this.props.createCallback}\n                      removeCallback={this.props.removeCallback}\n                    />\n                  )\n                )\n              );\n            }.bind(this)\n          );\n        }\n      };\n      childfunc(prop);\n    }\n    itemarr.push(subitemarr);\n\n    let entryActions = [];\n    if (this.props.items) {\n      if (this.props.items.actions) {\n        for (let i = 0; i < this.props.items.actions.length; i++) {\n          if (\n            this.props.items.actions[i].send_to_name &&\n            this.props.items.actions[i].send_to_url\n          ) {\n            entryActions.push(\n              <EntryAction\n                id={this.props.items.actions[i].send_to_name}\n                datahref={this.props.items.actions[i].send_to_url}\n                errorToggle={this.props.errorToggle}\n              />\n            );\n          }\n        }\n      }\n    }\n\n    let header1 = \"[\" + items.id + \"] \";\n    let header2 = \" by \" + items.owner + \" \" + taskOwner + \"(updated on \";\n    let header3 = \")\";\n    let createdTime = items.created;\n    let updatedTime = items.updated;\n    let entryHeaderInnerId =\n      \"entry-header-inner-\" + this.props.id + \" entry-header-inner\";\n    let tlpBorder;\n    let tlpColorCSS;\n    if (items.tlp !== \"unset\") {\n      if (items.tlp !== \"amber\") {\n        tlpColorCSS = items.tlp;\n      } else {\n        tlpColorCSS = \"orange\";\n      }\n      tlpBorder = \"3px solid \" + tlpColorCSS;\n    }\n    return (\n      <div>\n        {this.state.showEntityCreateModal ? (\n          <EntityCreateModal\n            match={this.state.highlightedText}\n            modalActive={this.state.showEntityCreateModal}\n            ToggleCreateEntity={this.ToggleCreateEntity}\n            errorToggle={this.props.errorToggle}\n            createCallback={this.props.createCallback}\n            removeCallback={this.props.removeCallback}\n          />\n        ) : null}\n        <div\n          className={outerClassName}\n          style={{\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            width: \"99.3%\",\n            border: tlpBorder\n          }}\n        >\n          <span\n            className=\"anchor\"\n            id={\"/\" + type + \"/\" + id + \"/\" + items.id}\n          />\n          <div className={innerClassName}>\n            <div id={entryHeaderInnerId} className={entryHeaderInnerId}>\n              [\n              <Link\n                style={{ color: \"black\" }}\n                to={\"/\" + type + \"/\" + id + \"/\" + items.id}\n              >\n                {items.id}\n              </Link>\n              ]{\" \"}\n              <ReactTime\n                value={items.created * 1000}\n                format=\"MM/DD/YYYY hh:mm:ss a\"\n              />{\" \"}\n              by {items.owner} {taskOwner}\n              (updated on{\" \"}\n              <ReactTime\n                value={items.updated * 1000}\n                format=\"MM/DD/YYYY hh:mm:ss a\"\n              />\n              )\n              {this.state.highlightedText !== \"\" &&\n              this.state.highlightedText != null ? (\n                <Button\n                  bsSize=\"xsmall\"\n                  bsStyle=\"success\"\n                  onClick={this.ToggleCreateEntity}\n                >\n                  Create Entity\n                </Button>\n              ) : null}\n              {this.props.items.body_flair !== \"\" &&\n              this.props.items.parsed === 0 ? (\n                <span style={{ color: \"green\", fontWeight: \"bold\" }}>\n                  {\" \"}\n                  Entry awaiting flair engine. Content may be inaccurate.\n                </span>\n              ) : null}\n              <span\n                className=\"pull-right\"\n                style={{ display: \"inline-flex\", paddingRight: \"3px\" }}\n              >\n                {this.state.permissionsToolbar ? (\n                  <SelectedPermission\n                    updateid={id}\n                    id={items.id}\n                    type={\"entry\"}\n                    permissionData={items}\n                    permissionsToggle={this.permissionsToggle}\n                  />\n                ) : null}\n                {items.tlp !== \"unset\" && items.tlp !== undefined ? (\n                  <span>\n                    TLP:{\" \"}\n                    <span style={{ color: tlpColorCSS }}>{items.tlp} </span>\n                  </span>\n                ) : null}\n                <SplitButton\n                  bsSize=\"xsmall\"\n                  title=\"Reply\"\n                  key={items.id}\n                  id={\"Reply \" + items.id}\n                  onClick={this.replyEntryToggle}\n                  pullRight\n                >\n                  {type !== \"entity\" ? (\n                    <MenuItem eventKey=\"1\" onClick={this.fileUploadToggle}>\n                      Upload File\n                    </MenuItem>\n                  ) : null}\n                  {entryActions}\n                  <MenuItem eventKey=\"3\">\n                    <Summary\n                      type={type}\n                      id={id}\n                      entryid={items.id}\n                      summary={summary}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  </MenuItem>\n                  <MenuItem eventKey=\"4\">\n                    <Task\n                      type={type}\n                      id={id}\n                      entryid={items.id}\n                      taskData={items}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  </MenuItem>\n                  <Marker\n                    type={\"entry\"}\n                    id={items.id}\n                    string={items.body_plain}\n                  />\n                  <MenuItem onClick={this.permissionsToggle}>\n                    Permissions\n                  </MenuItem>\n                  <MenuItem onClick={this.reparseFlair}>Reparse Flair</MenuItem>\n                  <TrafficLightProtocol\n                    type={\"entry\"}\n                    id={items.id}\n                    tlp={items.tlp}\n                    errorToggle={this.props.errorToggle}\n                  />\n                  <MenuItem divider />\n                  <MenuItem eventKey=\"2\" onClick={this.deleteToggle}>\n                    Delete\n                  </MenuItem>\n                </SplitButton>\n                <Button bsSize=\"xsmall\" onClick={this.editEntryToggle}>\n                  Edit\n                </Button>\n              </span>\n            </div>\n          </div>\n          {itemarr}\n          {this.state.replyEntryToolbar ? (\n            <AddEntry\n              entryAction={\"Reply\"}\n              type={type}\n              header1={header1}\n              header2={header2}\n              header3={header3}\n              createdTime={createdTime}\n              updatedTime={updatedTime}\n              targetid={id}\n              id={items.id}\n              addedentry={this.replyEntryToggle}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {this.state.fileUploadToolbar ? (\n            <FileUpload\n              type={this.props.type}\n              targetid={this.props.id}\n              entryid={this.props.items.id}\n              fileUploadToggle={this.fileUploadToggle}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n        </div>\n        {this.state.deleteToolbar ? (\n          <DeleteEntry\n            type={type}\n            id={id}\n            deleteToggle={this.deleteToggle}\n            entryid={items.id}\n            errorToggle={this.props.errorToggle}\n          />\n        ) : null}\n      </div>\n    );\n  };\n\n  componentWillReceiveProps = () => {\n    this.checkHighlight();\n  };\n\n  checkHighlight = () => {\n    let content;\n    let iframe = document.getElementById(\"iframe_\" + this.props.items.id);\n    if (iframe) {\n      if (iframe.contentWindow.getSelection() !== null) {\n        content = iframe.contentWindow.getSelection().toString();\n        if (this.state.highlightedText !== content) {\n          console.log(iframe + \" has highlighted text: \" + content);\n          this.setState({ highlightedText: content });\n        } else {\n          return;\n        }\n      } else {\n        return;\n      }\n    }\n  };\n\n  ToggleCreateEntity = () => {\n    this.setState({ showEntityCreateModal: !this.state.showEntityCreateModal });\n  };\n}\n\nclass EntryAction extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      [this.props.id]: false,\n      disabled: false\n    };\n  }\n\n  submit = () => {\n    let url = this.props.datahref;\n    let id = this.props.id;\n\n    let post_response = post_data(url, null);\n    post_response\n      .then(\n        function(data) {\n          this.setState({ [id]: true, disabled: false });\n        }.bind(this)\n      )\n      .catch(\n        function(data) {\n          this.props.errorToggle(\"failed to submit the entry action\", data);\n          this.setState({ disabled: false });\n        }.bind(this)\n      );\n  };\n\n  render = () => {\n    return (\n      <MenuItem disabled={this.state.disabled}>\n        <span\n          id={this.props.id}\n          data-href={this.props.datahref}\n          onClick={this.submit}\n          style={{ display: \"block\" }}\n        >\n          {this.props.id}{\" \"}\n          {this.state[this.props.id] ? (\n            <span style={{ color: \"green\" }}>success</span>\n          ) : null}\n        </span>\n      </MenuItem>\n    );\n  };\n}\n\nclass EntryData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      height: \"1px\"\n    };\n  }\n\n  componentWillReceiveProps() {\n    this.setHeight();\n  }\n\n  componentDidMount() {\n    this.setHeight();\n  }\n  setHeight = () => {\n    setTimeout(\n      function() {\n        if (document.getElementById(\"iframe_\" + this.props.id) != undefined) {\n          document\n            .getElementById(\"iframe_\" + this.props.id)\n            .contentWindow.requestAnimationFrame(\n              function() {\n                let newheight;\n                newheight = document.getElementById(\"iframe_\" + this.props.id)\n                  .contentWindow.document.body.scrollHeight;\n                newheight = newheight + 35 + \"px\";\n                if (this.state.height != newheight) {\n                  this.setState({ height: newheight });\n                }\n              }.bind(this)\n            );\n        }\n      }.bind(this),\n      250\n    );\n  };\n\n  render() {\n    let rawMarkup = this.props.subitem.body_flair;\n    if (this.props.subitem.body_flair == \"\") {\n      rawMarkup = this.props.subitem.body;\n    }\n    let id = this.props.id;\n    let entry_body_id = \"entry-body-\" + this.props.id;\n    let entry_body_inner_id = \"entry-body-inner-\" + this.props.id;\n    return (\n      <div\n        id={entry_body_id}\n        key={this.props.id}\n        className={\"row-fluid entry-body\"}\n      >\n        <div\n          id={entry_body_inner_id}\n          className={\"row-fluid entry-body-inner\"}\n          style={{ marginLeft: \"auto\", marginRight: \"auto\", width: \"99.3%\" }}\n        >\n          {this.props.editEntryToolbar ? (\n            <AddEntry\n              entryAction={\"Edit\"}\n              type={this.props.type}\n              targetid={this.props.targetid}\n              id={id}\n              addedentry={this.props.editEntryToggle}\n              parent={this.props.subitem.parent}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : (\n            <Frame\n              //Here is new stuff\n              key={id}\n              contentDidMount={this.setHeight}\n              head={\n                <link\n                  rel=\"stylesheet\"\n                  type=\"text/css\"\n                  href=\"/css/sandbox.css\"\n                />\n              }\n              //end of new stuff\n              frameBorder={\"0\"}\n              id={\"iframe_\" + id}\n              sandbox={\"allow-same-origin\"}\n              style={{ width: \"100%\", height: this.state.height }}\n            >\n              <div dangerouslySetInnerHTML={{ __html: rawMarkup }} />\n            </Frame>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Button from \"react-bootstrap/lib/Button\";\nimport $ from \"jquery\";\nimport { WithContext as ReactTags } from \"react-tag-input\";\n\nexport default class Badge extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      source: false,\n      tag: false\n    };\n  }\n\n  toggleBadgeEntry = badgetype => {\n    if (this.state[badgetype] == false) {\n      this.setState({ [badgetype]: true });\n    } else if (this.state[badgetype] == true) {\n      this.setState({ [badgetype]: false });\n    }\n  };\n\n  render() {\n    let rows = [];\n    let id = this.props.id;\n    let type = this.props.type;\n    let data = this.props.data;\n    let badgevar = \"\";\n\n    if (this.props.badgeType === \"tag\") {\n      badgevar = \"Tags\";\n    } else if (this.props.badgeType === \"source\") {\n      badgevar = \"Sources\";\n    }\n\n    //Don't show if guide\n    if (this.props.type == \"guide\") {\n      return <th />;\n    }\n\n    if (data != undefined) {\n      for (let i = 0; i < data.length; i++) {\n        rows.push(\n          <BadgeDataIterator\n            data={data}\n            badgeType={this.props.badgeType}\n            dataOne={data[i]}\n            id={id}\n            type={type}\n            updated={this.props.updated}\n            key={i}\n            errorToggle={this.props.errorToggle}\n          />\n        );\n      }\n    }\n    return (\n      //TODO: THIS CODE IS STUPID. USE GRID\n      <th>\n        <th>{badgevar}:</th>\n        <td>\n          {rows}\n          {this.state.source ? (\n            <NewBadge\n              data={data}\n              type={type}\n              id={id}\n              badgeType={this.props.badgeType}\n              toggleBadgeEntry={this.toggleBadgeEntry}\n              updated={this.props.updated}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {this.state.tag ? (\n            <NewBadge\n              data={data}\n              type={type}\n              id={id}\n              badgeType={this.props.badgeType}\n              toggleBadgeEntry={this.toggleBadgeEntry}\n              updated={this.props.updated}\n              errorToggle={this.props.errorToggle}\n            />\n          ) : null}\n          {this.props.badgeType === \"tag\" ? (\n            this.state.tag ? (\n              <span className=\"add-tag-button\">\n                <Button\n                  bsSize={\"xsmall\"}\n                  bsStyle={\"danger\"}\n                  onClick={() => {\n                    this.toggleBadgeEntry(this.props.badgeType);\n                  }}\n                >\n                  <span\n                    className=\"glyphicon glyphicon-minus\"\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              </span>\n            ) : (\n              <span className=\"remove-tag-button\">\n                <Button\n                  bsSize={\"xsmall\"}\n                  bsStyle={\"success\"}\n                  onClick={() => {\n                    this.toggleBadgeEntry(this.props.badgeType);\n                  }}\n                >\n                  <span\n                    className=\"glyphicon glyphicon-plus\"\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              </span>\n            )\n          ) : this.props.badgeType === \"source\" ? (\n            this.state.source ? (\n              <span className=\"add-source-button\">\n                <Button\n                  bsSize={\"xsmall\"}\n                  bsStyle={\"danger\"}\n                  onClick={() => {\n                    this.toggleBadgeEntry(this.props.badgeType);\n                  }}\n                >\n                  <span\n                    className=\"glyphicon glyphicon-minus\"\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              </span>\n            ) : (\n              <span className=\"remove-source-button\">\n                <Button\n                  bsSize={\"xsmall\"}\n                  bsStyle={\"success\"}\n                  onClick={() => {\n                    this.toggleBadgeEntry(this.props.badgeType);\n                  }}\n                >\n                  <span\n                    className=\"glyphicon glyphicon-plus\"\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              </span>\n            )\n          ) : null}\n        </td>\n      </th>\n    );\n  }\n}\n\nclass BadgeDataIterator extends React.Component {\n  badgeDelete = () => {\n    let badgeType = this.props.badgeType;\n    let data = this.props.data;\n    let newBadgeArr = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof data[i] == \"string\") {\n          if (data[i] != this.props.dataOne) {\n            newBadgeArr.push(data[i]);\n          }\n        } else {\n          if (data[i].value != this.props.dataOne.value) {\n            newBadgeArr.push(data[i].value);\n          }\n        }\n      }\n    }\n\n    let newobject = {};\n    newobject[badgeType] = newBadgeArr;\n\n    $.ajax({\n      type: \"put\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      data: JSON.stringify(newobject),\n      contentType: \"application/json; charset=UTF-8\",\n      success: function(data) {\n        console.log(\"deleted\" + this.props.badgeType + \" data\");\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to delete\" + badgeType + \", data \");\n      }.bind(this)\n    });\n  };\n\n  render() {\n    let dataOne = this.props.dataOne;\n    let value;\n    if (typeof dataOne == \"string\") {\n      value = dataOne;\n    } else if (typeof dataOne == \"object\") {\n      if (dataOne != undefined) {\n        value = dataOne.value;\n      }\n    }\n\n    return this.props.badgeType === \"tag\" ? (\n      <span id=\"event_tag\" className=\"tagButton\">\n        {value}{\" \"}\n        <span className=\"tagButtonClose\">\n          <i onClick={this.badgeDelete} className=\"fa fa-times\" />\n        </span>\n      </span>\n    ) : this.props.badgeType === \"source\" ? (\n      <span id=\"event_source\" className=\"sourceButton\">\n        {value}{\" \"}\n        <span className=\"sourceButtonClose\">\n          <i onClick={this.badgeDelete} className=\"fa fa-times\" />\n        </span>\n      </span>\n    ) : null;\n  }\n}\n\nclass NewBadge extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      suggestions: []\n    };\n  }\n\n  handleAddition = tag => {\n    let newBadgeArr = [];\n    let badgeType = this.props.badgeType;\n    let data = this.props.data;\n    for (let i = 0; i < data.length; i++) {\n      if (data[i] != undefined) {\n        if (typeof data[i] == \"string\") {\n          newBadgeArr.push(data[i]);\n        } else {\n          newBadgeArr.push(data[i].value);\n        }\n      }\n    }\n    if (!newBadgeArr.includes(tag[\"text\"])) {\n      newBadgeArr.push(tag[\"text\"]);\n      let newobject = {};\n      newobject[badgeType] = newBadgeArr;\n      $.ajax({\n        type: \"put\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        data: JSON.stringify(newobject),\n        contentType: \"application/json; charset=UTF-8\",\n        success: function() {\n          console.log(\"success: \" + this.props.badgeType + \" added\");\n          this.props.toggleBadgeEntry();\n        }.bind(this),\n        error: function(data) {\n          this.props.errorToggle(\n            \"Failed to add \" + this.props.badgeType + \" data \"\n          );\n          this.props.toggleBadgeEntry();\n        }.bind(this)\n      });\n    } else {\n      this.props.errorToggle(this.props.badgeType + \" already exists\");\n    }\n  };\n\n  handleSuggestionOrTagConversion = oldarray => {\n    let formattedSuggArray = oldarray.map(function(item) {\n      let newobj = {};\n      newobj[\"id\"] = item;\n      newobj[\"text\"] = item;\n      return newobj;\n    });\n    return formattedSuggArray;\n  };\n\n  handleInputChange = input => {\n    let arr = [];\n    let endpoint = this.props.badgeType;\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/ac/\" + endpoint + \"/\" + input,\n      success: function(result) {\n        for (let i = 0; i < result.records.length; i++) {\n          arr.push(result.records[i]);\n        }\n        this.setState({ suggestions: arr });\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to get autocomplete data for tag\", data);\n      }.bind(this)\n    });\n  };\n\n  handleDelete = () => {\n    //blank since buttons are handled outside of this\n  };\n\n  handleDrag = () => {\n    //blank since buttons are handled outside of this\n  };\n\n  render() {\n    let suggestions = this.state.suggestions;\n    suggestions = this.handleSuggestionOrTagConversion(suggestions);\n\n    return (\n      <span className=\"tag-new\">\n        <ReactTags\n          suggestions={suggestions}\n          handleAddition={this.handleAddition}\n          handleDelete={this.handleDelete}\n          handleDrag={this.handleDrag}\n          handleInputChange={this.handleInputChange}\n          minQueryLength={1}\n          customCSS={1}\n        />\n      </span>\n    );\n  }\n}\n","import $ from \"jquery\";\nexport const AddFlair = {\n  entityUpdate: function(\n    entityData,\n    flairToolbarToggle,\n    type,\n    linkWarningToggle,\n    id,\n    scrollTo\n  ) {\n    setTimeout(\n      function() {\n        let entityResult = {};\n        for (let key in entityData) {\n          entityResult[$(\"<span />\", { html: key }).html()] = entityData[key];\n        }\n\n        if (type !== \"alertgroup\") {\n          $(\"iframe\").each(\n            function(index, ifr) {\n              //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n              ifr.contentWindow.requestAnimationFrame(function() {\n                if (ifr.contentDocument != null) {\n                  let ifrContents = $(ifr).contents();\n                  //This makes all href point to blank so they don't reload the iframe\n                  $(ifr.contentDocument.body)\n                    .find(\"a\")\n                    .attr(\"target\", \"_blank\");\n                  //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n                  ifrContents.find(\"a\").each(function(index, a) {\n                    let url = $(a).attr(\"href\");\n                    $(a).attr(\"url\", url);\n                  });\n                  //Make href an anchor so it doesn't go anywhere when clicked and instead opens up the modal in linkWarningPopup\n                  //$(ifr.contentDocument.body).find('a').find('.entity').wrap(\"<a href='about:blank' target='targ'></a>\");\n                  ifrContents.find(\".entity\").each(function(index, entity) {\n                    if ($(entity).find(\".extras\")[0] == null) {\n                      //var currentEntityValue = $(entity).attr('data-entity-value');\n                      let currentEntityValue = $(\"<span />\", {\n                        html: $(entity).attr(\"data-entity-value\")\n                      }).html();\n                      if (\n                        currentEntityValue !== undefined &&\n                        entityResult !== undefined\n                      ) {\n                        let entityMatched = entityResult;\n                        if (\n                          entityMatched[currentEntityValue.toLowerCase()] !==\n                          undefined\n                        ) {\n                          entityMatched =\n                            entityMatched[currentEntityValue.toLowerCase()];\n                        } else {\n                          entityMatched = entityMatched[currentEntityValue];\n                        }\n\n                        if (entityMatched !== undefined) {\n                          let entityid = entityMatched.id;\n                          let entityCount = abbreviateNumber(\n                            parseInt(entityMatched.count, 10),\n                            0\n                          );\n                          let entitydata = entityMatched.data;\n                          let entityEntryCount = entityMatched.entry;\n                          let circle = $('<span class=\"noselect\">');\n                          circle.addClass(\"circleNumber\");\n                          circle.addClass(\"extras\");\n                          circle.text(entityCount);\n                          $(entity).append(circle);\n                          $(entity).attr(\"data-entity-id\", entityid);\n                          $(entity).unbind(\"click\");\n                          if (entitydata !== undefined) {\n                            if (entitydata.geoip !== undefined) {\n                              if (entitydata.geoip.data.isocode !== undefined) {\n                                let country_code;\n                                if (\n                                  entitydata.geoip.data.isp ===\n                                  \"Sandia National Laboratories\"\n                                ) {\n                                  country_code = \"sandia\";\n                                } else {\n                                  country_code = entitydata.geoip.data.isocode;\n                                }\n                                let flag = $(\n                                  '<img title=\"' +\n                                    country_code.toLowerCase() +\n                                    '\">'\n                                ).attr(\n                                  \"src\",\n                                  \"/images/flags/\" +\n                                    country_code.toLowerCase() +\n                                    \".png\"\n                                );\n                                flag.addClass(\"extras\");\n                                $(entity).append(flag);\n                              }\n                            }\n                            if (entitydata.sidd !== undefined) {\n                              if (\n                                entitydata.sidd.data.blocklist !== undefined\n                              ) {\n                                if (\n                                  entitydata.sidd.data.blocklist.action !==\n                                  undefined\n                                ) {\n                                  if (\n                                    entitydata.sidd.data.blocklist.action\n                                      .firewall !== false\n                                  ) {\n                                    $(entity).append(\n                                      $(\n                                        '<img class=\"extras\" title=\"firewall block\">'\n                                      ).attr(\n                                        \"src\",\n                                        \"/images/flair/firewalled.png\"\n                                      )\n                                    );\n                                  }\n                                  if (\n                                    entitydata.sidd.data.blocklist.action\n                                      .watch !== false\n                                  ) {\n                                    $(entity).append(\n                                      $(\n                                        '<img class=\"extras\" title=\"watch list\">'\n                                      ).attr(\"src\", \"/images/flair/watch.png\")\n                                    );\n                                  }\n                                  if (\n                                    entitydata.sidd.data.blocklist.action\n                                      .whitelist !== false\n                                  ) {\n                                    $(entity).append(\n                                      $(\n                                        '<img class=\"extras\" title=\"white list\">'\n                                      ).attr(\n                                        \"src\",\n                                        \"/images/flair/white_list.jpg\"\n                                      )\n                                    );\n                                  }\n                                  if (\n                                    entitydata.sidd.data.blocklist.action\n                                      .blackhole !== false\n                                  ) {\n                                    $(entity).append(\n                                      $(\n                                        '<img class=\"extras\" title=\"dns black hole\">'\n                                      ).attr(\n                                        \"src\",\n                                        \"/images/flair/blackholed.png\"\n                                      )\n                                    );\n                                  }\n                                  if (\n                                    entitydata.sidd.data.blocklist.action\n                                      .proxy_block !== false\n                                  ) {\n                                    $(entity).append(\n                                      $(\n                                        '<img class=\"extras\" title=\"proxy block\">'\n                                      ).attr(\"src\", \"/images/flair/blocked.png\")\n                                    );\n                                  }\n                                }\n                              }\n                            }\n                          }\n\n                          if (entityEntryCount !== undefined) {\n                            if (entityEntryCount !== 0) {\n                              let entityEntry =\n                                entityMatched.entries[0].body_plain;\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"' +\n                                    entityEntry +\n                                    '\">'\n                                ).attr(\"src\", \"/images/flair/note.png\")\n                              );\n                            }\n                          }\n                        }\n                      }\n                    }\n                  });\n                  //}\n                  //pentry(ifr,flairToolbarToggle,type,linkWarningToggle,id);\n                }\n              });\n            }.bind(this)\n          );\n        } else if (type === \"alertgroup\") {\n          $(document.body)\n            .find(\".alertTableHorizontal\")\n            .find(\".entity\")\n            .each(function(index, entity) {\n              if ($(entity).find(\".extras\")[0] == null) {\n                let subtable = $(document.body).find(\".alertTableHorizontal\");\n                subtable.find(\"a\").attr(\"target\", \"_blank\");\n                subtable\n                  .find(\"a\")\n                  .find(\".entity\")\n                  .wrap(\"<a href='about:blank' target='targ'></a>\");\n                //Copies href to a new attribute, url, before we make href an anchor (so it doesn't go anywhere when clicked)\n                subtable.find(\"a\").each(function(index, a) {\n                  let url = $(a).attr(\"href\");\n                  $(a).attr(\"url\", url);\n                });\n                //var currentEntityValue = $(entity).attr('data-entity-value');\n                let currentEntityValue = $(\"<span />\", {\n                  html: $(entity).attr(\"data-entity-value\")\n                }).html();\n                if (\n                  currentEntityValue !== undefined &&\n                  entityResult !== undefined\n                ) {\n                  let entityMatched = entityResult;\n                  if (\n                    entityMatched[currentEntityValue.toLowerCase()] !==\n                    undefined\n                  ) {\n                    entityMatched =\n                      entityMatched[currentEntityValue.toLowerCase()];\n                  } else {\n                    entityMatched = entityMatched[currentEntityValue];\n                  }\n\n                  if (entityMatched !== undefined) {\n                    let entityid = entityMatched.id;\n                    let entityCount = abbreviateNumber(entityMatched.count);\n                    let entitydata = entityMatched.data;\n                    let entityEntryCount = entityMatched.entry;\n                    let circle = $('<span class=\"noselect\">');\n                    circle.addClass(\"circleNumber\");\n                    circle.addClass(\"extras\");\n                    circle.text(entityCount);\n                    $(entity).append(circle);\n                    $(entity).attr(\"data-entity-id\", entityid);\n                    $(entity).unbind(\"click\");\n                    if (entitydata !== undefined) {\n                      if (entitydata.geoip !== undefined) {\n                        if (entitydata.geoip.data.isocode !== undefined) {\n                          let country_code;\n                          if (\n                            entitydata.geoip.data.isp ===\n                            \"Sandia National Laboratories\"\n                          ) {\n                            country_code = \"sandia\";\n                          } else {\n                            country_code = entitydata.geoip.data.isocode;\n                          }\n                          let flag = $(\n                            '<img title=\"' + country_code.toLowerCase() + '\">'\n                          ).attr(\n                            \"src\",\n                            \"/images/flags/\" +\n                              country_code.toLowerCase() +\n                              \".png\"\n                          );\n                          flag.addClass(\"extras\");\n                          $(entity).append(flag);\n                        }\n                      }\n                      if (entitydata.sidd !== undefined) {\n                        if (entitydata.sidd.data.blocklist !== undefined) {\n                          if (\n                            entitydata.sidd.data.blocklist.action !== undefined\n                          ) {\n                            if (\n                              entitydata.sidd.data.blocklist.action.firewall !==\n                              false\n                            ) {\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"firewall block\">'\n                                ).attr(\"src\", \"/images/flair/firewalled.png\")\n                              );\n                            }\n                            if (\n                              entitydata.sidd.data.blocklist.action.watch !==\n                              false\n                            ) {\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"watch list\">'\n                                ).attr(\"src\", \"/images/flair/watch.png\")\n                              );\n                            }\n                            if (\n                              entitydata.sidd.data.blocklist.action\n                                .whitelist !== false\n                            ) {\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"white list\">'\n                                ).attr(\"src\", \"/images/flair/white_list.jpg\")\n                              );\n                            }\n                            if (\n                              entitydata.sidd.data.blocklist.action\n                                .blackhole !== false\n                            ) {\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"dns black hole\">'\n                                ).attr(\"src\", \"/images/flair/blackholed.png\")\n                              );\n                            }\n                            if (\n                              entitydata.sidd.data.blocklist.action\n                                .proxy_block !== false\n                            ) {\n                              $(entity).append(\n                                $(\n                                  '<img class=\"extras\" title=\"proxy block\">'\n                                ).attr(\"src\", \"/images/flair/blocked.png\")\n                              );\n                            }\n                          }\n                        }\n                      }\n                    }\n\n                    if (entityEntryCount !== undefined) {\n                      if (entityEntryCount !== 0) {\n                        let entityEntry = entityMatched.entries[0].body_plain;\n                        $(entity).append(\n                          $(\n                            '<img class=\"extras\" title=\"' + entityEntry + '\">'\n                          ).attr(\"src\", \"/images/flair/note.png\")\n                        );\n                      }\n                    }\n                  }\n                }\n              }\n            });\n        }\n        if (scrollTo !== undefined && scrollTo !== null) {\n          scrollTo();\n        }\n      }.bind(this),\n      1000\n    );\n  }\n};\n\nfunction abbreviateNumber(num, fixed) {\n  if (num === null) {\n    return null;\n  } // terminate early\n  if (num === 0) {\n    return \"0\";\n  } // terminate early\n  fixed = !fixed || fixed < 0 ? 0 : fixed; // number of decimal places to show\n  let b = num.toPrecision(2).split(\"e\"), // get power\n    k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3), // floor at decimals, ceiling at trillions\n    c =\n      k < 1\n        ? num.toFixed(0 + fixed)\n        : (num / Math.pow(10, k * 3)).toFixed(1 + fixed), // divide by power\n    d = c < 0 ? c : Math.abs(c), // enforce -0 is 0\n    e = d + [\"\", \"K\", \"M\", \"B\", \"T\"][k]; // append power\n  return e;\n}\nexport default AddFlair;\n//module.exports = {AddFlair, Watcher}\n","import React, { Component } from \"react\";\nimport { Modal, Button, ButtonGroup } from \"react-bootstrap\";\nimport ReactTable from \"react-table\";\nimport $ from \"jquery\";\n\nexport default class Links extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: [],\n            allSelected: false,\n            loading: false\n        };\n\n        this.getLinks = this.getLinks.bind(this);\n        this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(\n            this\n        );\n        this.handleRowSelection = this.handleRowSelection.bind(this);\n        this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n    }\n\n    componentWillMount() {\n        this.getLinks();\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    render() {\n        const columns = [\n            {\n                Header: cell => {\n                    return (\n                        <div>\n                            <div className=\"links-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        this.state.allSelected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                id: \"selected\",\n                accessor: d => d.selected,\n                Cell: row => {\n                    return (\n                        <div>\n                            <div className=\"links-checkbox\">\n                                <i\n                                    className={`fa fa${\n                                        row.row.selected ? \"-check\" : \"\"\n                                        }-square-o`}\n                                    aria-hidden=\"true\"\n                                />\n                            </div>\n                        </div>\n                    );\n                },\n                maxWidth: 100,\n                filterable: false\n            },\n            {\n                Header: \"Type\",\n                accessor: \"type\",\n                maxWidth: 150,\n                sortable: true\n            },\n            {\n                Header: \"ID\",\n                accessor: \"id\",\n                maxWidth: 100,\n                sortable: true\n            },\n            {\n                Header: \"Context\",\n                accessor: \"context\",\n                minWidth: 100,\n                maxWidth: 800,\n                sortable: true\n            },\n            {\n                Header: \"Memo\",\n                accessor: \"memo\",\n                minWidth: 100,\n                maxWidth: 800,\n                sortable: true\n            },\n            {\n                Header: \"Link ID\",\n                accessor: \"linkid\",\n                maxWidth: 100,\n                sortable: true\n            }\n        ];\n\n        return (\n            <Modal\n                dialogClassName=\"links-modal\"\n                show={this.props.modalActive}\n                onHide={this.props.linksModalToggle}\n            >\n                <Modal.Header closeButton={true}>\n                    <Modal.Title>\n                        {this.state.data.length} items linked to {this.props.type}{\" \"}\n                        {this.props.id}\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <ReactTable\n                        columns={columns}\n                        data={this.state.data}\n                        defaultPageSize={10}\n                        getTdProps={this.handleCheckboxSelection}\n                        getTheadThProps={this.handleTHeadCheckboxSelection}\n                        getTrProps={this.handleRowSelection}\n                        minRows={0}\n                        noDataText=\"No items Linked.\"\n                        loading={this.state.loading}\n                        style={{\n                            maxHeight: \"60vh\"\n                        }}\n                        filterable\n                    />\n                </Modal.Body>\n                <Modal.Footer>\n                    <Actions\n                        data={this.state.data}\n                        id={this.props.id}\n                        type={this.props.type}\n                        getLinks={this.getLinks}\n                        errorToggle={this.props.errorToggle}\n                    />\n                </Modal.Footer>\n            </Modal>\n        );\n    }\n\n    getLinks() {\n        this.setState({ loading: true });\n\n        $.ajax({\n            type: \"get\",\n            url: \"/scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/link\",\n            success: function (data) {\n                let arr = [];\n\n                for (let i = 0; i < data.records.length; i++) {\n                    let verticeObject = {};\n                    verticeObject.linkid = data.records[i].id;\n                    verticeObject.context = data.records[i].context;\n                    for (let j = 0; j < data.records[i].vertices.length; j++) {\n                        //if ids are equal, check if the type is equal. If so, it's what is displayed so don't show it.\n                        if (data.records[i].vertices[j].id === this.props.id) {\n                            if (data.records[i].vertices[j].type !== this.props.type) {\n                                verticeObject.id = data.records[i].vertices[j].id;\n                                verticeObject.type = data.records[i].vertices[j].type;\n                                verticeObject.memo = data.records[i].memo[j];\n                                arr.push(verticeObject);\n                            } else {\n                                continue;\n                            }\n                        } else {\n                            verticeObject.id = data.records[i].vertices[j].id;\n                            verticeObject.type = data.records[i].vertices[j].type;\n                            verticeObject.memo = data.records[i].memo[j];\n                            arr.push(verticeObject);\n                        }\n                    }\n                }\n\n                this.setState({ data: arr, loading: false });\n            }.bind(this),\n            error: function (data) {\n                this.setState({ loading: false });\n                this.props.errorToggle(\"failed to get links\", data);\n            }.bind(this)\n        });\n    }\n\n    handleRowSelection(state, rowInfo, column) {\n        return {\n            onClick: event => {\n                let data = this.state.data;\n\n                for (let row of data) {\n                    if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                        row.selected = true;\n                    } else {\n                        row.selected = false;\n                    }\n                }\n\n                this.setState({ data: data, allSelected: false });\n                return;\n            },\n            style: {\n                background:\n                    rowInfo !== undefined\n                        ? rowInfo.row.selected\n                            ? \"rgb(174, 218, 255)\"\n                            : null\n                        : null\n            }\n        };\n    }\n\n    handleCheckboxSelection(state, rowInfo, column) {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n\n                    for (let row of data) {\n                        if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n                            row.selected = !row.selected;\n                            break;\n                        }\n                    }\n\n                    this.setState({\n                        data: data,\n                        allSelected: this.checkAllSelected(data)\n                    });\n                    event.stopPropagation();\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    handleTHeadCheckboxSelection(state, rowInfo, column, instance) {\n        if (column.id === \"selected\") {\n            return {\n                onClick: event => {\n                    let data = this.state.data;\n                    let allSelected = !this.state.allSelected;\n\n                    for (let row of data) {\n                        for (let pageRow of state.pageRows) {\n                            if (row.id === pageRow.id && row.type === pageRow.type) {\n                                //compare displayed rows to rows in dataset and only select those\n                                row.selected = allSelected;\n                                break;\n                            }\n                        }\n                    }\n\n                    this.setState({ data: data, allSelected: allSelected });\n                    return;\n                }\n            };\n        } else {\n            return {};\n        }\n    }\n\n    checkAllSelected(data) {\n        for (let row of data) {\n            if (!row.selected) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\nclass Actions extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            entry: false,\n            thing: false,\n            actionSuccess: false\n        };\n\n        this.RemoveLink = this.RemoveLink.bind(this);\n        this.RemoveLinkAjax = this.RemoveLinkAjax.bind(this);\n        this.ToggleActionSuccess = this.ToggleActionSuccess.bind(this);\n    }\n\n    componentWillMount() {\n        this.mounted = true;\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n    }\n\n    render() {\n        let entry = false;\n        let thing = false;\n\n        for (let key of this.props.data) {\n            if (key.type && key.selected) {\n                if (key.type === \"entry\") {\n                    entry = true;\n                } else {\n                    thing = true;\n                }\n            }\n        }\n\n        return (\n            <div>\n                {this.state.actionSuccess ? (\n                    <div>\n                        <span bsStyle={{ color: \"green\" }}>Action Successful!</span>\n                    </div>\n                ) : null}\n                <div>\n                    {thing || entry ? (\n                        <h4 style={{ float: \"left\" }}>Actions</h4>\n                    ) : (\n                            <div>\n                                {\" \"}\n                                {this.props.data.length > 0 ? (\n                                    <h4 style={{ float: \"left\" }}>Select a link for options</h4>\n                                ) : null}{\" \"}\n                            </div>\n                        )}\n                    <ButtonGroup style={{ float: \"right\" }}>\n                        {thing || entry ? (\n                            <Button onClick={this.RemoveLink}>Remove Link</Button>\n                        ) : null}\n                    </ButtonGroup>\n                </div>\n            </div>\n        );\n    }\n\n    RemoveLink() {\n        for (let key of this.props.data) {\n            if (key.selected) {\n                // eslint-disable-next-line\n                this.RemoveLinkAjax(parseInt(key.linkid));\n            }\n        }\n    }\n\n    RemoveLinkAjax(id) {\n        $.ajax({\n            type: \"delete\",\n            url: \"/scot/api/v2/link/\" + id,\n            success: function (response) {\n                console.log(\"successfully removed link\");\n                this.ToggleActionSuccess();\n            }.bind(this),\n            error: function (data) {\n                this.props.errorToggle(\"failed to remove link\", data);\n            }.bind(this)\n        });\n    }\n\n    ToggleActionSuccess() {\n        let newActionSuccess = !this.state.actionSuccess;\n        this.props.getLinks();\n        this.setState({ actionSuccess: newActionSuccess });\n    }\n}\n\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Modal,\n  Button,\n  ButtonGroup,\n  Panel,\n  FormControl,\n  Form,\n  Col\n} from \"react-bootstrap\";\nimport ReactTable from \"react-table\";\nimport { removeMarkedItems } from \"../components/marker\";\nimport DeleteModal from \"./delete\";\nimport $ from \"jquery\";\nimport * as SessionStorage from \"../utils/session_storage\";\n\nconst ACTION_BUTTONS = {\n  READY: {\n    style: \"default\"\n  },\n  LOADING: {\n    text: \"Processing...\",\n    style: \"default\",\n    disabled: true\n  },\n  SUCCESS: {\n    text: \"Success!\",\n    style: \"success\"\n  },\n  ERROR: {\n    text: \"Error!\",\n    style: \"danger\"\n  }\n};\n\nexport default class Mark extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      allSelected: false\n    };\n\n    this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(\n      this\n    );\n    this.handleRowSelection = this.handleRowSelection.bind(this);\n    this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n    this.getMarkedItems = this.getMarkedItems.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n\n    this.getMarkedItems();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n    const columns = [\n      {\n        Header: cell => {\n          return (\n            <div>\n              <div className=\"mark-checkbox\">\n                <i\n                  className={`fa fa${\n                    this.state.allSelected ? \"-check\" : \"\"\n                  }-square-o`}\n                  aria-hidden=\"true\"\n                />\n              </div>\n            </div>\n          );\n        },\n        id: \"selected\",\n        accessor: d => d.selected,\n        Cell: row => {\n          return (\n            <div>\n              <div className=\"mark-checkbox\">\n                <i\n                  className={`fa fa${\n                    row.row.selected ? \"-check\" : \"\"\n                  }-square-o`}\n                  aria-hidden=\"true\"\n                />\n              </div>\n            </div>\n          );\n        },\n        maxWidth: 100,\n        filterable: false\n      },\n      {\n        Header: \"Type\",\n        accessor: \"type\",\n        maxWidth: 150,\n        sortable: true\n      },\n      {\n        Header: \"ID\",\n        accessor: \"id\",\n        maxWidth: 100,\n        sortable: true\n      },\n      {\n        Header: \"Subject\",\n        accessor: \"subject\",\n        maxWidth: \"100%\",\n        sortable: true\n      }\n    ];\n\n    return (\n      <Modal\n        dialogClassName=\"mark-modal\"\n        show={this.props.modalActive}\n        onHide={this.props.markModalToggle}\n      >\n        <Modal.Header closeButton={true}>\n          <Modal.Title>Marked Objects</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.state.data.length > 0 ? (\n            <ReactTable\n              columns={columns}\n              data={this.state.data}\n              defaultPageSize={10}\n              getTdProps={this.handleCheckboxSelection}\n              getTheadThProps={this.handleTHeadCheckboxSelection}\n              getTrProps={this.handleRowSelection}\n              minRows={0}\n              noDataText=\"No items marked.\"\n              style={{\n                maxHeight: \"60vh\"\n              }}\n              filterable\n            />\n          ) : (\n            <h3>No marked items detected.</h3>\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Actions\n            data={this.state.data}\n            id={this.props.id}\n            type={this.props.type}\n            getMarkedItems={this.getMarkedItems}\n            errorToggle={this.props.errorToggle}\n          />\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n\n  handleRowSelection = (state, rowInfo, column) => {\n    return {\n      onClick: event => {\n        let data = this.state.data;\n\n        for (let row of data) {\n          if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n            row.selected = true;\n          } else {\n            row.selected = false;\n          }\n        }\n\n        this.setState({ data: data, allSelected: false });\n        return;\n      },\n      style: {\n        background:\n          rowInfo !== undefined\n            ? rowInfo.row.selected\n              ? \"rgb(174, 218, 255)\"\n              : null\n            : null\n      }\n    };\n  };\n\n  handleCheckboxSelection = (state, rowInfo, column) => {\n    if (column.id === \"selected\") {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n\n          for (let row of data) {\n            if (rowInfo.row.id === row.id && rowInfo.row.type === row.type) {\n              row.selected = !row.selected;\n              break;\n            }\n          }\n\n          this.setState({\n            data: data,\n            allSelected: this.checkAllSelected(data)\n          });\n          event.stopPropagation();\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  };\n\n  handleTHeadCheckboxSelection = (state, rowInfo, column, instance) => {\n    if (column.id === \"selected\") {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n          let allSelected = !this.state.allSelected;\n\n          for (let row of data) {\n            for (let pageRow of state.pageRows) {\n              if (row.id === pageRow.id && row.type === pageRow.type) {\n                //compare displayed rows to rows in dataset and only select those\n                row.selected = allSelected;\n                break;\n              }\n            }\n          }\n\n          this.setState({ data: data, allSelected: allSelected });\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  };\n\n  checkAllSelected = data => {\n    for (let row of data) {\n      if (!row.selected) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  getMarkedItems = () => {\n    let markedItems = SessionStorage.getLocalStorage(\"marked\");\n    let currentItem = {\n      id: this.props.id,\n      type: this.props.type,\n      subject: this.props.string\n    };\n\n    if (markedItems) {\n      markedItems = JSON.parse(markedItems);\n      markedItems.unshift(currentItem); //Add currently viewed item to the top of the list\n      this.setState({ data: markedItems });\n    } else {\n      return; //return if no items are marked\n    }\n  };\n}\n\nclass Actions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      entry: false,\n      thing: false,\n      actionSuccess: false,\n      linkContextString: null,\n      linkPanel: false,\n      pendingDelete: false,\n\n      reparseButton: ACTION_BUTTONS.READY,\n      deleteButton: ACTION_BUTTONS.READY,\n      promoteButton: ACTION_BUTTONS.READY\n    };\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  deleteCallback = success => {\n    if (success === true) {\n      this.RemoveSelected();\n    }\n\n    this.setState({\n      pendingDelete: false\n    });\n  };\n\n  render() {\n    let entry = false,\n      thing = false,\n      alert = true;\n\n    let numSelected = 0;\n    for (let key of this.props.data) {\n      if (key.type && key.selected) {\n        numSelected++;\n\n        if (key.type === \"entry\") {\n          entry = true;\n        } else {\n          thing = true;\n        }\n\n        if (key.type !== \"alert\") {\n          alert = false;\n        }\n      }\n    }\n\n    const addToEvent =\n      numSelected !== 0 && alert && this.props.type === \"event\";\n\n    const {\n      reparseButton,\n      deleteButton,\n      promoteButton,\n      pendingDelete\n    } = this.state;\n\n    let deleteThings = null;\n    if (pendingDelete) {\n      deleteThings = this.props.data\n        .filter(thing => thing.selected)\n        .map(thing => {\n          return { type: thing.type, id: thing.id };\n        });\n    }\n\n    return (\n      <div>\n        {this.state.actionSuccess ? (\n          <div>\n            <Button bsStyle=\"success\" onClick={this.RemoveSelected}>\n              Action Successful! Remove Mark?\n            </Button>\n            <Button onClick={this.ToggleActionSuccess}>Keep Marked</Button>\n          </div>\n        ) : (\n          <div style={{ display: \"grid\" }}>\n            <div>\n              {thing || entry ? (\n                <h4 style={{ float: \"left\" }}>Actions</h4>\n              ) : (\n                <div>\n                  {\" \"}\n                  {this.props.data.length > 0 ? (\n                    <h4 style={{ float: \"left\" }}>Select a Marked Object</h4>\n                  ) : null}{\" \"}\n                </div>\n              )}\n              <ButtonGroup style={{ float: \"right\" }}>\n                {entry && !thing && this.props.type !== \"alertgroup\" ? (\n                  <Button onClick={this.MoveEntry}>\n                    Move to {this.props.type} {this.props.id}\n                  </Button>\n                ) : null}\n                {entry && !thing && this.props.type !== \"alertgroup\" ? (\n                  <Button onClick={this.CopyEntry}>\n                    Copy to {this.props.type} {this.props.id}\n                  </Button>\n                ) : null}\n                {thing || entry ? (\n                  <Button onClick={this.ExpandLinkToggle}>\n                    Link to {this.props.type} {this.props.id}\n                  </Button>\n                ) : null}\n                {addToEvent && (\n                  <Button\n                    bsStyle={promoteButton.style}\n                    onClick={this.Promote}\n                    disabled={promoteButton.disabled}\n                  >\n                    {promoteButton.text\n                      ? promoteButton.text\n                      : `Add to ${this.props.type} ${this.props.id}`}\n                  </Button>\n                )}\n                {(thing || entry) && (\n                  <Button\n                    bsStyle={reparseButton.style}\n                    onClick={this.Reparse}\n                    disabled={reparseButton.disabled}\n                  >\n                    {reparseButton.text ? reparseButton.text : \"Reparse Flair\"}\n                  </Button>\n                )}\n                {(thing || entry) && (\n                  <Button bsStyle=\"warning\" onClick={this.RemoveSelected}>\n                    Unmark\n                  </Button>\n                )}\n                {(thing || entry) && (\n                  <Button\n                    bsStyle=\"danger\"\n                    onClick={this.StartDelete}\n                    disabled={deleteButton.disabled}\n                  >\n                    {deleteButton.text ? deleteButton.text : \"Delete\"}\n                  </Button>\n                )}\n              </ButtonGroup>\n            </div>\n            {this.state.linkPanel && (thing || entry) ? (\n              <Panel collapsible expanded={this.state.linkPanel}>\n                <Form horizontal>\n                  <Col sm={2}>Provide context to this link:</Col>\n                  <Col sm={9}>\n                    <FormControl\n                      type=\"text\"\n                      value={this.state.linkContextString}\n                      placeholder=\"optional\"\n                      onChange={this.LinkContextChange}\n                    />\n                  </Col>\n                  <Col sm={1}>\n                    <Button onClick={this.Link} bsStyle={\"success\"}>\n                      Submit\n                    </Button>\n                  </Col>\n                </Form>\n              </Panel>\n            ) : null}\n            {pendingDelete && (\n              <DeleteModal\n                things={deleteThings}\n                errorToggle={this.props.errorToggle}\n                callback={this.deleteCallback}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  LinkContextChange = e => {\n    this.setState({ linkContextString: e.target.value });\n  };\n\n  ExpandLinkToggle = newState => {\n    if (newState === true || newState === false) {\n      this.setState({ linkPanel: newState, linkContextString: \"\" });\n    } else {\n      let linkPanel = !this.state.linkPanel;\n      this.setState({ linkPanel: linkPanel, linkContextString: \"\" });\n    }\n  };\n\n  RemoveSelected = () => {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        removeMarkedItems(key.type, key.id);\n      }\n    }\n\n    //update marked items after removal\n    this.props.getMarkedItems();\n\n    //turn off the action success buttons after removal\n    if (this.state.actionSuccess) {\n      this.setState({ actionSuccess: false });\n    }\n  };\n\n  StartDelete = () => {\n    this.setState({\n      pendingDelete: true\n    });\n  };\n\n  MoveEntry = () => {\n    for (let key of this.props.data) {\n      if (key.selected && key.type === \"entry\") {\n        this.EntryAjax(key.id, true);\n      }\n    }\n  };\n\n  CopyEntry = () => {\n    for (let key of this.props.data) {\n      if (key.selected && key.type === \"entry\") {\n        this.EntryAjax(key.id, false);\n      }\n    }\n  };\n\n  Link = () => {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        let arrayToLink = [];\n        let obj = {};\n        let currentobj = {};\n\n        //assign new thing to link\n        // eslint-disable-next-line\n        obj.id = parseInt(key.id);\n        obj.type = key.type;\n\n        //assign current thing to link to\n        // eslint-disable-next-line\n        currentobj.id = parseInt(this.props.id);\n        currentobj.type = this.props.type;\n\n        arrayToLink.push(obj);\n        arrayToLink.push(currentobj);\n\n        this.LinkAjax(arrayToLink);\n      }\n\n      /*\n                      if ( arrayToLink.length > 0 ) {\n                      //add current thing to be linked to\n                      let obj = {};\n                      obj.id = parseInt( this.props.id );\n                      obj.type = this.props.type;\n      \n                      arrayToLink.push( obj );\n                      this.LinkAjax( arrayToLink );\n                  }*/\n    }\n  };\n\n  Reparse = () => {\n    this.setState({\n      reparseButton: ACTION_BUTTONS.LOADING\n    });\n\n    $.when(\n      ...this.props.data\n        .filter(thing => thing.selected)\n        .map(thing => {\n          return this.ReparseAjax(thing);\n        })\n    )\n      .then(\n        // Success\n        () => {\n          this.setState({\n            reparseButton: ACTION_BUTTONS.SUCCESS\n          });\n        },\n        // Failure\n        error => {\n          console.error(error);\n          this.setState({\n            reparseButton: ACTION_BUTTONS.ERROR\n          });\n          this.props.errorToggle(\"error reparsing\", error);\n        }\n      )\n      .always(() => {\n        setTimeout(() => {\n          this.setState({\n            reparseButton: ACTION_BUTTONS.READY\n          });\n        }, 2000);\n      });\n  };\n\n  ReparseAjax = thing => {\n    return $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/\" + thing.type + \"/\" + thing.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: \"application/json; charset=UTF-8\"\n    });\n  };\n\n  Promote = () => {\n    this.setState({\n      promoteButton: ACTION_BUTTONS.LOADING\n    });\n\n    let success = true;\n\n    $.when(\n      ...this.props.data\n        .filter(thing => thing.selected)\n        .map(thing => {\n          return this.PromoteAjax(thing);\n        })\n    )\n      .then(\n        // Success\n        () => {\n          this.setState({\n            promoteButton: ACTION_BUTTONS.SUCCESS\n          });\n        },\n        // Failure\n        error => {\n          success = false;\n          console.error(error);\n          this.setState({\n            promoteButton: ACTION_BUTTONS.ERROR\n          });\n          this.props.errorToggle(\"error adding alerts to event\", error);\n        }\n      )\n      .always(() => {\n        setTimeout(() => {\n          this.setState({\n            promoteButton: ACTION_BUTTONS.READY\n          });\n\n          if (success) {\n            window.location.reload();\n          }\n        }, 2000);\n      });\n  };\n\n  PromoteAjax = thing => {\n    return $.ajax({\n      type: \"put\",\n      url: \"/scot/api/v2/alert/\" + thing.id,\n      // eslint-disable-next-line\n      data: JSON.stringify({ promote: parseInt(this.props.id) }),\n      contentType: \"application/json; charset=UTF-8\"\n    });\n  };\n\n  LinkAjax = arrayToLink => {\n    let data = {};\n    data.weight = 1; //passed in object\n    data.vertices = arrayToLink; //link to current thing\n\n    if (this.state.linkContextString) {\n      //add context string if one was submitted\n      data.context = this.state.linkContextString;\n    }\n\n    $.ajax({\n      type: \"post\",\n      url: \"/scot/api/v2/link\",\n      data: JSON.stringify(data),\n      contentType: \"application/json; charset=UTF-8\",\n      dataType: \"json\",\n      success: function(response) {\n        console.log(\"successfully linked\");\n        this.ExpandLinkToggle(false); //disable link panel\n        this.ToggleActionSuccess(true);\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"failed to link\", data);\n      }.bind(this)\n    });\n  };\n\n  EntryAjax = (id, removeOriginal) => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/entry/\" + id,\n      success: function(response) {\n        let data = {};\n        data = {\n          parent: 0,\n          body: response.body,\n          // eslint-disable-next-line\n          target_id: parseInt(this.props.id),\n          target_type: this.props.type\n        };\n        $.ajax({\n          type: \"post\",\n          url: \"/scot/api/v2/entry\",\n          data: JSON.stringify(data),\n          contentType: \"application/json; charset=UTF-8\",\n          dataType: \"json\",\n          success: function(response) {\n            if (removeOriginal) {\n              this.RemoveEntryAfterMove(id);\n              this.RemoveSelected();\n            } else {\n              if (!this.state.actionSuccess) {\n                this.ToggleActionSuccess(true);\n              }\n            }\n          }.bind(this),\n          error: function(data) {\n            this.props.errorToggle(\"failed to create new entry\", data);\n          }.bind(this)\n        });\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"failed to get entry data\", data);\n      }.bind(this)\n    });\n  };\n\n  RemoveEntryAfterMove = id => {\n    $.ajax({\n      type: \"delete\",\n      url: \"/scot/api/v2/entry/\" + id,\n      success: function(response) {\n        console.log(\"removed original entry\");\n      },\n      error: function(data) {\n        this.props.errorToggle(\"Failed to remove original entry\", data);\n      }\n    });\n  };\n\n  ToggleActionSuccess = status => {\n    if (status === true || status === false) {\n      this.setState({ actionSuccess: status });\n    } else {\n      let newActionSuccess = !this.state.actionSuccess;\n      this.setState({ actionSuccess: newActionSuccess });\n    }\n  };\n}\n\nActions.propTypes = {\n  data: PropTypes.object\n};\n\nActions.defaultProps = {\n  data: {}\n};\n\nMark.propTypes = {\n  modalActive: PropTypes.bool\n};\n\nMark.defaultProps = {\n  modalActive: true\n};\n","import React from \"react\";\nimport $ from \"jquery\";\nimport DetailDataStatus from \"../components/detail_data_status\";\nimport ReactTime from \"react-time\";\nimport SelectedHeaderOptions from \"./selected_header_options.js\";\nimport { DeleteThingComponent } from \"../modal/delete.js\";\nimport Owner from \"../modal/owner.js\";\nimport Entities from \"../modal/entities.js\";\nimport ChangeHistory from \"../modal/change_history.js\";\nimport ViewedByHistory from \"../modal/viewed_by_history.js\";\nimport SelectedPermission from \"../components/permission.js\";\nimport SelectedEntry from \"./selected_entry.js\";\nimport Badge from \"../components/badge.js\";\nimport Notification from \"react-notification-system\";\nimport AddFlair from \"../components/add_flair.js\";\nimport EntityDetail from \"../modal/entity_detail.js\";\nimport LinkWarning from \"../modal/link_warning.js\";\nimport Links from \"../modal/links.js\";\nimport Mark from \"../modal/mark.js\";\nimport ExportModal from \"../modal/export_event.js\";\nimport PromotedData from \"../modal/promoted_data.js\";\nlet InitialAjaxLoad;\n\nexport default class SelectedHeader extends React.Component {\n  constructor(props) {\n    super(props);\n    let entityDetailKey = Math.floor(Math.random() * 1000);\n    this.state = {\n      showEventData: false,\n      headerData: {},\n      sourceData: \"\",\n      tagData: \"\",\n      permissionsToolbar: false,\n      entitiesToolbar: false,\n      changeHistoryToolbar: false,\n      viewedByHistoryToolbar: false,\n      entryToolbar: false,\n      deleteToolbar: false,\n      deleteType: null,\n      promoteToolbar: false,\n      notificationType: null,\n      notificationMessage: null,\n      key: this.props.id,\n      showEntryData: false,\n      entryData: \"\",\n      showEntityData: false,\n      entityData: [],\n      entityid: null,\n      entitytype: null,\n      entityoffset: null,\n      entityobj: null,\n      flairToolbar: false,\n      linkWarningToolbar: false,\n      exportModal: false,\n      refreshing: false,\n      loading: false,\n      eventLoaded: false,\n      entryLoaded: false,\n      entityLoaded: false,\n      guideID: null,\n      fileUploadToolbar: false,\n      isNotFound: false,\n      runWatcher: false,\n      entityDetailKey: entityDetailKey,\n      processing: false,\n      showSignatureOptions: false,\n      showMarkModal: false,\n      showLinksModal: false,\n      flairOff: false,\n      highlightedText: \"\",\n      flairing: false,\n      isMounted: false,\n      alertsSelected: [],\n      isDeleted: false\n    };\n  }\n\n  componentWillMount = () => {\n    this.setState({ loading: true });\n  };\n\n  componentDidMount = () => {\n    this.setState({ isMounted: true });\n    let delayFunction = {\n      delay: function() {\n        let entryType = \"entry\";\n        if (this.props.type === \"alertgroup\") {\n          entryType = \"alert\";\n        }\n        //Main Type Load\n        $.ajax({\n          type: \"get\",\n          url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n          success: function(result) {\n            if (this.state.isMounted) {\n              let eventResult = result;\n              this.setState({\n                headerData: eventResult,\n                showEventData: true,\n                isNotFound: false,\n                tagData: eventResult.tag,\n                sourceData: eventResult.source\n              });\n              if (\n                this.state.showEventData === true &&\n                this.state.showEntryData === true &&\n                this.state.showEntityData === true\n              ) {\n                this.setState({ loading: false });\n              }\n              if (\n                this.props.type === \"alertgroup\" &&\n                eventResult.parsed === -1\n              ) {\n                this.setState({ flairing: true });\n              } else {\n                this.setState({ flairing: false });\n              }\n            }\n          }.bind(this),\n          error: function(result) {\n            this.setState({ showEventData: true, isNotFound: true });\n            if (\n              this.state.showEventData === true &&\n              this.state.showEntryData === true &&\n              this.state.showEntityData === true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load detail data. Error message: \" +\n                result.responseText,\n              result\n            );\n          }.bind(this)\n        });\n        //entry load\n        $.ajax({\n          type: \"get\",\n          url:\n            \"scot/api/v2/\" +\n            this.props.type +\n            \"/\" +\n            this.props.id +\n            \"/\" +\n            entryType,\n          success: function(result) {\n            if (this.state.isMounted) {\n              let entryResult = result.records;\n              // entryResult.forEach(\n              //   function(item) {\n              //     this.props.createCallback(item.id, this.updated);\n              //   }.bind(this)\n              // );\n              this.setState({\n                showEntryData: true,\n                entryData: entryResult,\n                runWatcher: true\n              });\n              this.Watcher();\n              if (\n                this.state.showEventData === true &&\n                this.state.showEntryData === true &&\n                this.state.showEntityData === true\n              ) {\n                this.setState({ loading: false });\n              }\n            }\n          }.bind(this),\n          error: function(result) {\n            this.setState({ showEntryData: true });\n            if (\n              this.state.showEventData == true &&\n              this.state.showEntryData == true &&\n              this.state.showEntityData == true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load entry data. Error message: \" +\n                result.responseText,\n              result\n            );\n          }\n        });\n        //entity load\n        $.ajax({\n          type: \"get\",\n          url:\n            \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n          success: function(result) {\n            if (this.state.isMounted) {\n              let entityResult = result.records;\n              this.setState({ showEntityData: true, entityData: entityResult });\n              var waitForEntry = {\n                waitEntry: function() {\n                  if (this.state.showEntryData == false) {\n                    setTimeout(waitForEntry.waitEntry, 50);\n                  } else {\n                    setTimeout(\n                      function() {\n                        AddFlair.entityUpdate(\n                          entityResult,\n                          this.flairToolbarToggle,\n                          this.props.type,\n                          this.linkWarningToggle,\n                          this.props.id,\n                          this.scrollTo\n                        );\n                      }.bind(this)\n                    );\n                    if (\n                      this.state.showEventData == true &&\n                      this.state.showEntryData == true &&\n                      this.state.showEntityData == true\n                    ) {\n                      this.setState({ loading: false });\n                    }\n                  }\n                }.bind(this)\n              };\n              waitForEntry.waitEntry();\n            }\n          }.bind(this),\n          error: function(result) {\n            this.setState({ showEntityData: true });\n            if (\n              this.state.showEventData == true &&\n              this.state.showEntryData == true &&\n              this.state.showEntityData == true\n            ) {\n              this.setState({ loading: false });\n            }\n            this.props.errorToggle(\n              \"Error: Failed to load entity data.\",\n              result\n            );\n          }.bind(this)\n        });\n        //guide load\n        if (this.props.type == \"alertgroup\") {\n          $.ajax({\n            type: \"get\",\n            url:\n              \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/guide\",\n            success: function(result) {\n              if (this.state.isMounted) {\n                let arr = [];\n                for (let i = 0; i < result.records.length; i++) {\n                  arr.push(result.records[i].id);\n                }\n                if (arr.length === 0) {\n                  arr = null;\n                }\n                this.setState({ guideID: arr });\n              }\n            }.bind(this),\n            error: function(result) {\n              this.setState({ guideID: null });\n              this.props.errorToggle(\n                \"Error: Failed to load guide data. Error message:\" +\n                  result.responseText,\n                result\n              );\n            }.bind(this)\n          });\n        }\n        this.props.createCallback(this.props.id, this.updated);\n      }.bind(this)\n    };\n    InitialAjaxLoad = setTimeout(delayFunction.delay, 400);\n  };\n\n  componentWillUnmount() {\n    this.setState({ isMounted: false });\n    clearTimeout(InitialAjaxLoad);\n    if (this.state.entryData.forEach === \"function\") {\n      this.state.entryData.forEach(\n        function(entry) {\n          this.props.removeCallback(entry.id);\n        }.bind(this)\n      );\n    }\n  }\n\n  componentDidUpdate = () => {\n    //This runs the watcher which handles the entity popup and link warning.\n    if (this.state.runWatcher === true) {\n      this.Watcher();\n    }\n  };\n\n  componentWillReceiveProps = () => {\n    //resets the watcher flag to false. This will only get set to true if a call for entries is made.\n    this.setState({ runWatcher: false });\n  };\n\n  updated = (_type, _message) => {\n    this.setState({\n      refreshing: true,\n      eventLoaded: false,\n      entryLoaded: false,\n      entityLoaded: false\n    });\n    let entryType = \"entry\";\n    if (this.props.type == \"alertgroup\") {\n      entryType = \"alert\";\n    }\n    //main type load\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n      success: function(result) {\n        if (this.state.isMounted) {\n          let eventResult = result;\n          this.setState({\n            headerData: eventResult,\n            showEventData: true,\n            eventLoaded: true,\n            isNotFound: false,\n            tagData: eventResult.tag,\n            sourceData: eventResult.source\n          });\n          if (\n            this.state.eventLoaded == true &&\n            this.state.entryLoaded == true &&\n            this.state.entityLoaded == true\n          ) {\n            this.setState({ refreshing: false });\n          }\n          if (this.props.type == \"alertgroup\" && eventResult.parsed === -1) {\n            this.setState({ flairing: true });\n          } else {\n            this.setState({ flairing: false });\n          }\n        }\n      }.bind(this),\n      error: function(result) {\n        this.setState({\n          showEventData: true,\n          eventLoaded: true,\n          isNotFound: true\n        });\n        if (\n          this.state.eventLoaded == true &&\n          this.state.entryLoaded == true &&\n          this.state.entityLoaded == true\n        ) {\n          this.setState({ refreshing: false });\n        }\n        this.props.errorToggle(\n          \"Error: Failed to reload detail data. Error message: \" +\n            result.responseText,\n          result\n        );\n      }.bind(this)\n    });\n    //entry load\n    $.ajax({\n      type: \"get\",\n      url:\n        \"scot/api/v2/\" +\n        this.props.type +\n        \"/\" +\n        this.props.id +\n        \"/\" +\n        entryType,\n      success: function(result) {\n        if (this.state.isMounted) {\n          let entryResult = result.records;\n          this.setState({\n            showEntryData: true,\n            entryLoaded: true,\n            entryData: entryResult,\n            runWatcher: true\n          });\n          this.Watcher();\n          if (\n            this.state.eventLoaded == true &&\n            this.state.entryLoaded == true &&\n            this.state.entityLoaded == true\n          ) {\n            this.setState({ refreshing: false });\n          }\n        }\n      }.bind(this),\n      error: function(result) {\n        this.setState({ showEntryData: true, entryLoaded: true });\n        if (\n          this.state.eventLoaded == true &&\n          this.state.entryLoaded == true &&\n          this.state.entityLoaded == true\n        ) {\n          this.setState({ refreshing: false });\n        }\n        this.props.errorToggle(\n          \"Error: Failed to reload entry data. Error message: \" +\n            result.responseText,\n          result\n        );\n      }\n    });\n    //entity load\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id + \"/entity\",\n      success: function(result) {\n        if (this.state.isMounted) {\n          let entityResult = result.records;\n          this.setState({\n            showEntityData: true,\n            entityLoaded: true,\n            entityData: entityResult\n          });\n          var waitForEntry = {\n            waitEntry: function() {\n              if (this.state.entryLoaded == false) {\n                setTimeout(waitForEntry.waitEntry, 50);\n              } else {\n                setTimeout(\n                  function() {\n                    AddFlair.entityUpdate(\n                      entityResult,\n                      this.flairToolbarToggle,\n                      this.props.type,\n                      this.linkWarningToggle,\n                      this.props.id\n                    );\n                  }.bind(this)\n                );\n                if (\n                  this.state.eventLoaded == true &&\n                  this.state.entryLoaded == true &&\n                  this.state.entityLoaded == true\n                ) {\n                  this.setState({ refreshing: false });\n                }\n              }\n            }.bind(this)\n          };\n          waitForEntry.waitEntry();\n        }\n      }.bind(this),\n      error: function(result) {\n        this.setState({ showEntityData: true });\n        if (\n          this.state.eventLoaded == true &&\n          this.state.entryLoaded == true &&\n          this.state.entityLoaded == true\n        ) {\n          this.setState({ refreshing: false });\n        }\n        this.props.errorToggle(\"Error: Failed to reload entity data.\", result);\n      }.bind(this)\n    });\n    //error popup if an error occurs\n    if (_type != undefined && _message != undefined) {\n      this.props.errorToggle(_message);\n    }\n  };\n\n  flairToolbarToggle = (id, value, type, entityoffset, entityobj) => {\n    this.setState({\n      flairToolbar: true,\n      entityid: id,\n      entityvalue: value,\n      entitytype: type,\n      entityoffset: entityoffset,\n      entityobj: entityobj\n    });\n  };\n\n  flairToolbarOff = () => {\n    if (this.state.isMounted) {\n      let newEntityDetailKey = this.state.entityDetailKey + 1;\n      this.setState({\n        flairToolbar: false,\n        entityDetailKey: newEntityDetailKey\n      });\n    }\n  };\n\n  linkWarningToggle = href => {\n    if (this.state.linkWarningToolbar === false) {\n      this.setState({ linkWarningToolbar: true, link: href });\n    } else {\n      this.setState({ linkWarningToolbar: false });\n    }\n  };\n\n  exportToggle = () => {\n    if (this.state.exportModal === false) {\n      this.setState({ exportModal: true });\n    } else {\n      this.setState({ exportModal: false });\n    }\n  };\n\n  viewedbyfunc = headerData => {\n    let viewedbyarr = [];\n    if (headerData !== null) {\n      for (let prop in headerData.view_history) {\n        viewedbyarr.push(prop);\n      }\n    }\n    return viewedbyarr;\n  };\n\n  entryToggle = () => {\n    if (this.state.entryToolbar === false) {\n      this.setState({ entryToolbar: true });\n    } else {\n      this.setState({ entryToolbar: false });\n    }\n  };\n\n  deleteToggle = (type, isDeleted) => {\n    if (this.state.deleteToolbar === false) {\n      this.setState({ deleteToolbar: true, deleteType: type });\n    } else {\n      this.setState({ deleteToolbar: false, deleteType: type });\n    }\n    if (isDeleted) {\n      this.setState({ isDeleted: true });\n    }\n  };\n\n  changeHistoryToggle = () => {\n    if (this.state.changeHistoryToolbar === false) {\n      this.setState({ changeHistoryToolbar: true });\n    } else {\n      this.setState({ changeHistoryToolbar: false });\n    }\n  };\n\n  viewedByHistoryToggle = () => {\n    if (this.state.viewedByHistoryToolbar === false) {\n      this.setState({ viewedByHistoryToolbar: true });\n    } else {\n      this.setState({ viewedByHistoryToolbar: false });\n    }\n  };\n\n  permissionsToggle = () => {\n    if (this.state.permissionsToolbar === false) {\n      this.setState({ permissionsToolbar: true });\n    } else {\n      this.setState({ permissionsToolbar: false });\n    }\n  };\n\n  entitiesToggle = () => {\n    if (this.state.entitiesToolbar === false) {\n      this.setState({ entitiesToolbar: true });\n    } else {\n      this.setState({ entitiesToolbar: false });\n    }\n  };\n\n  promoteToggle = () => {\n    if (this.state.promoteToolbar === false) {\n      this.setState({ promoteToolbar: true });\n    } else {\n      this.setState({ promoteToolbar: false });\n    }\n  };\n\n  fileUploadToggle = () => {\n    if (this.state.fileUploadToolbar === false) {\n      this.setState({ fileUploadToolbar: true });\n    } else {\n      this.setState({ fileUploadToolbar: false });\n    }\n  };\n\n  titleCase = string => {\n    let newstring = string.charAt(0).toUpperCase() + string.slice(1);\n    return newstring;\n  };\n\n  Watcher = () => {\n    $(\"iframe\").each(\n      function(index, ifr) {\n        //requestAnimationFrame waits for the frame to be rendered (allowing the iframe to fully render before excuting the next bit of code!!!\n        ifr.contentWindow.requestAnimationFrame(\n          function() {\n            if (ifr.contentDocument !== null) {\n              let arr = [];\n              //arr.push(this.props.type);\n              arr.push(this.checkFlairHover);\n              arr.push(this.checkHighlight);\n              $(ifr).off(\"mouseenter\");\n              $(ifr).off(\"mouseleave\");\n              $(ifr).on(\n                \"mouseenter\",\n                function(v, type) {\n                  let intervalID = setInterval(this[0], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                  let intervalID1 = setInterval(this[1], 50, ifr); // this.flairToolbarToggle, type, this.props.linkWarningToggle, this.props.id);\n                  $(ifr).data(\"intervalID\", intervalID);\n                  $(ifr).data(\"intervalID1\", intervalID1);\n                  console.log(\"Now watching iframe \" + intervalID);\n                }.bind(arr)\n              );\n              $(ifr).on(\"mouseleave\", function() {\n                let intervalID = $(ifr).data(\"intervalID\");\n                let intervalID1 = $(ifr).data(\"intervalID1\");\n                window.clearInterval(intervalID);\n                window.clearInterval(intervalID1);\n                console.log(\"No longer watching iframe \" + intervalID);\n              });\n            }\n          }.bind(this)\n        );\n      }.bind(this)\n    );\n    if (this.props.type == \"alertgroup\") {\n      $(\"#detail-container\")\n        .find(\"a, .entity\")\n        .not(\".not_selectable\")\n        .each(\n          function(index, tr) {\n            $(tr).off(\"mousedown\");\n            $(tr).on(\n              \"mousedown\",\n              function(index) {\n                let thing = index.target;\n                if ($(thing)[0].className == \"extras\") {\n                  thing = $(thing)[0].parentNode;\n                } //if an extra is clicked reference the parent element\n                if ($(thing).attr(\"url\")) {\n                  //link clicked\n                  let url = $(thing).attr(\"url\");\n                  this.linkWarningToggle(url);\n                } else {\n                  //entity clicked\n                  let entityid = $(thing).attr(\"data-entity-id\");\n                  let entityvalue = $(thing).attr(\"data-entity-value\");\n                  let entityoffset = $(thing).offset();\n                  let entityobj = $(thing);\n                  this.flairToolbarToggle(\n                    entityid,\n                    entityvalue,\n                    \"entity\",\n                    entityoffset,\n                    entityobj\n                  );\n                }\n              }.bind(this)\n            );\n          }.bind(this)\n        );\n    }\n  };\n\n  checkHighlight = ifr => {\n    let content;\n    if (ifr.contentWindow !== null) {\n      content = ifr.contentWindow.getSelection().toString();\n      if (this.state.highlightedText != content) {\n        //this only tells the lower components to run their componentWIllReceiveProps methods to check for highlighted text.\n        this.setState({ highlightedText: content });\n      } else {\n        return;\n      }\n    } else {\n    }\n  };\n\n  checkFlairHover = (ifr, nicktype) => {\n    function returnifr() {\n      return ifr;\n    }\n    if (ifr.contentDocument != null) {\n      $(ifr)\n        .contents()\n        .find(\".entity\")\n        .each(\n          function(index, entity) {\n            if ($(entity).css(\"background-color\") == \"rgb(255, 0, 0)\") {\n              $(entity).data(\"state\", \"down\");\n            } else if ($(entity).data(\"state\") == \"down\") {\n              $(entity).data(\"state\", \"up\");\n              let entityid = $(entity).attr(\"data-entity-id\");\n              let entityvalue = $(entity).attr(\"data-entity-value\");\n              let entityobj = $(entity);\n              let ifr = returnifr();\n              let entityoffset = {\n                top: $(entity).offset().top + $(ifr).offset().top,\n                left: $(entity).offset().left + $(ifr).offset().left\n              };\n              this.flairToolbarToggle(\n                entityid,\n                entityvalue,\n                \"entity\",\n                entityoffset,\n                entityobj\n              );\n            }\n          }.bind(this)\n        );\n      $(ifr)\n        .contents()\n        .find(\"a\")\n        .each(\n          function(index, a) {\n            if ($(a).css(\"color\") == \"rgb(255, 0, 0)\") {\n              $(a).data(\"state\", \"down\");\n            } else if ($(a).data(\"state\") == \"down\") {\n              $(a).data(\"state\", \"up\");\n              let url = $(a).attr(\"url\");\n              this.linkWarningToggle(url);\n            }\n          }.bind(this)\n        );\n    }\n  };\n\n  summaryUpdate = () => {\n    this.forceUpdate();\n  };\n\n  scrollTo = () => {\n    if (this.props.taskid !== undefined) {\n      $(\".entry-wrapper\").scrollTop(\n        $(\".entry-wrapper\").scrollTop() +\n          $(\"#iframe_\" + this.props.taskid).position().top -\n          30\n      );\n    }\n  };\n\n  guideRedirectToAlertListWithFilter = () => {\n    RegExp.escape = function(text) {\n      return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n    };\n    //column, string, clearall (bool), type\n    this.props.handleFilter(null, null, true, \"alertgroup\");\n    this.props.handleFilter(\n      [\n        {\n          id: \"subject\",\n          value: RegExp.escape(this.state.headerData.data.applies_to[0])\n        }\n      ],\n      null,\n      false,\n      \"alertgroup\"\n    );\n    window.open(\"#/alertgroup/\");\n  };\n\n  showSignatureOptionsToggle = () => {\n    if (this.state.showSignatureOptions === false) {\n      this.setState({ showSignatureOptions: true });\n    } else {\n      this.setState({ showSignatureOptions: false });\n    }\n  };\n  markModalToggle = () => {\n    if (this.state.showMarkModal === false) {\n      this.setState({ showMarkModal: true });\n    } else {\n      this.setState({ showMarkModal: false });\n    }\n  };\n\n  ToggleProcessingMessage = status => {\n    this.setState({ processing: status });\n    this.props.togglePreventClick();\n  };\n\n  linksModalToggle = () => {\n    let showLinksModal = !this.state.showLinksModal;\n    this.setState({ showLinksModal: showLinksModal });\n  };\n\n  toggleFlair = () => {\n    if (this.state.flairOff) {\n      this.setState({ flairOff: false, runWatcher: true });\n      setTimeout(\n        function() {\n          AddFlair.entityUpdate(\n            this.state.entityData,\n            this.flairToolbarToggle,\n            this.props.type,\n            this.linkWarningToggle,\n            this.props.id\n          );\n        }.bind(this)\n      );\n    } else {\n      this.setState({ flairOff: true });\n    }\n  };\n\n  //2019 new alert table stuff\n  checkSelection(rowid) {\n    if (this.state.alertsSelected.some(item => rowid === item.id)) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  handleSelection = row => {\n    console.log(\"Got selection click!\");\n    this.setState({\n      alertsSelected: [row]\n    });\n  };\n\n  handleMultiSelection = row => {\n    if (!this.checkSelection(row.id)) {\n      let temparray = [...this.state.alertsSelected, row];\n      this.setState({\n        alertsSelected: temparray\n      });\n    } else {\n      /** item already selected, lets filter out item (uncheck and reset state\n      with new array returned from filter**/\n      this.setState({\n        alertsSelected: this.state.alertsSelected.filter(function(alert) {\n          return alert[\"id\"] !== row.id;\n        })\n      });\n    }\n  };\n\n  handleSelectAll = data => {\n    const selection = data.map(object => object.id);\n    this.setState({\n      alertsSelected: selection\n    });\n  };\n\n  handleShiftSelect = (startIndex, endIndex, data) => {\n    if (startIndex > endIndex) {\n      startIndex = [endIndex, (endIndex = startIndex)][0];\n    }\n    let temparray = [];\n    data.forEach(\n      function(row) {\n        if (row.id <= endIndex && row.id >= startIndex) {\n          if (!this.checkSelection(row)) {\n            temparray.push(row);\n          }\n        }\n      }.bind(this)\n    );\n    this.setState({\n      alertsSelected: [...this.state.alertsSelected, ...temparray]\n    });\n  };\n\n  render() {\n    let headerData = this.state.headerData;\n    let viewedby = this.viewedbyfunc(headerData);\n    let type = this.props.type;\n    let subjectType = this.titleCase(this.props.type); //in signatures we're using the key \"name\"\n    let id = this.props.id;\n    let string = \"\";\n\n    if (this.state.headerData.subject) {\n      string = this.state.headerData.subject;\n    } else if (this.state.headerData.value) {\n      string = this.state.headerData.value;\n    } else if (this.state.headerData.name) {\n      string = this.state.headerData.name;\n    } else if (this.state.headerData.body) {\n      string = this.state.headerData.body;\n    }\n\n    return (\n      <div>\n        {\" \"}\n        {this.state.isNotFound ? (\n          <h1>No record found.</h1>\n        ) : (\n          <div>\n            <div id=\"header\">\n              <div id=\"NewEventInfo\" className=\"entry-header-info-null\">\n                <div\n                  className=\"details-subject\"\n                  style={{ display: \"inline-flex\", paddingLeft: \"5px\" }}\n                >\n                  {this.state.showEventData ? (\n                    <EntryDataSubject\n                      data={this.state.headerData}\n                      subjectType={subjectType}\n                      type={type}\n                      id={this.props.id}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  ) : null}\n                  {this.state.refreshing ? (\n                    <span style={{ color: \"lightblue\" }}>\n                      Refreshing Data...\n                    </span>\n                  ) : null}\n                  {this.state.loading ? (\n                    <span style={{ color: \"lightblue\" }}>Loading...</span>\n                  ) : null}\n                  {this.state.processing ? (\n                    <span style={{ color: \"lightblue\" }}>\n                      Processing Actions...\n                    </span>\n                  ) : null}\n                  {this.state.flairing ? (\n                    <span style={{ color: \"lightblue\" }}>Flairing...</span>\n                  ) : null}\n                </div>\n                {type !== \"entity\" ? (\n                  <div\n                    className=\"details-table toolbar\"\n                    style={{ display: \"flex\" }}\n                  >\n                    <table>\n                      <tbody>\n                        <tr>\n                          <th />\n                          <td>\n                            <div style={{ marginLeft: \"5px\" }}>\n                              {this.state.showEventData ? (\n                                <DetailDataStatus\n                                  data={this.state.headerData}\n                                  status={this.state.headerData.status}\n                                  id={id}\n                                  type={type}\n                                  errorToggle={this.props.errorToggle}\n                                />\n                              ) : null}\n                            </div>\n                          </td>\n                          {type !== \"entity\" ? <th>Owner: </th> : null}\n                          {type !== \"entity\" ? (\n                            <td>\n                              <span>\n                                {this.state.showEventData ? (\n                                  <Owner\n                                    key={id}\n                                    data={this.state.headerData.owner}\n                                    type={type}\n                                    id={id}\n                                    updated={this.updated}\n                                    errorToggle={this.props.errorToggle}\n                                  />\n                                ) : null}\n                              </span>\n                            </td>\n                          ) : null}\n                          {type !== \"entity\" ? <th>Updated: </th> : null}\n                          {type !== \"entity\" ? (\n                            <td>\n                              <span id=\"event_updated\">\n                                {this.state.showEventData ? (\n                                  <EntryDataUpdated\n                                    data={this.state.headerData.updated}\n                                  />\n                                ) : null}\n                              </span>\n                            </td>\n                          ) : null}\n                          {(type === \"event\" || type === \"incident\") &&\n                          this.state.showEventData &&\n                          this.state.headerData.promoted_from.length > 0 ? (\n                            <th>Promoted From:</th>\n                          ) : null}\n                          {(type === \"event\" || type === \"incident\") &&\n                          this.state.showEventData &&\n                          this.state.headerData.promoted_from.length > 0 ? (\n                            <PromotedData\n                              data={this.state.headerData.promoted_from}\n                              type={type}\n                              id={id}\n                            />\n                          ) : null}\n                          {type !== \"entity\" && this.state.showEventData ? (\n                            <Badge\n                              data={this.state.tagData}\n                              id={id}\n                              type={type}\n                              updated={this.updated}\n                              errorToggle={this.props.errorToggle}\n                              badgeType=\"tag\"\n                            />\n                          ) : null}\n                          {type !== \"entity\" && this.state.showEventData ? (\n                            <Badge\n                              data={this.state.sourceData}\n                              id={id}\n                              type={type}\n                              updated={this.updated}\n                              errorToggle={this.props.errorToggle}\n                              badgeType=\"source\"\n                            />\n                          ) : null}\n                        </tr>\n                      </tbody>\n                    </table>\n                    {/*<DetailHeaderMoreOptions type={type} id={id} data={this.state.headerData} errorToggle={this.props.errorToggle} showData={this.state.showEventData} />*/}\n                  </div>\n                ) : null}\n              </div>\n              <Notification ref=\"notificationSystem\" />\n              {this.state.exportModal ? (\n                <ExportModal\n                  type={type}\n                  errorToggle={this.props.errorToggle}\n                  exportToggle={this.exportToggle}\n                  id={id}\n                />\n              ) : null}\n              {this.state.linkWarningToolbar ? (\n                <LinkWarning\n                  linkWarningToggle={this.linkWarningToggle}\n                  link={this.state.link}\n                />\n              ) : null}\n              {this.state.viewedByHistoryToolbar ? (\n                <ViewedByHistory\n                  viewedByHistoryToggle={this.viewedByHistoryToggle}\n                  id={id}\n                  type={type}\n                  subjectType={subjectType}\n                  viewedby={viewedby}\n                  errorToggle={this.props.errorToggle}\n                />\n              ) : null}\n              {this.state.changeHistoryToolbar ? (\n                <ChangeHistory\n                  changeHistoryToggle={this.changeHistoryToggle}\n                  id={id}\n                  type={type}\n                  subjectType={subjectType}\n                  errorToggle={this.props.errorToggle}\n                />\n              ) : null}\n              {this.state.entitiesToolbar ? (\n                <Entities\n                  entitiesToggle={this.entitiesToggle}\n                  entityData={this.state.entityData}\n                  flairToolbarToggle={this.flairToolbarToggle}\n                  flairToolbarOff={this.flairToolbarOff}\n                />\n              ) : null}\n              {this.state.deleteToolbar ? (\n                <div>\n                  {this.state.deleteType !== \"alert\" ? (\n                    <DeleteThingComponent\n                      deleteType={this.state.deleteType}\n                      subjectType={subjectType}\n                      id={id}\n                      deleteToggle={this.deleteToggle}\n                      updated={this.updated}\n                      errorToggle={this.props.errorToggle}\n                      history={this.props.history}\n                      removeCallback={this.props.removeCallback}\n                    />\n                  ) : (\n                    <DeleteThingComponent\n                      deleteType={this.state.deleteType}\n                      type={type}\n                      deleteToggle={this.deleteToggle}\n                      updated={this.updated}\n                      errorToggle={this.props.errorToggle}\n                      history={this.props.history}\n                      alertsSelected={this.state.alertsSelected}\n                      removeCallback={this.props.removeCallback}\n                    />\n                  )}\n                </div>\n              ) : null}\n              {this.state.showMarkModal ? (\n                <Mark\n                  modalActive={true}\n                  type={type}\n                  id={id}\n                  string={string}\n                  errorToggle={this.props.errorToggle}\n                  markModalToggle={this.markModalToggle}\n                />\n              ) : null}\n              {this.state.showLinksModal ? (\n                <Links\n                  modalActive={true}\n                  type={type}\n                  id={id}\n                  errorToggle={this.props.errorToggle}\n                  linksModalToggle={this.linksModalToggle}\n                />\n              ) : null}\n              {this.state.showEventData ? (\n                <SelectedHeaderOptions\n                  type={type}\n                  subjectType={subjectType}\n                  id={id}\n                  entryData={this.state.entryData}\n                  headerData={this.state.headerData}\n                  status={this.state.headerData.status}\n                  promoteToggle={this.promoteToggle}\n                  permissionsToggle={this.permissionsToggle}\n                  entryToggle={this.entryToggle}\n                  entitiesToggle={this.entitiesToggle}\n                  changeHistoryToggle={this.changeHistoryToggle}\n                  viewedByHistoryToggle={this.viewedByHistoryToggle}\n                  exportToggle={this.exportToggle}\n                  deleteToggle={this.deleteToggle}\n                  updated={this.updated}\n                  flairToolbarToggle={this.flairToolbarToggle}\n                  flairToolbarOff={this.flairToolbarOff}\n                  sourceToggle={this.sourceToggle}\n                  subjectName={this.state.headerData.subject}\n                  fileUploadToggle={this.fileUploadToggle}\n                  fileUploadToolbar={this.state.fileUploadToolbar}\n                  guideRedirectToAlertListWithFilter={\n                    this.guideRedirectToAlertListWithFilter\n                  }\n                  showSignatureOptionsToggle={this.showSignatureOptionsToggle}\n                  markModalToggle={this.markModalToggle}\n                  linksModalToggle={this.linksModalToggle}\n                  ToggleProcessingMessage={this.ToggleProcessingMessage}\n                  errorToggle={this.props.errorToggle}\n                  toggleFlair={this.toggleFlair}\n                  alertsSelected={this.state.alertsSelected}\n                  guideID={this.state.guideID}\n                />\n              ) : null}\n              {this.state.permissionsToolbar ? (\n                <SelectedPermission\n                  updateid={id}\n                  id={id}\n                  type={type}\n                  permissionData={this.state.headerData}\n                  permissionsToggle={this.permissionsToggle}\n                  updated={this.updated}\n                  errorToggle={this.props.errorToggle}\n                />\n              ) : null}\n            </div>\n            {this.state.showEventData && type !== \"entity\" ? (\n              <SelectedEntry\n                id={id}\n                type={type}\n                entryToggle={this.entryToggle}\n                updated={this.updated}\n                entryData={this.state.entryData}\n                headerData={this.state.headerData}\n                showEntryData={this.state.showEntryData}\n                showEntityData={this.state.showEntityData}\n                summaryUpdate={this.summaryUpdate}\n                flairToolbarToggle={this.flairToolbarToggle}\n                flairToolbarOff={this.flairToolbarOff}\n                linkWarningToggle={this.linkWarningToggle}\n                entryToolbar={this.state.entryToolbar}\n                alertPreSelectedId={this.props.alertPreSelectedId}\n                errorToggle={this.props.errorToggle}\n                fileUploadToggle={this.fileUploadToggle}\n                fileUploadToolbar={this.state.fileUploadToolbar}\n                showSignatureOptions={this.state.showSignatureOptions}\n                flairOff={this.state.flairOff}\n                highlightedText={this.state.highlightedText}\n                form={this.props.form}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n                addFlair={AddFlair.entityUpdate}\n                handleSelection={this.handleSelection}\n                handleShiftSelect={this.handleShiftSelect}\n                handleMultiSelection={this.handleMultiSelection}\n                handleSelectAll={this.handleSelectAll}\n                alertsSelected={this.state.alertsSelected}\n              />\n            ) : null}\n            {this.state.showEventData && type === \"entity\" ? (\n              <EntityDetail\n                entityid={id}\n                form={this.props.form}\n                entitytype={\"entity\"}\n                id={id}\n                type={\"entity\"}\n                fullScreen={true}\n                errorToggle={this.props.errorToggle}\n                linkWarningToggle={this.linkWarningToggle}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            ) : null}\n            {this.state.flairToolbar ? (\n              <EntityDetail\n                key={this.state.entityDetailKey}\n                form={this.props.form}\n                flairToolbarToggle={this.flairToolbarToggle}\n                flairToolbarOff={this.flairToolbarOff}\n                linkWarningToggle={this.linkWarningToggle}\n                entityid={parseInt(this.state.entityid, 10)}\n                data={this.state.headerData}\n                entityvalue={this.state.entityvalue}\n                entitytype={this.state.entitytype}\n                type={this.props.type}\n                id={this.props.id}\n                errorToggle={this.props.errorToggle}\n                entityoffset={this.state.entityoffset}\n                watcher={this.Watcher}\n                entityobj={this.state.entityobj}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n              />\n            ) : null}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nclass EntryDataUpdated extends React.Component {\n  render() {\n    let data = this.props.data;\n    return (\n      <div>\n        <ReactTime value={data * 1000} format=\"MM/DD/YY hh:mm:ss a\" />\n      </div>\n    );\n  }\n}\n\nclass EntryDataSubject extends React.Component {\n  constructor(props) {\n    super(props);\n    let keyName = \"subject\";\n    let value = this.props.data.subject;\n    if (this.props.type === \"signature\") {\n      keyName = \"name\";\n      value = this.props.data.name;\n    } else if (this.props.type === \"entity\") {\n      keyName = \"value\";\n      value = this.props.data.value;\n    }\n    this.state = {\n      value: value,\n      width: \"\",\n      keyName: keyName\n    };\n  }\n\n  handleChange = event => {\n    if (event !== null) {\n      let keyName = this.state.keyName;\n      let json = { [keyName]: event.target.value };\n      let newValue = event.target.value;\n      $.ajax({\n        type: \"put\",\n        url: \"scot/api/v2/\" + this.props.type + \"/\" + this.props.id,\n        data: JSON.stringify(json),\n        contentType: \"application/json; charset=UTF-8\",\n        success: function(data) {\n          console.log(\"success: \" + data);\n          this.setState({ value: newValue });\n          this.calculateWidth(newValue);\n        }.bind(this),\n        error: function(result) {\n          this.props.errorToggle(\n            \"error: Failed to update the subject/name\",\n            result\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  componentDidMount() {\n    this.calculateWidth(this.state.value);\n  }\n\n  onChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleEnterKey = e => {\n    if (e.key === \"Enter\") {\n      this.handleChange(e);\n    }\n  };\n\n  calculateWidth = input => {\n    let newWidth;\n    $(\"#invisible\").html($(\"<span></span>\").text(input));\n    newWidth = $(\"#invisible\").width() + 25 + \"px\";\n    this.setState({ width: newWidth });\n  };\n\n  componentWillReceiveProps = nextProps => {\n    let value = nextProps.data.subject;\n    if (nextProps.type === \"signature\") {\n      value = nextProps.data.name;\n    } else if (nextProps.type === \"entity\") {\n      value = nextProps.data.value;\n    }\n    this.setState({ value: value });\n    this.calculateWidth(value);\n  };\n\n  render() {\n    //only disable the subject editor on an entity with a non-blank subject as editing it could damage flair.\n    let isDisabled = false;\n    if (this.props.type === \"entity\" && this.state.value !== \"\") {\n      isDisabled = true;\n    }\n    return (\n      <div>\n        {this.props.subjectType} {this.props.id}:{\" \"}\n        <input\n          type=\"text\"\n          value={this.state.value}\n          onKeyPress={this.handleEnterKey}\n          onChange={this.onChange}\n          onBlur={this.handleChange}\n          style={{ width: this.state.width, lineHeight: \"normal\" }}\n          className=\"detail-header-input\"\n          disabled={isDisabled}\n        />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactTable from \"react-table\";\nimport { buildTypeColumns } from \"./tableConfig\";\nimport $ from \"jquery\";\nimport * as Cookies from \"../utils/cookies\";\nimport listColumnsJSON from \"../utils/list-columns\";\nimport SelectedContainer from \"../detail/selected_container\";\nimport Button from \"react-bootstrap/lib/Button\";\nimport LoadingContainer from \"./LoadingContainer/index\";\nimport EntityCreateModal from \"../modal/entity_create\";\nlet datasource;\nlet listStartY;\nlet listStartHeight;\nlet listQuery;\n\nexport default class ListView extends React.Component {\n  constructor(props) {\n    super(props);\n    let type = this.props.type;\n    let id = this.props.id;\n    let queryType = this.props.type;\n    let alertPreSelectedId = null;\n    let scrollHeight = $(window).height() - 170 + \"px\";\n    let scrollWidth = \"650px\";\n    let showSelectedContainer = false;\n    let sort = [{ id: \"id\", desc: true }];\n    let activepage = { page: 0, limit: 50 };\n    let filter = [];\n\n    let columnsDisplay = listColumnsJSON.columnsDisplay[this.props.type];\n    let columns = listColumnsJSON.columns[this.props.type];\n    let columnsClassName = listColumnsJSON.columnsClassName[this.props.type];\n\n    if (this.props.listViewSort != null) {\n      sort = JSON.parse(this.props.listViewSort);\n    }\n\n    if (this.props.listViewPage != null) {\n      activepage = JSON.parse(this.props.listViewPage);\n    }\n\n    if (this.props.listViewFilter != null) {\n      filter = JSON.parse(this.props.listViewFilter);\n    }\n\n    if (this.props.type === \"alert\") {\n      showSelectedContainer = false;\n      typeCapitalized = \"Alertgroup\";\n      type = \"alertgroup\";\n      queryType = \"alertgroup\";\n      alertPreSelectedId = id;\n    }\n\n    if (this.props.type === \"task\") {\n      type = \"task\";\n      queryType = this.props.queryType;\n    }\n\n    let typeCapitalized = this.titleCase(this.props.type);\n    this.state = {\n      togglePreventClick: false,\n      splitter: true,\n      selectedColor: \"#AEDAFF\",\n      sourcetags: [],\n      tags: [],\n      startepoch: \"\",\n      endepoch: \"\",\n      idtext: \"\",\n      totalCount: 0,\n      activepage: activepage,\n      statustext: \"\",\n      subjecttext: \"\",\n      idsarray: [],\n      classname: [\" \", \" \", \" \", \" \"],\n      alldetail: true,\n      viewsarrow: [0, 0],\n      idarrow: [-1, -1],\n      subjectarrow: [0, 0],\n      statusarrow: [0, 0],\n      resize: \"horizontal\",\n      createdarrow: [0, 0],\n      sourcearrow: [0, 0],\n      tagsarrow: [0, 0],\n      viewstext: \"\",\n      entriestext: \"\",\n      scrollheight: scrollHeight,\n      display: \"flex\",\n      differentviews: \"\",\n      maxwidth: \"915px\",\n      maxheight: scrollHeight,\n      minwidth: \"650px\",\n      suggestiontags: [],\n      suggestionssource: [],\n      sourcetext: \"\",\n      tagstext: \"\",\n      scrollwidth: scrollWidth,\n      reload: false,\n      viewfilter: false,\n      viewevent: false,\n      showevent: true,\n      objectarray: [],\n      csv: true,\n      fsearch: \"\",\n      listViewOrientation: \"landscape-list-view\",\n      columns: listColumnsJSON.columns[this.props.type],\n      columnsDisplay: listColumnsJSON.columnsDisplay[this.props.type],\n      columnsClassName: listColumnsJSON.columnsClassName[this.props.type],\n      typeCapitalized: typeCapitalized,\n      type: type,\n      queryType: queryType,\n      id: id,\n      showSelectedContainer: showSelectedContainer,\n      listViewContainerDisplay: null,\n      viewMode: this.props.viewMode,\n      offset: 0,\n      sort: sort,\n      filter: filter,\n      match: null,\n      alertPreSelectedId: alertPreSelectedId,\n      entryid: this.props.id2,\n      listViewKey: 1,\n      loading: true,\n      initialAutoScrollToId: false,\n      manualScrollHeight: null,\n      showEntityCreateModal: false,\n      form: []\n    };\n    this.handleRowSelection = this.handleRowSelection.bind(this);\n  }\n\n  componentWillMount = () => {\n    if (\n      this.props.viewMode === undefined ||\n      this.props.viewMode === \"default\"\n    ) {\n      this.Landscape();\n    } else if (this.props.viewMode === \"landscape\") {\n      this.Landscape();\n    } else if (this.props.viewMode === \"portrait\") {\n      this.Portrait();\n    }\n    //If alert id is passed, convert the id to its alertgroup id.\n    if (this.props.id) {\n      this.ConvertAlertIdToAlertgroupId(this.props.id);\n    }\n\n    //if the type is entry, convert the id and type to the actual type and id\n    this.ConvertEntryIdToType(this.props.id);\n\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/form\",\n      success: function(data) {\n        this.setState({ form: data });\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"Failed to get form structure\", data);\n      }.bind(this)\n    });\n  };\n\n  componentDidMount = () => {\n    let height = this.state.scrollheight;\n    let sortBy = this.state.sort;\n    let filterBy = this.state.filter;\n    let pageLimit = this.state.activepage.limit;\n    let pageNumber = this.state.activepage.page;\n    let idsarray = [];\n    let newPage;\n    if (this.props.id !== undefined) {\n      if (this.props.id.length > 0) {\n        array = this.props.id;\n        //scrolled = $('.container-fluid2').scrollTop()\n        if (this.state.viewMode === \"landscape\") {\n          height = \"30vh\";\n        }\n      }\n    }\n\n    let array = [];\n    let finalarray = [];\n    //register for creation\n    let storeKey = this.props.type + \":listview\";\n    this.props.createCallback(storeKey, this.reloadactive);\n    // Store.storeKey(storeKey);\n    // Store.addChangeListener(this.reloadactive);\n    //List View code\n    let url = \"/scot/api/v2/\" + this.state.type;\n    if (this.props.type === \"alert\") {\n      url = \"/scot/api/v2/alertgroup\";\n    }\n\n    //get page number\n    newPage = pageNumber * pageLimit;\n    let data = { limit: pageLimit, offset: newPage };\n\n    //add sort to the data object\n    if (sortBy !== undefined || sortBy === null) {\n      let sortObj = {};\n      $.each(sortBy, function(key, value) {\n        let sortInt = -1;\n        if (!value.desc) {\n          sortInt = 1;\n        }\n        sortObj[value.id] = sortInt;\n      });\n      data[\"sort\"] = JSON.stringify(sortObj);\n    }\n\n    //add filter to the data object\n    if (sortBy !== undefined || sortBy === null) {\n      $.each(filterBy, function(key, value) {\n        if (value.id === \"source\" || value.id === \"tag\") {\n          let stringArr = [];\n          for (let each of value.value) {\n            stringArr.push(each.name);\n          }\n          data[value.id] = JSON.stringify(stringArr);\n        } else if (value.id === \"created\" || value.id === \"updated\") {\n          let arr = [];\n          arr.push(value.value.start);\n          arr.push(value.value.end);\n          data[value.id] = JSON.stringify(arr);\n        } else {\n          data[value.id] = JSON.stringify(value.value);\n        }\n      });\n    }\n\n    listQuery = $.ajax({\n      type: \"GET\",\n      url: url,\n      data: data,\n      traditional: true,\n      success: function(response) {\n        datasource = response;\n        $.each(\n          datasource.records,\n          function(key, value) {\n            finalarray[key] = {};\n            $.each(\n              value,\n              function(num, item) {\n                if (num === \"sources\" || num === \"source\") {\n                  if (item !== undefined) {\n                    let sourcearr = item.join(\", \");\n                    finalarray[key][\"source\"] = sourcearr;\n                  }\n                } else if (num === \"tags\" || num === \"tag\") {\n                  if (item !== undefined) {\n                    let tagarr = item.join(\", \");\n                    finalarray[key][\"tag\"] = tagarr;\n                  }\n                } else {\n                  finalarray[key][num] = item;\n                }\n                if (num === \"id\") {\n                  this.props.createCallback(item, this.reloadactive);\n                  idsarray.push(item);\n                }\n              }.bind(this)\n            );\n            if (key % 2 === 0) {\n              finalarray[key][\"classname\"] = \"table-row roweven\";\n            } else {\n              finalarray[key][\"classname\"] = \"table-row rowodd\";\n            }\n          }.bind(this)\n        );\n\n        let totalPages = this.getPages(response.totalRecordCount); //get pages for list view\n\n        this.setState({\n          scrollheight: height,\n          objectarray: finalarray,\n          totalCount: response.totalRecordCount,\n          loading: false,\n          idsarray: idsarray,\n          totalPages: totalPages\n        });\n        if (\n          this.props.type === \"alert\" &&\n          this.state.showSelectedContainer === false\n        ) {\n          this.setState({ showSelectedContainer: false });\n        } else if (this.state.id === undefined || this.state.id === null) {\n          this.setState({ showSelectedContainer: false });\n        } else {\n          this.setState({ showSelectedContainer: true });\n        }\n      }.bind(this),\n      error: function(data) {\n        if (!data.statusText === \"abort\") {\n          this.props.errorToggle(\"failed to get list data\", data);\n        }\n      }.bind(this)\n    });\n\n    $(\"#list-view-container\").keydown(this.keyNavigate);\n\n    $(document.body).keydown(\n      function(e) {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if ($(\"textarea\").is(\":focus\")) {\n          return;\n        }\n        if (e.keyCode === 70 && (e.ctrlKey !== true && e.metaKey !== true)) {\n          this.toggleView();\n        }\n      }.bind(this)\n    );\n  };\n\n  componentWillUnmount = () => {\n    document.removeEventListener(\"keydown\", this.keyNavigate);\n  };\n\n  togglePreventClick = () => {\n    this.setState({ preventClick: !this.state.preventClick });\n  };\n\n  keyNavigate = event => {\n    if (event.type !== \"click\") {\n      if (![\"j\", \"k\", \"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n        return;\n      }\n\n      let target = event.target || event.srcElement;\n      let targetType = target.tagName.toLowerCase();\n      if (targetType === \"input\" || targetType === \"textarea\") {\n        return;\n      }\n    }\n\n    let curRow = document.querySelector(\n      \".ReactTable .rt-tbody .rt-tr.selected\"\n    );\n    if (!curRow) {\n      return;\n    }\n    let nextRow = null;\n\n    switch (event.key) {\n      case \"j\":\n      case \"ArrowDown\":\n      default:\n        nextRow = curRow.parentElement.nextElementSibling;\n        break;\n      case \"k\":\n      case \"ArrowUp\":\n        nextRow = curRow.parentElement.previousElementSibling;\n        break;\n    }\n\n    if (!nextRow) {\n      return;\n    }\n    let nextId = nextRow.children[0].children[0].innerHTML;\n\n    this.props.history.push(`/${this.state.type}/${nextId}`);\n\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  //Callback for AMQ updates\n  reloadactive = () => {\n    this.getNewData();\n  };\n\n  ToggleCreateEntity = () => {\n    this.setState({ showEntityCreateModal: !this.state.showEntityCreateModal });\n  };\n\n  render = () => {\n    let listViewContainerHeight;\n    let showClearFilter = false;\n    let scrollheight = this.state.scrollheight;\n\n    if (this.state.listViewContainerDisplay == null) {\n      listViewContainerHeight = null;\n    } else {\n      listViewContainerHeight = \"0px\";\n    }\n\n    if (this.state.id != null && this.state.typeCapitalized != null) {\n      document.title =\n        this.state.typeCapitalized.charAt(0) + \"-\" + this.state.id;\n    }\n\n    if (\n      Cookies.checkCookie(\"listViewFilter\" + this.props.type) != null ||\n      Cookies.checkCookie(\"listViewSort\" + this.props.type) != null ||\n      Cookies.checkCookie(\"listViewPage\" + this.props.type) != null\n    ) {\n      showClearFilter = true;\n    }\n\n    let columns = buildTypeColumns(this.props.type, {}, {}, false);\n\n    return (\n      <div>\n        {this.state.type !== \"entry\" ? (\n          <div key={this.state.listViewKey} className=\"allComponents\">\n            <div className=\"black-border-line\">\n              <div className=\"mainview\">\n                <div>\n                  <div className=\"list-buttons\">\n                    {this.props.notificationSetting === \"on\" ? (\n                      <Button\n                        eventkey=\"1\"\n                        onClick={this.props.notificationToggle}\n                        bsSize=\"xsmall\"\n                      >\n                        Mute Notifications\n                      </Button>\n                    ) : (\n                      <Button\n                        eventkey=\"2\"\n                        onClick={this.props.notificationToggle}\n                        bsSize=\"xsmall\"\n                      >\n                        Turn On Notifications\n                      </Button>\n                    )}\n                    {this.props.type === \"event\" ||\n                    this.props.type === \"intel\" ||\n                    this.props.type === \"incident\" ||\n                    this.props.type === \"signature\" ||\n                    this.props.type === \"guide\" ||\n                    this.props.type === \"entity\" ? (\n                      <Button\n                        onClick={this.createNewThing}\n                        eventkey=\"6\"\n                        bsSize=\"xsmall\"\n                      >\n                        Create {this.state.typeCapitalized}\n                      </Button>\n                    ) : null}\n                    <Button\n                      eventkey=\"5\"\n                      bsSize=\"xsmall\"\n                      onClick={this.exportCSV}\n                    >\n                      Export to CSV\n                    </Button>\n                    <Button bsSize=\"xsmall\" onClick={this.toggleView}>\n                      Full Screen Toggle (f)\n                    </Button>\n                    {showClearFilter ? (\n                      <Button\n                        onClick={this.clearAll}\n                        eventkey=\"3\"\n                        bsSize=\"xsmall\"\n                        bsStyle={\"info\"}\n                      >\n                        Clear All Filters\n                      </Button>\n                    ) : null}\n                  </div>\n                  <div id=\"list-view-container\" tabIndex=\"1\">\n                    <div id=\"list-view\" tabIndex=\"2\">\n                      <ReactTable\n                        columns={columns}\n                        data={this.state.objectarray}\n                        style={{\n                          height: scrollheight\n                        }}\n                        page={this.state.activepage.page}\n                        pages={this.state.totalPages}\n                        defaultPageSize={50}\n                        onPageChange={this.handlePageChange}\n                        onPageSizeChange={this.handlePageSizeChange}\n                        pageSize={this.state.activepage.limit}\n                        onFilteredChange={this.handleFilter}\n                        filtered={this.state.filter}\n                        onSortedChange={this.handleSort}\n                        sorted={this.state.sort}\n                        manual={true}\n                        sortable={true}\n                        filterable={true}\n                        resizable={true}\n                        styleName=\"styles.ReactTable\"\n                        className=\"-striped -highlight\"\n                        minRows={0}\n                        LoadingComponent={this.CustomTableLoader}\n                        loading={this.state.loading}\n                        getTrProps={this.handleRowSelection}\n                      />\n                    </div>\n                  </div>\n                  <div\n                    onMouseDown={this.dragdiv}\n                    className=\"splitter\"\n                    style={{\n                      display: \"block\",\n                      height: \"5px\",\n                      backgroundColor: \"black\",\n                      borderTop: \"1px solid #AAA\",\n                      borderBottom: \"1px solid #AAA\",\n                      cursor: \"row-resize\",\n                      overflow: \"hidden\"\n                    }}\n                  />\n                  {this.state.showSelectedContainer ? (\n                    <SelectedContainer\n                      key={this.state.id}\n                      id={this.state.id}\n                      type={this.state.queryType}\n                      alertPreSelectedId={this.state.alertPreSelectedId}\n                      taskid={this.state.entryid}\n                      handleFilter={this.handleFilter}\n                      errorToggle={this.props.errorToggle}\n                      history={this.props.history}\n                      togglePreventClick={this.togglePreventClick}\n                      form={this.state.form}\n                      createCallback={this.props.createCallback}\n                      removeCallback={this.props.removeCallback}\n                      togglePreventClick={this.togglePreventClick}\n                    />\n                  ) : null}\n                  {this.state.showEntityCreateModal ? (\n                    <EntityCreateModal\n                      match={\"\"}\n                      modalActive={this.state.showEntityCreateModal}\n                      ToggleCreateEntity={this.ToggleCreateEntity}\n                      errorToggle={this.props.errorToggle}\n                    />\n                  ) : null}\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n\n  CustomTableLoader = () => {\n    return (\n      <div className={\"-loading\" + (this.state.loading ? \" -active\" : \"\")}>\n        <LoadingContainer loading={this.state.loading} />\n      </div>\n    );\n  };\n\n  AutoScrollToId = () => {\n    //auto scrolls to selected id\n    let row = document.querySelector(\".ReactTable .rt-tbody .rt-tr.selected\");\n    let tbody = document.querySelector(\".ReactTable .rt-tbody\");\n\n    if (!row) {\n      tbody.scrollTop = 0;\n      return;\n    }\n\n    if (\n      tbody.scrollTop + tbody.offsetHeight - row.offsetHeight < row.offsetTop ||\n      row.offsetTop < tbody.scrollTop\n    ) {\n      tbody.scrollTop =\n        row.offsetTop - tbody.offsetHeight / 2 + row.offsetHeight / 2;\n    }\n\n    this.setState({ initialAutoScrollToId: true });\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    //auto scrolls to selected id\n    for (let i = 0; i < this.state.objectarray.length; i++) {\n      //Iterate through all of the items in the list to verify that the current id still matches the rows in the list. If not, don't scroll\n      let idReference = this.state.objectarray[i].id;\n      if (\n        (this.state.id != null &&\n          this.state.id === idReference &&\n          this.state.id !== prevState.id) ||\n        (this.state.id != null &&\n          this.state.id === idReference &&\n          prevState.initialAutoScrollToId === false)\n      ) {\n        //Checks that the id is present, is on the screen, and will not be kicked off again if its already been scrolled to before. The || statement handles the initial load since the id hasn't been scrolled to before.\n        setTimeout(this.AutoScrollToId, 300);\n      }\n    }\n  };\n\n  componentWillReceiveProps = nextProps => {\n    if (nextProps.id === undefined) {\n      this.setState({\n        type: nextProps.type,\n        id: null,\n        showSelectedContainer: false,\n        scrollheight: $(window).height() - 170 + \"px\"\n      });\n    } else if (nextProps.id !== this.props.id) {\n      if (this.props.type === \"alert\") {\n        this.ConvertAlertIdToAlertgroupId(nextProps.id);\n        this.ConvertEntryIdToType(nextProps.id);\n        this.setState({\n          type: nextProps.type,\n          alertPreSelectedId: nextProps.id\n        });\n      } else if (this.props.type === \"task\") {\n        this.setState({\n          type: nextProps.type,\n          queryType: nextProps.queryType,\n          id: nextProps.id,\n          entryid: nextProps.id2\n        });\n      } else {\n        this.setState({ type: nextProps.type, id: nextProps.id });\n      }\n    }\n  };\n\n  ConvertAlertIdToAlertgroupId = id => {\n    //if the type is alert, convert the id to the alertgroup id\n    if (this.props.type === \"alert\") {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/alert/\" + id,\n        success: function(response1) {\n          let newresponse = response1;\n          this.setState({\n            id: newresponse.alertgroup,\n            showSelectedContainer: true\n          });\n        }.bind(this),\n        error: function(data) {\n          this.props.errorToggle(\n            \"failed to convert alert id to alertgroup id\",\n            data\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  ConvertEntryIdToType = id => {\n    //if the type is alert, convert the id to the alertgroup id\n    if (this.props.type === \"entry\") {\n      $.ajax({\n        type: \"get\",\n        url: \"scot/api/v2/entry/\" + id,\n        async: false,\n        success: function(response) {\n          this.selected(\n            response.target.type,\n            response.target.id,\n            this.props.id\n          );\n          //this.setState({id: response.target.id, type: response.target.type, showSelectedContainer:true});\n        }.bind(this),\n        error: function(data) {\n          this.props.errorToggle(\n            \"failed to convert alert id to alertgroup id\",\n            data\n          );\n        }.bind(this)\n      });\n    }\n  };\n\n  //This is used for the dragging portrait and landscape views\n  startdrag = e => {\n    $(\"iframe\").each(function(index, ifr) {\n      $(ifr).addClass(\"pointerEventsOff\");\n    });\n\n    this.setState({\n      manualScrollHeight: listStartHeight + e.clientY - listStartY + \"px\",\n      scrollheight: listStartHeight + e.clientY - listStartY + \"px\"\n    });\n  };\n\n  stopdrag = e => {\n    $(\"iframe\").each(function(index, ifr) {\n      $(ifr).removeClass(\"pointerEventsOff\");\n    });\n    document.onmousemove = null;\n  };\n\n  dragdiv = e => {\n    if (e.preventDefault) {\n      e.preventDefault();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n    let elem = document.getElementsByClassName(\"ReactTable\");\n    listStartY = e.clientY;\n    listStartHeight = parseInt(\n      document.defaultView.getComputedStyle(elem[0]).height,\n      10\n    );\n    document.onmousemove = this.startdrag;\n    document.onmouseup = this.stopdrag;\n  };\n\n  toggleView = () => {\n    if (\n      this.state.id.length !== 0 &&\n      this.state.showSelectedContainer === true &&\n      this.state.listViewContainerDisplay !== \"none\"\n    ) {\n      this.setState({ listViewContainerDisplay: \"none\", scrollheight: \"0px\" });\n    } else {\n      this.setState({ listViewContainerDisplay: null, scrollheight: \"30vh\" });\n    }\n  };\n\n  Portrait = () => {\n    document.onmousemove = null;\n    document.onmousedown = null;\n    document.onmouseup = null;\n    $(\".container-fluid2\").css(\"width\", \"650px\");\n    $(\".splitter\").css(\"width\", \"5px\");\n    $(\".mainview\").show();\n    let array = [];\n    array = [\"dates-small\", \"status-owner-small\", \"module-reporter-small\"];\n    this.setState({\n      splitter: true,\n      display: \"flex\",\n      alldetail: true,\n      scrollheight: $(window).height() - 170 + \"px\",\n      maxheight: $(window).height() - 170 + \"px\",\n      resize: \"horizontal\",\n      differentviews: \"\",\n      maxwidth: \"\",\n      minwidth: \"\",\n      scrollwidth: \"650px\",\n      sizearray: array\n    });\n    this.setState({ listViewOrientation: \"portrait-list-view\" });\n    Cookies.setCookie(\"viewMode\", \"portrait\", 1000);\n  };\n\n  Landscape = () => {\n    document.onmousemove = null;\n    document.onmousedown = null;\n    document.onmouseup = null;\n    $(\".splitter\").css(\"width\", \"100%\");\n    $(\".mainview\").show();\n    this.setState({\n      classname: [\" \", \" \", \" \", \" \"],\n      splitter: false,\n      display: \"block\",\n      maxheight: \"\",\n      alldetail: true,\n      differentviews: \"100%\",\n      scrollheight:\n        this.state.id != null ? \"300px\" : $(window).height() - 170 + \"px\",\n      maxwidth: \"\",\n      minwidth: \"\",\n      scrollwidth: \"100%\",\n      resize: \"vertical\"\n    });\n    this.setState({ listViewOrientation: \"landscape-list-view\" });\n    Cookies.setCookie(\"viewMode\", \"landscape\", 1000);\n  };\n\n  clearAll = () => {\n    let newListViewKey = this.state.listViewKey + 1;\n    this.setState({\n      listViewKey: newListViewKey,\n      activepage: { page: 0, limit: this.state.activepage.limit },\n      sort: [{ id: \"id\", desc: true }],\n      filter: []\n    });\n    this.getNewData({ page: 0 }, [{ id: \"id\", desc: true }], {});\n    Cookies.deleteCookie(\"listViewFilter\" + this.props.type); //clear filter cookie\n    Cookies.deleteCookie(\"listViewSort\" + this.props.type); //clear sort cookie\n    Cookies.deleteCookie(\"listViewPage\" + this.props.type); //clear page cookie\n  };\n\n  selected = (type, rowid, subid, taskid) => {\n    let scrollheight;\n    if (taskid == null && subid == null) {\n      //window.history.pushState('Page', 'SCOT', '/#/' + type +'/'+rowid)\n      this.props.history.push(\"/\" + type + \"/\" + rowid);\n    } else if (taskid == null && subid != null) {\n      this.props.history.push(\"/\" + type + \"/\" + rowid + \"/\" + subid);\n    } else {\n      //If a task, swap the rowid and the taskid\n      //window.history.pushState('Page', 'SCOT', '/#/' + type + '/' + taskid + '/' + rowid)\n      this.props.history.push(\"/\" + type + \"/\" + taskid + \"/\" + rowid + \"/\");\n    }\n\n    if (this.state.display === \"block\") {\n      scrollheight = \"30vh\";\n    }\n\n    this.setState({\n      alertPreSelectedId: 0,\n      scrollheight: scrollheight,\n      showSelectedContainer: true\n    });\n  };\n\n  getNewData = (page, sort, filter) => {\n    this.setState({ loading: true }); //display loading opacity\n    let sortBy = sort;\n    let filterBy = filter;\n    let pageLimit;\n    let pageNumber;\n    let idsarray = this.state.idsarray;\n    let newidsarray = [];\n\n    //if the type is alert, convert the id to the alertgroup id\n    this.ConvertAlertIdToAlertgroupId(this.props.id);\n\n    //if the type is entry, convert the id and type to the actual type and id\n    this.ConvertEntryIdToType(this.props.id);\n\n    //defaultpage = page.page\n    if (page == undefined) {\n      pageNumber = this.state.activepage.page;\n      pageLimit = this.state.activepage.limit;\n    } else {\n      if (page.page == undefined) {\n        pageNumber = this.state.activepage.page;\n      } else {\n        pageNumber = page.page;\n      }\n      if (page.limit == undefined) {\n        pageLimit = this.state.activepage.limit;\n      } else {\n        pageLimit = page.limit;\n      }\n    }\n    let newPage;\n    newPage = pageNumber * pageLimit;\n    //sort check\n    if (sortBy == undefined) {\n      sortBy = this.state.sort;\n    }\n    //filter check\n    if (filterBy == undefined) {\n      filterBy = this.state.filter;\n    }\n    let data = { limit: pageLimit, offset: newPage };\n\n    //add sort to the data object\n    if (sortBy != undefined) {\n      let sortObj = {};\n      $.each(sortBy, function(key, value) {\n        let sortInt = -1;\n        if (!value.desc) {\n          sortInt = 1;\n        }\n        sortObj[value.id] = sortInt;\n      });\n      data[\"sort\"] = JSON.stringify(sortObj);\n    }\n\n    //add filter to the data object\n    if (filterBy != undefined) {\n      $.each(filterBy, function(key, value) {\n        if (value.id == \"source\" || value.id == \"tag\") {\n          let stringArr = [];\n          for (let each of value.value) {\n            stringArr.push(each.name);\n          }\n          data[value.id] = JSON.stringify(stringArr);\n        } else if (\n          value.id == \"created\" ||\n          value.id == \"updated\" ||\n          value.id == \"occurred\"\n        ) {\n          let arr = [];\n          arr.push(value.value.start);\n          arr.push(value.value.end);\n          data[value.id] = JSON.stringify(arr);\n        } else {\n          data[value.id] = JSON.stringify(value.value);\n        }\n      });\n    }\n\n    let newarray = [];\n\n    //Update 5/17/18 - removed below check as it was breaking clicking on an alert in alert group, closing alert and then immediately switching to a new alert group would cancel ajax call and majorly lag network traffic\n    if (this.state.loading == true) {\n      listQuery.abort();\n    }\n    listQuery = $.ajax({\n      type: \"GET\",\n      url: \"/scot/api/v2/\" + this.state.type,\n      data: data,\n      traditional: true,\n      success: function(response) {\n        datasource = response;\n        $.each(\n          datasource.records,\n          function(key, value) {\n            newarray[key] = {};\n            $.each(\n              value,\n              function(num, item) {\n                if (num == \"sources\" || num == \"source\") {\n                  if (item != undefined) {\n                    let sourcearr = item.join(\", \");\n                    newarray[key][\"source\"] = sourcearr;\n                  }\n                } else if (num == \"tags\" || num == \"tag\") {\n                  if (item != undefined) {\n                    let tagarr = item.join(\", \");\n                    newarray[key][\"tag\"] = tagarr;\n                  }\n                } else {\n                  newarray[key][num] = item;\n                }\n                if (num == \"id\") {\n                  this.props.createCallback(item, this.reloadactive);\n                  newidsarray.push(item);\n                }\n              }.bind(this)\n            );\n            if (key % 2 == 0) {\n              newarray[key][\"classname\"] = \"table-row roweven\";\n            } else {\n              newarray[key][\"classname\"] = \"table-row rowodd\";\n            }\n          }.bind(this)\n        );\n\n        let totalPages = this.getPages(response.totalRecordCount); //get pages for list view\n\n        this.setState({\n          totalCount: response.totalRecordCount,\n          activepage: { page: pageNumber, limit: pageLimit },\n          objectarray: newarray,\n          loading: false,\n          idsarray: newidsarray,\n          totalPages: totalPages\n        });\n      }.bind(this),\n      error: function(data) {\n        if (!data.statusText == \"abort\") {\n          this.props.errorToggle(\"failed to get list data\", data);\n        }\n      }.bind(this)\n    });\n  };\n\n  exportCSV = () => {\n    let keys = [];\n    let columns = this.state.columns;\n    $.each(columns, function(key, value) {\n      keys.push(value);\n    });\n    let csv = \"\";\n    $(\".rt-tbody\")\n      .find(\".rt-tr\")\n      .each(function(key, value) {\n        let storearray = [];\n        $(value)\n          .find(\".rt-td\")\n          .each(function(x, y) {\n            let obj = $(y).text();\n            obj = obj.replace(/,/g, \"|\");\n            storearray.push(obj);\n          });\n        csv += storearray.join() + \"\\n\";\n      });\n    let result = keys.join() + \"\\n\";\n    csv = result + csv;\n    let data_uri = \"data:text/csv;charset=utf-8,\" + encodeURIComponent(csv);\n    window.open(data_uri);\n  };\n\n  handleSort = (sortArr, clearall) => {\n    let newSortArr = [];\n\n    if (clearall === true) {\n      this.setState({ sort: [{ id: \"id\", desc: true }] });\n    } else {\n      for (let sortEach of sortArr) {\n        if (sortEach.id) {\n          newSortArr.push(sortEach);\n        }\n      }\n    }\n\n    this.setState({ sort: newSortArr });\n    this.getNewData(null, newSortArr, null);\n    let cookieName = \"listViewSort\" + this.props.type;\n    Cookies.setCookie(cookieName, JSON.stringify(newSortArr), 1000);\n  };\n\n  handleFilter = (filterObj, string, clearall, type) => {\n    let newFilterArr = [];\n    let _type = this.props.type;\n\n    if (type !== undefined) {\n      _type = type;\n    }\n\n    if (clearall === true) {\n      this.setState({ filter: newFilterArr });\n      return;\n    } else {\n      for (let filterEach of filterObj) {\n        if (filterEach.id) {\n          newFilterArr.push(filterEach);\n        }\n      }\n\n      this.setState({ filter: newFilterArr });\n\n      if (type === this.props.type || type === undefined) {\n        //Check if the type passed in matches the type displayed. If not, it's updating the filter for a future query in a different type. Undefined implies its the same type, so update\n        this.getNewData({ page: 0 }, null, newFilterArr);\n      }\n\n      let cookieName = \"listViewFilter\" + _type;\n      Cookies.setCookie(cookieName, JSON.stringify(newFilterArr), 1000);\n    }\n  };\n\n  titleCase = string => {\n    let newstring = string.charAt(0).toUpperCase() + string.slice(1);\n    return newstring;\n  };\n\n  createNewThing = () => {\n    let data;\n\n    if (this.props.type === \"signature\") {\n      data = JSON.stringify({\n        name: \"Name your Signature\",\n        status: \"disabled\"\n      });\n    } else if (this.props.type === \"guide\") {\n      data = JSON.stringify({\n        subject: \"ENTER A GUIDE NAME\",\n        applies_to: [\"documentation\"]\n      });\n    } else if (this.props.type === \"entity\") {\n      this.ToggleCreateEntity();\n      return;\n    } else {\n      data = JSON.stringify({ subject: \"No Subject\" });\n    }\n\n    $.ajax({\n      type: \"POST\",\n      url: \"/scot/api/v2/\" + this.props.type,\n      data: data,\n      success: function(response) {\n        this.selected(this.props.type, response.id);\n      }.bind(this),\n      error: function(data) {\n        this.props.errorToggle(\"failed to create new thing\", data);\n      }.bind(this)\n    });\n  };\n\n  handlePageChange = pageIndex => {\n    this.getNewData({ page: pageIndex });\n    let cookieName = \"listViewPage\" + this.props.type;\n    Cookies.setCookie(\n      cookieName,\n      JSON.stringify({ page: pageIndex, limit: this.state.activepage.limit })\n    );\n  };\n\n  handlePageSizeChange = (pageSize, pageIndex) => {\n    this.getNewData({ limit: pageSize, page: pageIndex });\n    let cookieName = \"listViewPage\" + this.props.type;\n    Cookies.setCookie(\n      cookieName,\n      JSON.stringify({ page: pageIndex, limit: pageSize })\n    );\n  };\n\n  getPages = count => {\n    let totalPages = Math.ceil((count || 1) / this.state.activepage.limit);\n    return totalPages;\n  };\n\n  handleRowSelection(state, rowInfo, column, instance) {\n    return {\n      onClick: event => {\n        if (this.state.preventClick !== true) {\n          if (this.state.id === rowInfo.row.id) {\n            return;\n          }\n          let scrollheight = this.state.scrollheight;\n          if (this.state.display == \"block\") {\n            scrollheight = \"30vh\";\n          }\n          if (this.state.type === \"task\") {\n            this.props.history.push(\n              \"/task/\" +\n                rowInfo.row.target_type +\n                \"/\" +\n                rowInfo.row.target_id +\n                \"/\" +\n                rowInfo.row.id\n            );\n          } else {\n            this.props.history.push(\n              \"/\" + this.state.type + \"/\" + rowInfo.row.id\n            );\n          }\n          this.setState({\n            alertPreSelectedId: 0,\n            scrollheight: scrollheight,\n            showSelectedContainer: true\n          });\n          return;\n        } else {\n          this.props.errorToggle(\n            \"Currently processing action(s). Please wait.\"\n          );\n        }\n      },\n      className: rowInfo.row.id === parseInt(this.props.id) ? \"selected\" : null\n    };\n  }\n}\n","import $ from \"jquery\";\nimport React, { Component } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport AddEntry from \"../components/add_entry.js\";\n\nexport default class ExportModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showEditor: false,\n      data: null,\n      responseSuccess: false,\n      emailField: []\n    };\n  }\n\n  componentWillMount() {\n    this.getData();\n  }\n\n  onBlur = event => {\n    let v = event.target.value;\n    if (v === \"\") {\n      return;\n    }\n    let emailArray = v.split(/[ ,]+/);\n    this.setState({ emailField: emailArray });\n  };\n\n  getData = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/prepexport/\" + this.props.type + \"/\" + this.props.id,\n      success: function(response) {\n        this.setState({ data: response });\n        this.setState({ leaveCatch: false, showEditor: true });\n      }.bind(this),\n      error: function(response) {\n        this.props.errorToggle(\n          \"Failed to get export data from server!\",\n          response\n        );\n      }.bind(this)\n    });\n  };\n\n  exportResponse = response => {\n    if (response === \"success\") {\n      this.setState({ showEditor: false, responseSuccess: true });\n    }\n  };\n\n  render() {\n    let disabled = false;\n    if (this.state.responseSuccess) {\n      disabled = true;\n    }\n    return (\n      <div>\n        <Modal\n          dialogClassName=\"links-modal\"\n          show={true}\n          onHide={this.props.exportToggle}\n        >\n          <Modal.Header closeButton={true}>\n            <Modal.Title>\n              Export {this.props.type} {this.props.id}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <label htmlFor=\"exampleInputEmail1\">Email addresses</label>\n              <input\n                type=\"email\"\n                className=\"form-control\"\n                id=\"email\"\n                aria-describedby=\"emailHelp\"\n                onBlur={this.onBlur}\n                placeholder=\"Enter emails (comma-separated)\"\n                disabled={disabled}\n              />\n            </div>\n            <br />\n            {this.state.showEditor ? (\n              <AddEntry\n                entryAction={\"Export\"}\n                exportResponse={this.exportResponse}\n                type={this.props.type}\n                targetid={this.props.id}\n                id={\"add_entry\"}\n                recipients={this.state.emailField}\n                addedentry={this.props.exportToggle}\n                content={this.state.data}\n                errorToggle={this.props.errorToggle}\n              />\n            ) : null}\n            {!this.state.showEditor && this.state.responseSuccess ? (\n              <PostResponse />\n            ) : null}\n            {!this.state.showEditor && !this.state.responseSuccess ? (\n              <i className=\"fa fa-spinner fa-spin fa-2x\" aria-hidden=\"true\" />\n            ) : null}\n          </Modal.Body>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nclass PostResponse extends Component {\n  render() {\n    return (\n      <div>\n        <i\n          className=\"fa fa-check\"\n          aria-hidden=\"true\"\n          style={{ color: \"green\" }}\n        />{\" \"}\n        Export Successful!\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Modal from \"react-modal\";\nimport { Link } from \"react-router-dom\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\"\n  }\n};\n\nclass PromotedData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showAllPromotedDataToolbar: false\n    };\n\n    this.showAllPromotedDataToggle = this.showAllPromotedDataToggle.bind(this);\n  }\n\n  showAllPromotedDataToggle() {\n    if (this.state.showAllPromotedDataToolbar === false) {\n      this.setState({ showAllPromotedDataToolbar: true });\n    } else {\n      this.setState({ showAllPromotedDataToolbar: false });\n    }\n  }\n\n  render() {\n    let promotedFromType = null;\n    let fullarr = [];\n    let shortarr = [];\n    let shortforlength = 3;\n    if (this.props.type === \"event\") {\n      promotedFromType = \"alert\";\n    } else if (this.props.type === \"incident\") {\n      promotedFromType = \"event\";\n    }\n    //makes large array for modal\n    for (let i = 0; i < this.props.data.length; i++) {\n      if (i > 0) {\n        fullarr.push(<span> , </span>);\n      }\n      let link = \"/\" + promotedFromType + \"/\" + this.props.data[i];\n      fullarr.push(\n        <span key={this.props.data[i]}>\n          <Link to={link}>{this.props.data[i]}</Link>\n        </span>\n      );\n    }\n    //makes small array for quick display in header\n    if (this.props.data.length < 3) {\n      shortforlength = this.props.data.length;\n    }\n    for (let i = 0; i < shortforlength; i++) {\n      if (i > 0) {\n        shortarr.push(<div> , </div>);\n      }\n      let link = \"/\" + promotedFromType + \"/\" + this.props.data[i];\n      shortarr.push(\n        <div key={this.props.data[i]}>\n          <Link to={link}>{this.props.data[i]}</Link>\n        </div>\n      );\n    }\n    if (this.props.data.length > 3) {\n      shortarr.push(\n        <div onClick={this.showAllPromotedDataToggle}>\n          ,<a href=\"javascript:;\">...more</a>\n        </div>\n      );\n    }\n    return (\n      <td>\n        <span id=\"promoted_from\" style={{ display: \"flex\" }}>\n          {shortarr}\n        </span>\n        {this.state.showAllPromotedDataToolbar ? (\n          <Modal\n            isOpen={true}\n            onRequestClose={this.showAllPromotedDataToggle}\n            style={customStyles}\n          >\n            <div className=\"modal-header\">\n              <img\n                src=\"images/close_toolbar.png\"\n                className=\"close_toolbar\"\n                alt=\"\"\n                onClick={this.showAllPromotedDataToggle}\n              />\n              <h3 id=\"myModalLabel\">Promoted From</h3>\n            </div>\n            <div className=\"modal-body promoted-from-full\">{fullarr}</div>\n            <div className=\"modal-footer\">\n              <Button\n                id=\"cancel-modal\"\n                onClick={this.showAllPromotedDataToggle}\n              >\n                Close\n              </Button>\n            </div>\n          </Modal>\n        ) : null}\n      </td>\n    );\n  }\n}\n\nexport default PromotedData;\n","import React from \"react\";\nimport $ from \"jquery\";\nimport SelectedHeader from \"./selected_header\"\n\nexport default class SelectedContainer extends React.Component {\n    render = () => {\n        let datarows = [];\n        datarows.push(\n            <SelectedHeader\n                key={this.props.id}\n                id={this.props.id}\n                type={this.props.type}\n                toggleEventDisplay={this.props.viewEvent}\n                taskid={this.props.taskid}\n                alertPreSelectedId={this.props.alertPreSelectedId}\n                handleFilter={this.props.handleFilter}\n                errorToggle={this.props.errorToggle}\n                history={this.props.history}\n                form={this.props.form}\n                createCallback={this.props.createCallback}\n                removeCallback={this.props.removeCallback}\n                togglePreventClick={this.props.togglePreventClick}\n            />\n        );\n        let width = \"100%\";\n        if ($(\"#list-view\")[0] !== undefined) {\n            width = \"calc(100% - \" + $(\"#list-view\").width() + \"px)\";\n        }\n        return (\n            <div\n                id=\"main-detail-container\"\n                className=\"entry-container\"\n                style={{ width: width, position: \"relative\" }}\n                tabIndex=\"3\"\n            >\n                {datarows}\n            </div>\n        );\n    };\n}\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport TextField from '@material-ui/core/TextField'\nimport { Person, Group } from '@material-ui/icons'\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport axios from 'axios'\nimport Typography from '@material-ui/core/Typography';\nimport { withSnackbar } from 'notistack';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\n\n\nconst styles = theme => ({\n  textField: {\n    marginLeft: '-8px',\n    marginRight: theme.spacing.unit,\n  },\n  root: {\n    width: '100%',\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper,\n  },\n  textInput: {\n    backgroundColor: 'white',\n    color: 'black'\n  }\n});\n\nconst initstate = {\n  // ischecked: false,\n  username: \"\",\n  fullname: \"\",\n  password: \"\",\n  description: \"\",\n  name: \"\",\n  id: null,\n  suggestions: [],\n  groups: [],\n  active: 0,\n}\n\n\nclass UserGroupFormComponent extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = initstate;\n  }\n\n\n  componentDidMount() {\n    this.formatGroups();\n    if (this.props.editObject) {\n      if (this.props.type === 'user') {\n        this.setState(\n          {\n            username: this.props.editObject.username,\n            fullname: this.props.editObject.fullname,\n            password: this.props.editObject.password,\n            id: this.props.editObject.id,\n            active: this.props.editObject.active,\n            groups: this.props.editObject.groups\n          }\n        )\n      }\n      else if (this.props.type === 'group') {\n        this.setState(\n          {\n            name: this.props.editObject.name,\n            description: this.props.editObject.description,\n            id: this.props.editObject.id,\n          }\n        )\n      }\n    }\n  }\n\n  formatGroups = () => {\n    if (this.props.groups.length > 0) {\n      let allgroups = [];\n      this.props.groups.forEach(function (element) {\n        let group = {};\n        group['id'] = element.name\n        group['text'] = element.name;\n        allgroups.push(group)\n      });\n      this.setState({ suggestions: allgroups })\n    }\n  }\n\n\n  resetState = () => {\n    this.setState(initstate)\n  }\n\n  checkBlankInputs = (type) => {\n    let bool = false;\n    if (type === 'user') {\n      if (this.state.username !== '' && this.state.fullname !== '' && this.state.password !== '') {\n        bool = true;\n      }\n    } else {\n      if (this.state.name !== '' && this.state.description !== '') {\n        bool = true\n      }\n    }\n    return bool\n  }\n\n  buildDataObj = (type) => {\n    let obj = {}\n    if (type === 'user') {\n      obj['username'] = this.state.username;\n      obj['fullname'] = this.state.fullname;\n      obj['password'] = this.state.password;\n      obj['groups'] = this.state.groups\n      obj['active'] = this.state.active ? 1 : 0\n    } else if (type === 'group') {\n      obj['name'] = this.state.name;\n\n      obj['description'] = this.state.description\n    }\n    return obj\n  }\n\n  handleGroups = (groups) => {\n    const { enqueueSnackbar, type } = this.props;\n    if (groups.length > 0) {\n      let newgroups = [];\n      groups.forEach(function (element) {\n        newgroups.push(element.id)\n      })\n      this.setState({ groups: newgroups });\n    } else {\n      enqueueSnackbar(`Error handling groups  ${type}`, { variant: 'error' });\n    }\n  }\n\n\n  handlePUT = () => {\n    const { enqueueSnackbar, type } = this.props;\n    let obj = this.buildDataObj(type);\n    if (this.checkBlankInputs(type)) {\n      axios.put(`/scot/api/v2/${type}/${this.state.id}`, obj)\n        .then(function (response) {\n          enqueueSnackbar(`Successfully updated ${type}.`, { variant: 'success' })\n          this.resetState();\n          this.props.fetchData(type)\n          this.props.handleClose();\n        }.bind(this))\n        .catch(function (error) {\n          // handle error\n          enqueueSnackbar(`Failed updating ${type}`, { variant: 'error' });\n        });\n    }\n  }\n\n  handlePOST = () => {\n    const { enqueueSnackbar, type } = this.props;\n    let obj = this.buildDataObj(type);\n    if (this.checkBlankInputs(type)) {\n      axios.post(`/scot/api/v2/${type}/`, obj)\n        .then(function (response) {\n          console.log(response);\n          enqueueSnackbar(`Successfully added ${type}.`, { variant: 'success' })\n          this.resetState();\n          this.props.fetchData(type)\n          this.props.handleClose();\n        }.bind(this))\n        .catch(function (error) {\n          // handle error\n          enqueueSnackbar(`Failed creating ${type}`, { variant: 'error' });\n          console.log(error);\n        });\n    }\n  }\n\n  handleChange = (event, value) => {\n    if (event.nativeEvent.type === 'input') {\n      let newval = event.target.value;\n      this.setState({ [event.target.id]: newval })\n    } else if (event.nativeEvent.type === 'click') {\n      if (event.target.type === 'checkbox') {\n        this.setState({ [event.target.value]: value })\n      }\n    } else {\n      this.setState({ [event.target.name]: value.props.value })\n    }\n  };\n\n\n  render() {\n    const { classes, onClose, selectedValue, type, ...other } = this.props;\n\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            {this.props.editObject ?\n              <Typography variant=\"h5\" component=\"h2\">Edit {this.props.type} <b>{this.props.editObject.username} </b></Typography> :\n              <Typography variant=\"h5\" component=\"h2\">Create {this.props.type} </Typography>\n            }\n            {this.props.type === 'group' ?\n              <div>\n                <TextField\n                  id=\"name\"\n                  label=\"Group Name\"\n                  value={this.state.name}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter name of group\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                />\n                <br />\n                <TextField\n                  id=\"description\"\n                  label=\"Description\"\n                  value={this.state.description}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter description for group\"\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n\n                  fullWidth\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                />\n              </div>\n              :\n              <div>\n                <TextField\n                  id=\"username\"\n                  label=\"Username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Enter a valid username\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                /><br />\n                <TextField\n                  id=\"fullname\"\n                  label=\"Full Name\"\n                  value={this.state.fullname}\n                  onChange={this.handleChange}\n                  variant=\"outlined\"\n                  helperText=\"Provide your full name\"\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                /><br />\n                <TextField\n                  id=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  autoComplete=\"current-password\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  helperText=\"Enter a valid password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                  fullWidth\n                  InputLabelProps={{\n                    shrink: true,\n                  }}\n                  style={{ marginTop: 8, marginBottom: 8 }}\n                />\n                <br />\n                <FormControlLabel\n                  control={\n                    <Switch\n                      checked={this.state.active}\n                      onChange={this.handleChange}\n                      value=\"active\"\n                    />\n                  }\n                  label=\"Active?\"\n                />\n                <br />\n                <b>Groups</b>\n                <GroupSelection editObject={this.props.editObject} handleGroups={this.handleGroups} id={this.state.id} suggestions={this.state.suggestions} />\n                <br />\n              </div>\n            }\n            <br />\n          </CardContent>\n          <CardActions>\n            {this.props.editObject ?\n              <div style={{ marginLeft: 350, marginBottom: 5 }}>\n                <Button style={{ marginRight: 5 }} variant=\"contained\" onClick={this.props.handleClose} className={classes.button}>\n                  Cancel\n              </Button>\n                <Button variant=\"contained\" color=\"secondary\" onClick={this.handlePUT} className={classes.button}>\n                  Submit\n              </Button>\n              </div> :\n              <div style={{ marginLeft: 350, marginBottom: 5 }}>\n                <Button style={{ marginRight: 5 }} variant=\"contained\" onClick={this.props.handleClose} className={classes.button}>\n                  Cancel\n              </Button>\n                <Button variant=\"contained\" color=\"secondary\" onClick={this.handlePOST} className={classes.button}>\n                  Submit\n                </Button>\n              </div>\n            }\n          </CardActions>\n        </Card>\n      </div>\n    );\n  }\n}\n\n\nclass GroupSelectionComponent extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      groups: [],\n    };\n\n  }\n\n  componentDidMount() {\n    if (this.props.editObject) {\n      let usersgroups = [];\n      this.props.editObject.groups.forEach(function (element) {\n        let group = {};\n        group['id'] = element\n        group['text'] = element;\n        usersgroups.push(group)\n      })\n      this.setState({ groups: usersgroups });\n    }\n\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state !== nextState) {\n      this.props.handleGroups(nextState.groups)\n      return true\n    } else {\n      return false\n    }\n  }\n\n  mapUsersGroupsToTags = () => {\n    axios.get(`/scot/api/v2/user?id=${this.props.id}`)\n      .then(response => {\n        const usersgroups = [];\n        if (response.data.totalRecordCount > 0) {\n          response.data.records.forEach(function (element) {\n            let group = {};\n            group['id'] = element.name\n            group['text'] = element.name;\n            usersgroups.push(group)\n          })\n          this.setState({ groups: usersgroups });\n        } else {\n        }\n      })\n  }\n\n  handleDelete = (i) => {\n    const { groups } = this.state;\n    this.setState({\n      groups: groups.filter((tag, index) => index !== i),\n    });\n  }\n\n  handleAddition = (tag) => {\n    const { enqueueSnackbar } = this.props;\n    if (this.checkValidGroup(tag['id'])) {\n      let newgroups = this.state.groups;\n      newgroups.push(tag);\n      this.setState({ groups: newgroups });\n      this.props.handleGroups(this.state.groups)\n    }\n    else {\n      enqueueSnackbar(`Invalid group. Please add an existing group`);\n    }\n  }\n\n  checkValidGroup(group) {\n    const { suggestions } = this.props;\n    var found = suggestions.some(function (el) {\n      return el.id === group;\n    });\n    if (found) {\n      return true\n    } else {\n      return false;\n    }\n  }\n\n\n  render() {\n    const { groups } = this.state;\n    const { suggestions } = this.props;\n    const { classes } = this.props;\n    return (\n      <div>\n        <ReactTags\n          classNames={{\n            tagInput: 'tagInputClass',\n            tagInputField: 'tagInputFieldClass',\n          }}\n          placeholder={\"Add a new group\"}\n          inline={false}\n          tags={groups}\n          suggestions={suggestions}\n          handleDelete={this.handleDelete}\n          handleAddition={this.handleAddition}\n        />\n      </div>\n    );\n  }\n}\n\nconst GroupSelection = withStyles(styles)(GroupSelectionComponent)\nconst UserGroupForm = withSnackbar(withStyles(styles)(UserGroupFormComponent));\nexport { GroupSelection, UserGroupForm }\n","import React from 'react'\nimport Typography from '@material-ui/core/Typography';\nimport { withSnackbar } from 'notistack';\nimport { withStyles } from '@material-ui/core/styles';\nimport axios from 'axios'\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\n\nconst styles = theme => ({\n  card: {\n    minWidth: 400,\n    marginBottom: 20\n  },\n});\n\nclass AreYouSure extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      deletetext: \"\"\n    }\n  }\n\n  handleDelete = () => {\n    const { enqueueSnackbar, type, id } = this.props;\n    let url = `/scot/api/v2/${type}/${id}`;\n    axios.delete(url)\n      .then(function () {\n        enqueueSnackbar(`Successfully deleted ${type}.`, { variant: 'success' });\n        this.props.fetchData(type)\n        this.props.handleClose();\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error);\n        enqueueSnackbar(`Failed deleting ${type}.`, { variant: 'error' });\n        this.props.handleClose();\n      });\n  }\n\n  render() {\n    const { classes } = this.props;\n    return (\n      <div>\n        <Card className={classes.card}>\n          <CardContent>\n            <Typography variant=\"h5\" component=\"h2\">Are you sure you want to delete {this.props.type} {this.props.text}?</Typography>\n            <br />\n            <div>\n              <Button style={{ marginLeft: 5, backgroundColor: 'red', color: 'white' }} onClick={() => this.handleDelete(this.props.id)} variant=\"contained\" >Yes</Button>\n              <Button style={{ marginLeft: 5 }} onClick={this.props.handleClose} variant=\"contained\" >Cancel</Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n}\n\nexport default withSnackbar(withStyles(styles)(AreYouSure));","import React from 'react'\nimport ReactTable from 'react-table'\nimport Button from '@material-ui/core/Button';\nimport axios from 'axios'\nimport AddIcon from '@material-ui/icons/Add';\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { UserGroupForm } from './usergroupform'\nimport { Person, Group } from '@material-ui/icons'\nimport DeleteRoundedIcon from '@material-ui/icons/DeleteRounded';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Fab from '@material-ui/core/Fab';\nimport AreYouSure from './areyousure'\nimport Paper from '@material-ui/core/Paper';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport { withSnackbar } from 'notistack';\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n  },\n});\n\nclass UserGroupContainer extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      userdata: [],\n      groupdata: [],\n      showModal: false,\n      editObject: null,\n      id: null,\n      type: \"\",\n      areYouSure: false,\n      updateId: null,\n    }\n  }\n\n  edit = (type, id) => {\n    let url = `/scot/api/v2/${type}?id=${id}`;\n    axios.get(url)\n      .then(function (response) {\n        this.setState({ editObject: response.data.records[0], type: type, showModal: true });\n      }.bind(this))\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { enqueueSnackbar } = this.props;\n    if (prevState.userdata !== this.state.userdata) {\n      if (this.state.updateId !== null) {\n        const user = this.getUserObject(this.state.updateId)\n        axios.put(`/scot/api/v2/user/${this.state.updateId}`, { active: user.active })\n          .then(function (response) {\n            enqueueSnackbar(`Successfully updated user.`, { variant: 'success' })\n            this.setState({ updateId: null })\n          }.bind(this))\n          .catch(function (error) {\n\n            enqueueSnackbar(`Failed updating user`, { variant: 'error' });\n          });\n      }\n    }\n  }\n\n\n\n  showUserDialog = () => {\n    this.setState({ showModal: true, type: 'user' })\n  }\n\n  showGroupDialog = () => {\n    this.setState({ showModal: true, type: 'group' })\n  }\n\n  handleUserClose = () => {\n    this.setState({ showModal: false });\n  };\n\n  componentDidMount() {\n    this.fetchData('user')\n    this.fetchData('group')\n  }\n\n  handleClose = (type) => {\n    this.setState({ showModal: false, id: null, type: \"\", editObject: null });\n  };\n\n  handleListItemClick = value => {\n    this.props.onClose(value);\n  };\n\n  getColumns = (type) => {\n    let columns = []\n    if (type === 'user') {\n      columns = [\n        {\n          Header: 'ID',\n          accessor: 'id',\n          width: 50\n        },\n        {\n          Header: 'Full Name',\n          accessor: 'fullname',\n          width: 90\n        },\n        {\n          Header: 'Username',\n          accessor: 'username',\n          width: 70\n        },\n        {\n          Header: 'Active',\n          id: 'active',\n          accessor: row => (\n            <center>\n              {row.active === 1 ?\n                <div>\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        onChange={() => this.handleActiveToggle(row.id)}\n                        checked={row.active}\n                        value={row.active}\n                      />\n                    }\n                  />\n                </div> :\n                <div>\n                  <FormControlLabel\n                    control={\n                      <Switch\n                        onChange={() => this.handleActiveToggle(row.id)}\n                        checked={row.active}\n                        value={row.active} />\n                    }\n                  />\n                </div>}\n            </center>),\n          width: 80\n        },\n        {\n          Header: 'Edit / Delete',\n          id: 'edit',\n          accessor: row => (\n            <center>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.edit(type, row.id)} variant=\"contained\">Edit</Button>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.toggleAreYouSure(row.id, type)} color=\"secondary\" variant=\"contained\" ><DeleteRoundedIcon /></Button>\n            </center>),\n          width: 200\n        },\n\n      ]\n    } else if (type === 'group') {\n      columns = [\n        {\n          Header: 'ID',\n          accessor: 'id',\n          width: 50\n        },\n        {\n          Header: 'Group Name',\n          accessor: 'name',\n          width: 100\n        },\n        {\n          Header: 'Group Description',\n          accessor: 'description',\n          width: 100\n        },\n        {\n          Header: 'Edit / Delete',\n          id: 'edit',\n          accessor: row => (\n            <center>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.edit(type, row.id)} variant=\"contained\">Edit</Button>\n              <Button size=\"small\" style={{ marginLeft: 5 }} onClick={() => this.toggleAreYouSure(row.id, type)} color=\"secondary\" variant=\"contained\" ><DeleteRoundedIcon /></Button>\n            </center>),\n          width: 200\n        },\n      ]\n    }\n    return columns\n  }\n\n  setUserGroupResults = (type, data) => {\n    if (type === 'user') {\n      this.setState({ userdata: data.records })\n    } else if (type === 'group') {\n      this.setState({ groupdata: data.records })\n    }\n  }\n\n  toggleAreYouSure = (id, type) => {\n    this.setState({ areYouSure: true, id: id, type: type })\n  }\n\n  handleAreYouSureClose = () => {\n    this.setState({ areYouSure: false });\n  }\n\n  fetchData = (type) => {\n    axios.get(`/scot/api/v2/${type}?limit=0`)\n      .then(({ data }) => (\n        this.setUserGroupResults(type, data)\n      ));\n  }\n\n  handleActiveToggle = (id) => {\n    let user = this.getUserObject(id);\n    this.setState({\n      userdata: this.state.userdata.map(el => (el.id === id ?\n        { ...el, active: !el.active, } : el)),\n      updateId: user.id\n    });\n\n  }\n\n  getUserObject = id => {\n    let user = this.state.userdata.filter(user => id === user.id ? user : null);\n    return user[0];\n  }\n  render() {\n    const { classes, ...other } = this.props;\n    const { groupdata, userdata } = this.state;\n    const pagesize = 10\n\n    let showuserpagination = userdata.length > pagesize ? true : false\n    let showgrouppagination = groupdata.length > pagesize ? true : false\n\n    return (\n      <div className={classes.root}>\n        <br />\n        <Paper className={classes.paper} elevation={1}>\n          <Typography variant=\"h5\" component=\"h3\">\n            Please be advised\n            </Typography>\n          <Typography component=\"p\">\n            In order to properly add a user, they must belong to a group. A user is added to a group at time of creatino or upon 'Edit'. Groups MUST include the string 'scot' in the name or they will be ignored\n            by the system. You must activate a user in order to begin logging in as the user.\n            </Typography>\n        </Paper>\n        <br />\n        <Grid container spacing={8}>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" gutterBottom>\n              Users <Person />\n            </Typography>\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\n              <Typography variant=\"h5\" gutterBottom>\n                Add User\n              </Typography>\n              <Fab style={{ marginLeft: 5, marginBottom: 10, marginTop: -6 }} size=\"small\" onClick={this.showUserDialog} color=\"secondary\" aria-label=\"Add\" >\n                <AddIcon />\n              </Fab>\n            </div>\n            <ReactTable\n              data={this.state.userdata}\n              columns={this.getColumns('user')}\n              pageSize={this.state.userdata.length}\n              defaultPageSize={10}\n              showPagination={showuserpagination}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <Typography variant=\"h4\" gutterBottom>\n              Groups <Group />\n            </Typography>\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\n              <Typography variant=\"h5\" gutterBottom>\n                Add Group\n            </Typography>\n              <Fab style={{ marginLeft: 5, marginBottom: 10, marginTop: -6 }} size=\"small\" onClick={this.showGroupDialog} color=\"secondary\" aria-label=\"Add\" >\n                <AddIcon />\n              </Fab>\n            </div>\n            <ReactTable\n              data={this.state.groupdata}\n              columns={this.getColumns('group')}\n              pageSize={this.state.groupdata.length}\n              defaultPageSize={10}\n              showPagination={showgrouppagination}\n            />\n          </Grid>\n        </Grid>\n        <Dialog open={this.state.showModal} onClose={this.handleClose} aria-labelledby=\"simple-dialog-title\" >\n          <UserGroupForm id={this.state.id} groups={this.state.groupdata} type={this.state.type} editObject={this.state.editObject} handleClose={this.handleClose} fetchData={(type) => { this.fetchData(type) }} />\n        </Dialog>\n        {this.state.areYouSure ?\n          <Dialog open={this.state.areYouSure} onClose={this.handleAreYouSureClose} aria-labelledby=\"simple-dialog-title\" {...other}>\n            <AreYouSure type={this.state.type} fetchData={(type) => { this.fetchData(type) }} handleClose={this.handleAreYouSureClose} id={this.state.id}></AreYouSure>\n          </Dialog> : null\n        }\n      </div>\n    )\n  }\n}\n\nexport default withSnackbar(withStyles(styles)(UserGroupContainer));","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Panel from 'react-bootstrap/lib/Panel.js';\nimport Button from 'react-bootstrap/lib/Button.js';\nimport Modal from 'react-bootstrap/lib/Modal.js';\nimport $ from 'jquery'\n\nexport class Api extends React.Component {\n  constructor(props) {\n    super(props);\n    this.GetKeys = this.GetKeys.bind(this);\n    this.GetAvailableGroups = this.GetAvailableGroups.bind(this);\n    this.CreateKey = this.CreateKey.bind(this);\n    this.DeleteKey = this.DeleteKey.bind(this);\n    this.GroupChange = this.GroupChange.bind(this);\n    this.ToggleActiveStatus = this.ToggleActiveStatus.bind(this);\n    this.state = {\n      Api: null,\n      keys: null,\n      availableGroups: null,\n    };\n  }\n\n  GetKeys() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/apikey',\n      success: function (data) {\n        this.setState({ keys: data.records });\n      }.bind(this),\n      error: function () {\n        this.setState({ keys: 'failed to get keys' });\n      }.bind(this),\n    });\n  }\n\n  GetAvailableGroups() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/group?limit=0',\n      success: function (data) {\n        this.setState({ availableGroups: data.records });\n      }.bind(this),\n    });\n  }\n\n  CreateKey() {\n    $.ajax({\n      type: 'post',\n      url: '/scot/api/v2/apikey',\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  DeleteKey(e) {\n    $.ajax({\n      type: 'delete',\n      url: `/scot/api/v2/apikey/${e.target.id}`,\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  GroupChange(id, newGroup) {\n    $.ajax({\n      type: 'PUT',\n      url: `/scot/api/v2/apikey/${id}`,\n      data: JSON.stringify({ groups: newGroup }),\n      contentType: 'application/json; charset=UTF-8',\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  ToggleActiveStatus(id, newStatus) {\n    $.ajax({\n      type: 'PUT',\n      url: `/scot/api/v2/apikey/${id}`,\n      contentType: 'application/json; charset=UTF-8',\n      data: JSON.stringify({ active: newStatus }),\n      success: function () {\n        this.GetKeys();\n      }.bind(this),\n    });\n  }\n\n  componentDidMount() {\n    this.GetKeys();\n    this.GetAvailableGroups();\n  }\n\n  render() {\n    const keysArr = [];\n    if (this.state.keys != undefined) {\n      for (let i = 0; i < this.state.keys.length; i++) {\n        let keyActiveStatus;\n        let keyActiveStatusCss;\n        const keyGroups = [];\n        if (this.state.keys[i].active == 1) {\n          keyActiveStatus = <span style={{ color: 'green' }}>active</span>\n        }\n\n        else {\n          keyActiveStatus = <span style={{ color: 'red' }}>not active</span>\n        }\n        if (this.state.keys[i].groups != undefined) {\n          for (let j = 0; j < this.state.keys[i].groups.length; j++) {\n            keyGroups.push(<div>this.state.keys[i].groups[j]</div>);\n          }\n        }\n        keysArr.push(<div>\n          <div>\n            <div>{this.state.keys[i].apikey}</div>\n            <div>{this.state.keys[i].username}</div>\n            <span>Key is {keyActiveStatus}</span>\n            <span className='pull-right pointer'><i id={this.state.keys[i].id} className=\"fa fa-trash\" aria-hidden=\"true\" onClick={this.DeleteKey}></i></span>\n            <div>\n              <GroupModal id={this.state.keys[i].id} currentGroups={this.state.keys[i].groups} allGroups={this.state.availableGroups} GroupChange={this.GroupChange} ToggleActiveStatus={this.ToggleActiveStatus} keyActiveStatus={keyActiveStatus} keyActiveStatusCss={keyActiveStatusCss} />\n            </div>\n          </div>\n          <hr />\n        </div>);\n      }\n    }\n    return (\n      <div id='api' className='administration_api'>\n        <h1>API</h1>\n        <Panel bsStyle='info' header='Your api keys'>\n          {keysArr}\n        </Panel>\n\n        <Button bsStyle='success' onClick={this.CreateKey}>Create API Key</Button>\n      </div>\n    );\n  }\n}\n\nclass GroupModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.Open = this.Open.bind(this);\n    this.Close = this.Close.bind(this);\n    this.DeleteGroup = this.DeleteGroup.bind(this);\n    /* this.AddGroup = this.AddGroup.bind(this); */ // Removed as we don't add groups to an api key\n    this.ToggleActiveStatus = this.ToggleActiveStatus.bind(this);\n    this.state = {\n      showModal: false,\n    };\n  }\n\n  Open() {\n    this.setState({ showModal: true });\n  }\n\n  Close() {\n    this.setState({ showModal: false });\n  }\n\n  DeleteGroup(e) {\n    const newGroups = [];\n    for (const i of this.props.currentGroups) {\n      if (i != undefined) {\n        if (i != e.target.parentNode.textContent) {\n          newGroups.push(i);\n        }\n      }\n    }\n    this.props.GroupChange(this.props.id, newGroups);\n  }\n  /* Removed as we don't add groups to an api key\n  AddGroup (e) {\n      var newGroups = [];\n      for ( const i of this.props.currentGroups) {\n          if ( i != undefined ) {\n              if ( i != e.target.textContent ) {\n                  newGroups.push(i);\n              }\n          }\n      }\n      newGroups.push( e.target.textContent );\n      this.props.GroupChange(this.props.id, newGroups);\n  }\n  */\n  ToggleActiveStatus() {\n    let newStatus;\n    if (this.props.keyActiveStatus == 'active') {\n      newStatus = 0;\n    } else {\n      newStatus = 1;\n    }\n    this.props.ToggleActiveStatus(this.props.id, newStatus);\n  }\n\n  render() {\n    // var allGroupArray = [];  //Removed as we don't add groups to an api key\n    const currentGroupArray = [];\n    const currentGroupArrayEdit = [];\n    // //Removed as we don't add groups to an api key\n    /* if ( this.props.allGroups ) {\n        for ( const i of this.props.allGroups ) {\n            allGroupArray.push( <Button id={this.props.id} onClick={this.AddGroup} bsSize='xsmall'>{i.name}</Button> );\n        }\n    } */\n    if (this.props.currentGroups) {\n      for (const j of this.props.currentGroups) {\n        currentGroupArrayEdit.push(<span className='tagButton'>{j}<i id={this.props.id} onClick={this.DeleteGroup} className='fa fa-times tagButtonClose'></i></span>);\n      }\n      for (const k of this.props.currentGroups) {\n        currentGroupArray.push(<span className='tagButton'>{k}</span>);\n      }\n    }\n    return (\n      <div>\n        Current Groups: {currentGroupArray}\n        <div>\n          <Button onClick={this.Open} bsSize='small'>Edit API key settings</Button>\n        </div>\n        <Modal show={this.state.showModal} onHide={this.Close}>\n          <Modal.Header closeButton>\n            <Modal.Title>Edit API key settings</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <div>\n              <h4>Current Groups:</h4>\n              {currentGroupArrayEdit}\n            </div>\n            {/* <div>\n                            Click to add group:\n                            {allGroupArray}\n                        </div> */}\n            <hr />\n            <div>\n              Key is <span className={this.props.keyActiveStatusCss}>{this.props.keyActiveStatus}</span>\n              <Button onClick={this.ToggleActiveStatus} bsSize='xsmall'>Toggle Active Status</Button>\n            </div>\n          </Modal.Body>\n        </Modal>\n      </div>\n    );\n  }\n}\n\n\n","import React, { PureComponent, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Modal, Button, ButtonGroup, Panel, FormControl, Form, Col } from 'react-bootstrap';\nimport ReactTable from 'react-table';\nimport { removeMarkedItems } from '../marker';\nimport Notification from 'react-notification-system';\nimport $ from 'jquery'\n\nconst ACTION_BUTTONS = {\n  READY: {\n    style: 'default',\n  },\n  LOADING: {\n    text: 'Processing...',\n    style: 'default',\n    disabled: true,\n  },\n  SUCCESS: {\n    text: 'Success!',\n    style: 'success',\n  },\n  ERROR: {\n    text: 'Error!',\n    style: 'danger',\n  },\n};\n\nexport class Undelete extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      allSelected: false,\n    };\n\n    this.handleTHeadCheckboxSelection = this.handleTHeadCheckboxSelection.bind(this);\n    this.handleRowSelection = this.handleRowSelection.bind(this);\n    this.handleCheckboxSelection = this.handleCheckboxSelection.bind(this);\n    this.getDeletedItems = this.getDeletedItems.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n\n    this.getDeletedItems();\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  render() {\n\n    const columns = [\n      {\n        Header: cell => {\n          return (\n            <div>\n              <div className='mark-checkbox'><i className={`fa fa${this.state.allSelected ? '-check' : ''}-square-o`} aria-hidden=\"true\"></i></div>\n\n            </div>\n          );\n        },\n        id: 'selected',\n        accessor: d => d.selected,\n        Cell: row => {\n          return (\n            <div>\n              <div className='mark-checkbox'><i className={`fa fa${row.row.selected ? '-check' : ''}-square-o`} aria-hidden=\"true\"></i></div>\n            </div>\n          );\n        },\n        maxWidth: 100,\n        filterable: false,\n      },\n      {\n        Header: 'Type',\n        accessor: 'type',\n        //id: 'target.type',\n        //column: 'type',\n        maxWidth: 150,\n        sortable: true,\n      },\n      {\n        Header: 'ID',\n        accessor: 'data.id',\n        id: 'data.id',\n        column: 'id',\n        maxWidth: 100,\n        sortable: true,\n      },\n      {\n        Header: 'Subject',\n        accessor: 'data.subject',\n        id: 'data.subject',\n        column: 'subject',\n        maxWidth: '100%',\n        sortable: true,\n      },\n      {\n        Header: 'Body',\n        accessor: 'data.body',\n        id: 'data.body',\n        column: 'body',\n        maxWidth: '100%',\n        sortable: true,\n      },\n\n    ];\n\n    let dataArr = [];\n    for (let key in this.state.data) {\n      dataArr.push(this.state.data[key]['data'])\n    }\n\n    return (\n      <div>\n\n        {this.state.data.length > 0 ?\n          <ReactTable\n            columns={columns}\n            data={this.state.data}\n            defaultPageSize={10}\n            getTdProps={this.handleCheckboxSelection}\n            getTheadThProps={this.handleTHeadCheckboxSelection}\n            getTrProps={this.handleRowSelection}\n            minRows={0}\n            noDataText='No deleted items were found.'\n            style={{\n              maxHeight: '60vh'\n            }}\n            filterable\n          />\n          :\n          <h3>No deleted items were found.</h3>\n        }\n\n        {this.state.data.length > 0 ? <Actions data={this.state.data} id={this.props.id} type={this.props.type} getDeletedItems={this.getDeletedItems} errorToggle={this.props.errorToggle} /> : null}\n      </div>\n    );\n  }\n\n  handleRowSelection(state, rowInfo, column) {\n    return {\n      onClick: event => {\n        let data = this.state.data;\n\n        for (let row of data) {\n          if (rowInfo.row['data.id'] == row.data.id && rowInfo.row.type == row.type) {\n            row.selected = true;\n          } else {\n            row.selected = false;\n          }\n        }\n\n        this.setState({ data: data, allSelected: false });\n        return;\n      },\n      style: {\n        background: rowInfo != undefined ? rowInfo.row.selected ? 'rgb(174, 218, 255)' : null : null,\n      }\n    };\n  }\n\n  handleCheckboxSelection(state, rowInfo, column) {\n    if (column.id == 'selected') {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n\n          for (let row of data) {\n            if (rowInfo.row['data.id'] == row.data.id && rowInfo.row.type == row.type) {\n              if (row.selected) {\n                row.selected = !row.selected;\n              } else {\n                row.selected = true;\n              }\n              break;\n            }\n          }\n\n          this.setState({ data: data, allSelected: this.checkAllSelected(data) });\n          event.stopPropagation();\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  }\n\n  handleTHeadCheckboxSelection(state, rowInfo, column, instance) {\n    if (column.id === 'selected') {\n      return {\n        onClick: event => {\n          let data = this.state.data;\n          let allSelected = !this.state.allSelected;\n\n          for (let row of data) {\n            for (let pageRow of state.pageRows) {\n              if (row.data.id == pageRow['data.id'] && row.data.type == pageRow['data.type']) {                 //compare displayed rows to rows in dataset and only select those\n                row.selected = allSelected;\n                break;\n              }\n            }\n          }\n\n          this.setState({ data: data, allSelected: allSelected });\n          return;\n        }\n      };\n    } else {\n      return {};\n    }\n  }\n\n  checkAllSelected(data) {\n    for (let row of data) {\n      if (!row.selected) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  getDeletedItems() {\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/deleted/?limit=0',\n      success: function (data) {\n        this.setState({ data: data.records });\n      }.bind(this),\n      error: function (data) {\n        console.log('unable to get deleted items');\n      }.bind(this),\n    });\n  }\n}\n\nclass Actions extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      entry: false,\n      thing: false,\n      actionSuccess: false,\n      linkContextString: null,\n      linkPanel: false,\n      pendingDelete: false,\n\n      reparseButton: ACTION_BUTTONS.READY,\n      deleteButton: ACTION_BUTTONS.READY,\n      promoteButton: ACTION_BUTTONS.READY,\n    };\n\n    this.RemoveSelected = this.RemoveSelected.bind(this);\n    this.MoveEntry = this.MoveEntry.bind(this);\n    this.CopyEntry = this.CopyEntry.bind(this);\n    this.EntryAjax = this.EntryAjax.bind(this);\n    this.Link = this.Link.bind(this);\n    this.LinkAjax = this.LinkAjax.bind(this);\n    this.Reparse = this.Reparse.bind(this);\n    this.ReparseAjax = this.ReparseAjax.bind(this);\n    this.Promote = this.Promote.bind(this);\n    this.PromoteAjax = this.PromoteAjax.bind(this);\n    this.ToggleActionSuccess = this.ToggleActionSuccess.bind(this);\n    this.ExpandLinkToggle = this.ExpandLinkToggle.bind(this);\n    this.LinkContextChange = this.LinkContextChange.bind(this);\n    this.deleteCallback = this.deleteCallback.bind(this);\n    this.StartDelete = this.StartDelete.bind(this);\n    this.Restore = this.Restore.bind(this);\n    this.Purge = this.Purge.bind(this);\n  }\n\n  componentWillMount() {\n    this.mounted = true;\n  }\n\n  componentWillUnmount() {\n    this.mounted = false;\n  }\n\n  deleteCallback(success) {\n    if (success === true) {\n      this.RemoveSelected();\n    }\n\n    this.setState({\n      pendingDelete: false,\n    });\n  }\n\n  render() {\n    let buttons = [];\n    let entry = false, thing = false, alert = true;\n\n    let numSelected = 0;\n    for (let key of this.props.data) {\n      if (key.type && key.selected) {\n        numSelected++;\n\n        if (key.type === 'entry') {\n          entry = true;\n        } else {\n          thing = true;\n        }\n\n        if (key.type !== 'alert') {\n          alert = false;\n        }\n      }\n    }\n\n    const addToEvent = numSelected != 0 && alert && this.props.type === 'event';\n\n    const { reparseButton, deleteButton, promoteButton, pendingDelete } = this.state;\n\n    let deleteThings = null;\n    if (pendingDelete) {\n      deleteThings = this.props.data.filter(thing => thing.selected)\n        .map(thing => { return { type: thing.type, id: thing.id }; });\n    }\n\n\n    return (\n      <div>\n        <Notification ref='notificationSystem' />\n        {this.state.actionSuccess ?\n          <div>\n            <Button bsStyle='success' onClick={this.props.getDeletedItems}>Action Successful! Click to reload data.</Button>\n          </div>\n          :\n          <div style={{ display: 'grid' }}>\n            <div>\n              <h4 style={{ float: 'left' }}></h4> {this.props.data.length > 0 ? <h4 style={{ float: 'left' }}>Select a Deleted Object</h4> : null}\n              <ButtonGroup style={{ float: 'right' }}>\n                <Button bsStyle='success' onClick={this.Restore}>Restore</Button>\n                <Button bsStyle='danger' onClick={this.Purge}>Purge</Button>\n              </ButtonGroup>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n\n  Restore(e) {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        $.ajax({\n          type: 'put',\n          url: '/scot/api/v2/deleted/' + key.id,\n          data: JSON.stringify({ 'status': 'undelete' }),\n          success: function () {\n            let notification = this.refs.notificationSystem;\n            notification.addNotification({\n              message: 'Successfully Restored',\n              level: 'success',\n              autoDismiss: 0,\n            });\n            this.props.getDeletedItems();\n          }.bind(this),\n          error: function () {\n            console.log('failed to restore items');\n          }.bind(this),\n        });\n      }\n    }\n  }\n\n  Purge(e) {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        $.ajax({\n          type: 'delete',\n          url: '/scot/api/v2/deleted/' + key.id,\n          success: function () {\n            let notification = this.refs.notificationSystem;\n            notification.addNotification({\n              message: 'Successfully Purged',\n              level: 'success',\n              autoDismiss: 0,\n            });\n            this.props.getDeletedItems();\n          }.bind(this),\n          error: function () {\n            console.log('failed to purge items');\n          }.bind(this)\n        });\n      }\n    }\n  }\n\n  LinkContextChange(e) {\n    this.setState({ linkContextString: e.target.value });\n  }\n\n  ExpandLinkToggle(newState) {\n    if (newState == true || newState == false) {\n      this.setState({ linkPanel: newState, linkContextString: '' });\n    } else {\n      let linkPanel = !this.state.linkPanel;\n      this.setState({ linkPanel: linkPanel, linkContextString: '' });\n    }\n  }\n\n  RemoveSelected() {\n    for (let key of this.props.data) {\n      if (key.selected) {\n        removeMarkedItems(key.type, key.id);\n      }\n    }\n\n    //update marked items after removal\n    this.props.getDeletedItems();\n\n    //turn off the action success buttons after removal\n    if (this.state.actionSuccess) {\n      this.setState({ actionSuccess: false });\n    }\n  }\n\n  StartDelete() {\n    this.setState({\n      pendingDelete: true,\n    });\n  }\n\n  MoveEntry() {\n    for (let key of this.props.data) {\n      if (key.selected && key.type == 'entry') {\n        this.EntryAjax(key.id, true);\n      }\n    }\n  }\n\n  CopyEntry() {\n    for (let key of this.props.data) {\n      if (key.selected && key.type == 'entry') {\n        this.EntryAjax(key.id, false);\n      }\n    }\n  }\n\n  Link() {\n\n\n    for (let key of this.props.data) {\n      if (key.selected) {\n\n        let arrayToLink = [];\n        let obj = {};\n        let currentobj = {};\n\n        //assign new thing to link\n        obj.id = parseInt(key.id);\n        obj.type = key.type;\n\n        //assign current thing to link to\n        currentobj.id = parseInt(this.props.id);\n        currentobj.type = this.props.type;\n\n        arrayToLink.push(obj);\n        arrayToLink.push(currentobj);\n\n        this.LinkAjax(arrayToLink);\n      }\n\n      /*\n          if ( arrayToLink.length > 0 ) {\n          //add current thing to be linked to\n          let obj = {};\n          obj.id = parseInt( this.props.id );\n          obj.type = this.props.type;\n\n          arrayToLink.push( obj );\n          this.LinkAjax( arrayToLink );\n      }*/\n    }\n\n\n  }\n\n  Reparse() {\n    this.setState({\n      reparseButton: ACTION_BUTTONS.LOADING,\n    });\n\n    $.when(...this.props.data.filter((thing) => thing.selected)\n      .map((thing) => {\n        return this.ReparseAjax(thing);\n      })\n    ).then(\n      // Success\n      () => {\n        this.setState({\n          reparseButton: ACTION_BUTTONS.SUCCESS,\n        });\n      },\n      // Failure\n      (error) => {\n        console.error(error);\n        this.setState({\n          reparseButton: ACTION_BUTTONS.ERROR,\n        });\n        this.props.errorToggle('error reparsing', error);\n      }\n    ).always(() => {\n      setTimeout(() => {\n        this.setState({\n          reparseButton: ACTION_BUTTONS.READY,\n        });\n      }, 2000);\n    });\n  }\n\n  ReparseAjax(thing) {\n    return $.ajax({\n      type: 'put',\n      url: '/scot/api/v2/' + thing.type + '/' + thing.id,\n      data: JSON.stringify({ parsed: 0 }),\n      contentType: 'application/json; charset=UTF-8',\n    });\n  }\n\n  Promote() {\n    this.setState({\n      promoteButton: ACTION_BUTTONS.LOADING,\n    });\n\n    let success = true;\n\n    $.when(...this.props.data.filter((thing) => thing.selected)\n      .map((thing) => {\n        return this.PromoteAjax(thing);\n      })\n    ).then(\n      // Success\n      () => {\n        this.setState({\n          promoteButton: ACTION_BUTTONS.SUCCESS,\n        });\n      },\n      // Failure\n      (error) => {\n        success = false;\n        console.error(error);\n        this.setState({\n          promoteButton: ACTION_BUTTONS.ERROR,\n        });\n        this.props.errorToggle('error adding alerts to event', error);\n      }\n    ).always(() => {\n      setTimeout(() => {\n        this.setState({\n          promoteButton: ACTION_BUTTONS.READY,\n        });\n\n        if (success) {\n          window.location.reload();\n        }\n      }, 2000);\n    });\n  }\n\n  PromoteAjax(thing) {\n    return $.ajax({\n      type: 'put',\n      url: '/scot/api/v2/alert/' + thing.id,\n      data: JSON.stringify({ promote: parseInt(this.props.id) }),\n      contentType: 'application/json; charset=UTF-8',\n    });\n  }\n\n  LinkAjax(arrayToLink) {\n    let data = {};\n    data.weight = 1; //passed in object\n    data.vertices = arrayToLink; //link to current thing\n\n    if (this.state.linkContextString) {           //add context string if one was submitted\n      data.context = this.state.linkContextString;\n    }\n\n    $.ajax({\n      type: 'post',\n      url: '/scot/api/v2/link',\n      data: JSON.stringify(data),\n      contentType: 'application/json; charset=UTF-8',\n      dataType: 'json',\n      success: function (response) {\n        console.log('successfully linked');\n        this.ExpandLinkToggle(false);                          //disable link panel\n        this.ToggleActionSuccess(true);\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('failed to link', data);\n      }.bind(this)\n    });\n  }\n\n  EntryAjax(id, removeOriginal) {\n\n    $.ajax({\n      type: 'get',\n      url: '/scot/api/v2/entry/' + id,\n      success: function (response) {\n        let data = {};\n        data = { parent: 0, body: response.body, target_id: parseInt(this.props.id), target_type: this.props.type };\n        $.ajax({\n          type: 'post',\n          url: '/scot/api/v2/entry',\n          data: JSON.stringify(data),\n          contentType: 'application/json; charset=UTF-8',\n          dataType: 'json',\n          success: function (response) {\n\n            if (removeOriginal) {\n              this.RemoveEntryAfterMove(id);\n              this.RemoveSelected();\n            } else {\n              if (!this.state.actionSuccess) {\n                this.ToggleActionSuccess(true);\n              }\n            }\n\n          }.bind(this),\n          error: function (data) {\n            this.props.errorToggle('failed to create new entry', data);\n          }.bind(this)\n        });\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('failed to get entry data', data);\n      }.bind(this)\n    });\n\n  }\n\n  RemoveEntryAfterMove(id) {\n    $.ajax({\n      type: 'delete',\n      url: '/scot/api/v2/entry/' + id,\n      success: function (response) {\n        console.log('removed original entry');\n      }.bind(this),\n      error: function (data) {\n        this.props.errorToggle('Failed to remove original entry', data);\n      }.bind(this),\n    });\n  }\n\n  ToggleActionSuccess(status) {\n\n    if (status == true || status == false) {\n      this.setState({ actionSuccess: status });\n    } else {\n      let newActionSuccess = !this.state.actionSuccess;\n      this.setState({ actionSuccess: newActionSuccess });\n    }\n\n  }\n}\n\nActions.propTypes = {\n  data: PropTypes.object\n};\n\nActions.defaultProps = {\n  data: {}\n};\n\nUndelete.propTypes = {\n  modalActive: PropTypes.bool\n};\n\nUndelete.defaultProps = {\n  modalActive: true\n};\n\n\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Typography from '@material-ui/core/Typography';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport UserGroupContainer from './usergroupcontainer'\nimport { Api } from './api'\nimport { Undelete } from './undelete'\n\n\nfunction TabContainer(props) {\n  return (\n    <Typography component=\"div\" style={{ padding: 8 * 3 }}>\n      {props.children}\n    </Typography>\n  );\n}\n\nconst theme = createMuiTheme({\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    fontSize: 20,\n  },\n});\n\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    // backgroundColor: theme.palette.background.paper,\n  },\n  appBar: {\n    backgroundColor: '#2196f3',\n  },\n  typography: {\n    // Tell Material-UI what the font-size on the html element is.\n    fontSize: 20,\n  },\n});\n\nclass Admin extends React.Component {\n  state = {\n    value: 0,\n  };\n\n  handleChange = (event, value) => {\n    this.setState({ value });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const { value } = this.state;\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div className={classes.root}>\n          <AppBar className={classNames(classes.appBar, classes.typography)} position=\"static\">\n            <Tabs value={value} indicatorColor=\"primary\" centered onChange={this.handleChange}>\n              <Tab label=\"Users / Groups\" />\n              <Tab label=\"API\" />\n              <Tab label=\"Undelete\" />\n            </Tabs>\n          </AppBar>\n          {value === 0 &&\n            <TabContainer>\n              <UserGroupContainer></UserGroupContainer>\n            </TabContainer>}\n          {value === 1 &&\n            <TabContainer>\n              <Api></Api>\n            </TabContainer>}\n          {value === 2 &&\n            <TabContainer>\n              <Undelete></Undelete>\n            </TabContainer>}\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\nAdmin.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Admin);","import * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\n\nexport class Amq {\n  constructor() {\n    this.client = \"\";\n    this.whoami = \"\";\n    this.amqdebug = \"\";\n    this.activemqaction = \"\";\n    this.activemqaction = \"\";\n    this.activemqid = \"\";\n    this.activemqwho = \"\";\n    this.activemqtype = \"\";\n    this.activemqguid = \"\";\n    this.activemqhostname = \"\";\n    this.activemqpid = \"\";\n    this.activemqwhen = \"\";\n    this.activemqwall = \"\";\n    this.cb_map = new Map();\n  }\n\n  s4 = () => {\n    return Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  };\n\n  get_guid = () => {\n    return (\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4() +\n      this.s4()\n    );\n  };\n\n  register_client = restart => {\n    this.client = this.get_guid();\n    this.whoami = SessionStorage.getSessionStorage(\"whoami\");\n    $.ajax({\n      type: \"POST\",\n      url: \"/scotaq/amq\",\n      data: {\n        message: \"chat\",\n        type: \"listen\",\n        clientId: this.client,\n        destination: \"topic://scot\"\n      },\n      success: function(data) {\n        console.log(\"Registered client as \" + this.client);\n        if (!restart) {\n          //only start the update if this is not a restart. Restart will just use the new clientid once it is live.\n          setTimeout(\n            function() {\n              this.get_data();\n            }.bind(this),\n            1000\n          );\n        }\n      }.bind(this),\n      error: function(data) {\n        console.log(\"Error: failed to register client, retry in 1 sec\");\n        setTimeout(function() {\n          this.register_client();\n        }, 1000);\n      }\n    });\n  };\n\n  get_data = () => {\n    let now = new Date();\n    $.ajax({\n      type: \"GET\",\n      url: \"/scotaq/amq\",\n      data: {\n        /*loc: location.hash, */\n        clientId: this.client,\n        timeout: 20000,\n        d: now.getTime(),\n        r: Math.random(),\n        json: \"true\",\n        username: this.whoami\n      },\n      success: function(data) {\n        console.log(\"Received Message\");\n        setTimeout(\n          function() {\n            this.get_data();\n          }.bind(this),\n          40\n        );\n        let messages = $(data)\n          .text()\n          .split(\"\\n\");\n        messages.forEach(\n          function(message, key) {\n            if (message !== \"\") {\n              let json = JSON.parse(message);\n              console.log(json);\n              this.process_message(json);\n              this.handle_update(json);\n              return true;\n            }\n          }.bind(this)\n        );\n      }.bind(this),\n      error: function() {\n        setTimeout(\n          function() {\n            this.getData(this.client);\n          }.bind(this),\n          1000\n        );\n        console.log(\"AMQ not detected, retrying in 1 second.\");\n      }\n    });\n  };\n\n  checkNumber(number) {\n    let parsed = parseInt(number, 10);\n    if (isNaN(parsed)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  create_callback_object = (key, callback) => {\n    let intkey = key;\n    if (this.checkNumber(intkey)) {\n      intkey = parseInt(intkey, 10);\n    }\n    if (this.cb_map.has(intkey)) {\n      this.cb_map.get(intkey).add(callback);\n    } else {\n      let newset = new Set();\n      newset.add(callback);\n      this.cb_map.set(intkey, newset);\n    }\n  };\n\n  remove_callback_object = key => {\n    this.cb_map.delete(key);\n  };\n\n  process_message = payload => {\n    if (payload.action === \"wall\") {\n      this.activemqwho = payload.data.who;\n      this.activemqmessage = payload.data.message;\n      this.activemqwhen = payload.data.when;\n      this.activemqwall = true;\n    } else {\n      this.activemqaction = payload.action;\n      this.activemqid = payload.data.id;\n      this.activemqtype = payload.data.type;\n      this.activemqwho = payload.data.who;\n      this.activemqguid = payload.guid;\n      this.activemqhostname = payload.hostname;\n      this.activemqpid = payload.pid;\n    }\n  };\n\n  execute_callback_function = searchstring => {\n    try {\n      let f = this.cb_map.get(searchstring);\n      if (f !== undefined) {\n        f.forEach(function(item) {\n          item();\n        });\n      }\n      let noti = this.cb_map.get(\"notification\");\n      if (noti !== undefined) {\n        noti.forEach(function(item) {\n          item();\n        });\n      }\n    } catch (e) {\n      throw e;\n    }\n  };\n\n  handle_update = message => {\n    let searchstring = \"\";\n    if (message.action === \"wall\") {\n      searchstring = \"wall\";\n    } else if (message.action === \"created\") {\n      searchstring = `${message.data.type}:listview`;\n    } else if (message.action === \"updated\") {\n      searchstring = message.data.id;\n    } else if (message.action === \"deleted\") {\n      searchstring = message.data.id;\n    }\n    this.execute_callback_function(searchstring);\n  };\n}\n","import Navbar from \"react-bootstrap/lib/Navbar.js\";\nimport Nav from \"react-bootstrap/lib/Nav.js\";\nimport NavItem from \"react-bootstrap/lib/NavItem.js\";\nimport NavDropdown from \"react-bootstrap/lib/NavDropdown.js\";\nimport MenuItem from \"react-bootstrap/lib/MenuItem.js\";\nimport React from \"react\";\nimport Home from \"./home\";\nimport { ReportPage, SingleReport } from \"../components/dashboard/report\";\nimport { NOTIFICATION_TYPES } from \"../components/dashboard/activity\";\nimport { UserConfigProvider } from \"../utils/userConfig\";\nimport * as Cookies from \"../utils/cookies\";\nimport * as SessionStorage from \"../utils/session_storage\";\nimport $ from \"jquery\";\nimport Search from \"../components/esearch\";\nimport Wall from \"../debug-components/wall\";\nimport Login from \"../modal/login.js\";\nimport { Link } from \"react-router-dom\";\nimport { Route } from \"react-router-dom\";\nimport ListView from '../list/list-view';\nimport Notification from \"react-notification-system\"\nimport LinkContainer from \"react-router-bootstrap/lib/LinkContainer.js\";\nimport Admin from '../components/admin/'\nimport { Amq } from '../utils/activemq'\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n      notificationSetting: \"on\",\n      login: false,\n      csrf: \"\",\n      origurl: \"\",\n      sensitivity: \"\",\n      whoami: undefined,\n      handler: undefined,\n      eestring: \"\",\n      clientId: null\n    };\n    this.notification = this.notification.bind(this);\n    this.loginToggle = this.loginToggle.bind(this);\n    this.errorToggle = this.errorToggle.bind(this);\n    this.AMQ = new Amq();\n  }\n\n  componentWillReceiveProps = nextProps => {\n    let viewModeSetting = Cookies.checkCookie(\"viewMode\");\n    let notificationSetting = Cookies.checkCookie(\"notification\");\n    if (nextProps.match.params.value) {\n      var listViewFilterSetting = Cookies.checkCookie(\n        \"listViewFilter\" + nextProps.match.params.value.toLowerCase()\n      );\n      var listViewSortSetting = Cookies.checkCookie(\n        \"listViewSort\" + nextProps.match.params.value.toLowerCase()\n      );\n      var listViewPageSetting = Cookies.checkCookie(\n        \"listViewPage\" + nextProps.match.params.value.toLowerCase()\n      );\n    }\n    if (notificationSetting === undefined) {\n      notificationSetting = \"on\";\n    }\n\n    if (!this.state.handler) {\n      this.GetHandler();\n    }\n\n    if (!this.state.whoami) {\n      this.WhoAmIQuery();\n    }\n\n    this.setState({\n      viewMode: viewModeSetting,\n      notificationSetting: notificationSetting,\n      listViewFilter: listViewFilterSetting,\n      listViewSort: listViewSortSetting,\n      listViewPage: listViewPageSetting\n    });\n  };\n\n  componentDidMount = () => {\n    this.GetHandler();\n    this.WhoAmIQuery();\n    this.AMQ.register_client();\n    this.AMQ.create_callback_object(\"wall\", this.wall);\n    this.AMQ.create_callback_object(\"notification\", this.notification);\n\n    //ee\n    if (this.props.match.url === \"/\") {\n      $(document.body).keydown(\n        function (e) {\n          this.ee(e);\n        }.bind(this)\n      );\n    }\n  };\n\n  eedraw = () => {\n    $(\"#content\").css(\"transform\", \"rotateX(20deg)\");\n    $(document.body).prepend(\n      '<span id=\"ee\">Lbh sbhaq gur rtt. Cbfg gb gur jnyy \"V sbhaq gur rtt, pna lbh?\"</span>'\n    );\n  };\n\n  eeremove = () => {\n    $(\"#content\").css(\"transform\", \"rotateX(0deg)\");\n    $(\"#ee\").remove();\n  };\n\n  componentWillUnmount = () => {\n    SessionStorage.removeSessionStorage(\"whoami\");\n  };\n\n  componentWillMount = () => {\n    let notificationSetting = Cookies.checkCookie('notification');\n    if (notificationSetting == undefined) {\n      notificationSetting = 'on';\n    }\n    this.setState({ notificationSetting: notificationSetting });\n  };\n\n  ee = e => {\n    let ee = \"837279877769847269697171\";\n    if (ee.includes(this.state.eestring)) {\n      if (this.state.eestring + e.keyCode === ee) {\n        this.eedraw();\n        setTimeout(this.eeremove, 2000);\n      } else {\n        if ($(\"input\").is(\":focus\")) {\n          return;\n        }\n        if (e.ctrlKey !== true && e.metaKey !== true) {\n          let eestring = this.state.eestring + e.keyCode;\n          this.setState({ eestring: eestring });\n        }\n      }\n    } else {\n      this.setState({ eestring: \"\" });\n    }\n  };\n\n  notification = () => {\n    // Don't show on dashboard if filtered type\n    if (\n      this.props.match.path === \"/\" &&\n      this.props.match.isExact &&\n      NOTIFICATION_TYPES.includes(this.props.stateProps.activemqstate)\n    ) {\n      return;\n    }\n\n    //Notification display in update as it will run on every amq message matching 'main'.\n    let notification = this.refs.notificationSystem;\n    //not showing notificaiton on entity due to \"flooding\" on an entry update that has many entities causing a storm of AMQ messages\n    if (\n      this.AMQ.activemqwho !== \"scot-alerts\" &&\n      this.AMQ.activemqwho !== \"scot-admin\" &&\n      this.AMQ.activemqwho !== \"scot-flair\" &&\n      notification !== undefined &&\n      this.AMQ.activemqwho !== this.state.whoami &&\n      this.AMQ.activemqwho !== \"\" &&\n      this.AMQ.activemqwho !== \"api\" &&\n      this.AMQ.activemqwall !== true &&\n      this.AMQ.activemqtype !== \"entity\" &&\n      this.state.notificationSetting === \"on\"\n    ) {\n      let message = `${this.AMQ.activemqwho} ${this.AMQ.activemqaction} ${this.AMQ.activemqtype} : ${this.AMQ.activemqid}`\n      let type = this.AMQ.activemqtype;\n      let state = this.AMQ.activemqstate;\n      let activemqid = this.AMQ.activemqid;\n      notification.addNotification({\n        message: message,\n        level: \"info\",\n        autoDismiss: 5,\n        action:\n          state !== \"delete\"\n            ? {\n              label: \"View\",\n              callback: function () {\n                window.open(\n                  \"/#/\" +\n                  type +\n                  \"/\" +\n                  activemqid\n                );\n              }\n            }\n            : null\n      });\n    }\n  };\n\n  wall = (message) => {\n    // Don't show on dashboard\n    if (this.props.match.path === \"/\" && this.props.match.isExact) {\n      return;\n    }\n\n    var notification = this.refs.notificationSystem;\n    var date = new Date(this.AMQ.activemqwhen * 1000);\n    date = date.toLocaleString();\n    if (this.AMQ.activemqwall === true) {\n      notification.addNotification({\n        message:\n          date + \" \" + this.AMQ.activemqwho + \": \" + this.AMQ.activemqmessage,\n        level: \"warning\",\n        autoDismiss: 0\n      });\n      // message.activemqwall = false;\n    }\n  };\n\n  errorToggle = (string, result) => {\n    let errorString = string;\n    if (result) {\n      if (result.responseJSON) {\n        if (result.responseJSON.error === \"Authentication Required\") {\n          this.setState({ csrf: result.responseJSON.csrf }); //set csrf here since it can change after the login prompt loads\n          this.loginToggle(result.responseJSON.csrf);\n          return;\n        }\n      } else if (result.statusText === \"Service Unavailable\") {\n        errorString = result.statusText; //Use server error message if available.\n      }\n    }\n\n    let notification = this.refs.notificationSystem;\n    notification.addNotification({\n      message: errorString,\n      level: \"error\",\n      autoDismiss: 0\n    });\n  };\n\n  notificationToggle = () => {\n    if (this.state.notificationSetting === \"off\") {\n      this.setState({ notificationSetting: \"on\" });\n      Cookies.setCookie(\"notification\", \"on\", 1000);\n    } else {\n      this.setState({ notificationSetting: \"off\" });\n      Cookies.setCookie(\"notification\", \"off\", 1000);\n    }\n  };\n\n  loginToggle = (csrf, loggedin) => {\n    //Only open modal once - if other requests come in to open the modal just bypass since the login page is active\n    if (!this.state.login && loggedin !== true) {\n      let origurl = this.props.location.pathname;\n      this.props.history.push(\"/\");\n      this.setState({ login: true, origurl: origurl });\n    } else if (this.state.login && loggedin === true) {\n      this.setState({ login: false });\n      this.props.history.push(this.state.origurl);\n    }\n  };\n\n  LogOut = () => {\n    //Logs out of SCOT\n    $.ajax({\n      type: \"get\",\n      url: \"/logout\",\n      success: function (data) {\n        this.setState({ login: true });\n        console.log(\"Successfully logged out\");\n        //Call whoami so we can get a csrf token\n        this.WhoAmIQuery();\n      }.bind(this),\n      error: function (data) {\n        this.error(\"Failed to log out\", data);\n      }.bind(this)\n    });\n  };\n\n  WhoAmIQuery = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"scot/api/v2/whoami\",\n      success: function (result) {\n        SessionStorage.setSessionStorage(\"whoami\", result.user);\n        if (result.data) {\n          this.setState({\n            sensitivity: result.data.sensitivity,\n            whoami: result.user\n          });\n        }\n      }.bind(this),\n      error: function (data) {\n        this.errorToggle(\"Failed to get current user\", data);\n      }.bind(this)\n    });\n  };\n\n  GetHandler = () => {\n    $.ajax({\n      type: \"get\",\n      url: \"/scot/api/v2/handler?current=1\",\n      success: function (response) {\n        this.setState({ handler: response.records[0].username });\n      }.bind(this),\n      error: function (data) {\n        this.errorToggle(\"Failed to get current user\", data);\n      }.bind(this)\n    });\n  };\n\n  render = () => {\n    let IH = \"Incident Handler: \" + this.state.handler;\n    let type;\n\n    if (this.props.match.params.value) {\n      type = this.props.match.params.value.toLowerCase();\n    }\n\n    return (\n      <UserConfigProvider>\n        <Navbar inverse fixedTop={true} fluid={true}>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <Link to=\"/\" style={{ margin: \"0\", padding: \"0\" }}>\n                <img src=\"/images/scot-600h.png\" alt=\"\" style={{ width: \"50px\" }} />\n              </Link>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              <LinkContainer to=\"/alertgroup\" activeClassName=\"active\">\n                <NavItem>Alert</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/event\" activeClassName=\"active\">\n                <NavItem>Event</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/incident\" activeClassName=\"active\">\n                <NavItem>Incident</NavItem>\n              </LinkContainer>\n              <LinkContainer to=\"/intel\" activeClassName=\"active\">\n                <NavItem>Intel</NavItem>\n              </LinkContainer>\n              <NavDropdown id=\"nav-dropdown\" title={\"More\"}>\n                <LinkContainer to=\"/task\" activeClassName=\"active\">\n                  <MenuItem>Task</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/guide\" activeClassName=\"active\">\n                  <MenuItem>Guide</MenuItem>\n                </LinkContainer>\n                <MenuItem href=\"/revl.html#/visualization\">\n                  Visualization\n                </MenuItem>\n                <LinkContainer to=\"/signature\" activeClassName=\"active\">\n                  <MenuItem>Signature</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/entity\" activeClassName=\"active\">\n                  <MenuItem>Entity</MenuItem>\n                </LinkContainer>\n                <LinkContainer to=\"/reports\" activeClassName=\"active\">\n                  <MenuItem>Reports</MenuItem>\n                </LinkContainer>\n                <MenuItem divider />\n                <LinkContainer to=\"/admin\" activeClassName=\"active\">\n                  <MenuItem>Administration</MenuItem>\n                </LinkContainer>\n                <MenuItem href=\"/docs/index.html\">Documentation</MenuItem>\n                <MenuItem divider />\n                <MenuItem href=\"/cyberchef.htm\">Cyber Chef</MenuItem>\n                <MenuItem divider />\n                <MenuItem href=\"/#/\" onClick={this.LogOut}>\n                  Log Out\n                </MenuItem>\n              </NavDropdown>\n              <NavItem href=\"/incident_handler.html\">{IH}</NavItem>\n            </Nav>\n            <span id=\"ouo_warning\" className=\"ouo-warning\">\n              {this.state.sensitivity}\n            </span>\n            <span\n              id=\"scot_version\"\n              style={{\n                float: \"right\",\n                marginTop: \"3px\",\n                padding: \"10px 10px\",\n                position: \"relative\",\n                color: \"white\"\n              }}\n              className=\"scot_version\"\n            >\n              V3.7\n            </span>\n            <Search errorToggle={this.errorToggle} />\n          </Navbar.Collapse>\n        </Navbar>\n        <div className=\"mainNavPadding\">\n          <Login\n            csrf={this.state.csrf}\n            modalActive={this.state.login}\n            loginToggle={this.loginToggle}\n            WhoAmIQuery={this.WhoAmIQuery}\n            GetHandler={this.GetHandler}\n            errorToggle={this.errorToggle}\n            origurl={this.state.origurl}\n          />\n          <Notification ref=\"notificationSystem\" />\n          {/* Home Page Dashboard */}\n          <Route\n            exact\n            path=\"/\"\n            render={props => (\n              <Home\n                loggedIn={!this.state.login}\n                sensitivity={this.state.sensitivity}\n                errorToggle={this.errorToggle}\n                clientId={this.state.clientId}\n                createCallback={this.AMQ.create_callback_object}\n                removeCallback={this.AMQ.remove_callback_object}\n              />\n            )}\n          />\n          {type === \"admin\" ? (\n            <Route exact path=\"/admin\">\n              <Admin></Admin>\n            </Route>\n          ) : null}\n          {type === \"alert\" ? (\n            <Route exact path=\"/alert\">\n              <ListView\n                id={this.props.match.params.id}\n                id2={this.props.match.params.id2}\n                viewMode={this.state.viewMode}\n                type={type}\n                notificationToggle={this.notificationToggle}\n                notificationSetting={this.state.notificationSetting}\n                listViewFilter={this.state.listViewFilter}\n                listViewSort={this.state.listViewSort}\n                listViewPage={this.state.listViewPage}\n                errorToggle={this.errorToggle}\n                history={this.props.history}\n                createCallback={this.AMQ.create_callback_object}\n                removeCallback={this.AMQ.remove_callback_object}\n              />\n            </Route>\n          ) : null}\n          {type === \"alertgroup\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"entry\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"event\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"incident\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"task\" ? (\n            <ListView\n              isTask={true}\n              queryType={this.props.match.params.type}\n              viewMode={this.state.viewMode}\n              type={this.props.match.params.value}\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"guide\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"intel\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"signature\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"entity\" ? (\n            <ListView\n              id={this.props.match.params.id}\n              id2={this.props.match.params.id2}\n              viewMode={this.state.viewMode}\n              type={type}\n              notificationToggle={this.notificationToggle}\n              notificationSetting={this.state.notificationSetting}\n              listViewFilter={this.state.listViewFilter}\n              listViewSort={this.state.listViewSort}\n              listViewPage={this.state.listViewPage}\n              errorToggle={this.errorToggle}\n              history={this.props.history}\n              createCallback={this.AMQ.create_callback_object}\n              removeCallback={this.AMQ.remove_callback_object}\n            />\n          ) : null}\n          {type === \"reports\" && !this.props.match.params.id && <ReportPage />}\n          {type === \"reports\" &&\n            this.props.match.params.id && (\n              <SingleReport reportType={this.props.match.params.id} />\n            )}\n          {/* {type == \"amq\" ? (\n            <AMQ type=\"amq\" errorToggle={this.errorToggle} />\n          ) : null} */}\n          {type === \"wall\" ? <Wall errorToggle={this.errorToggle} /> : null}\n        </div>\n      </UserConfigProvider>\n    );\n  };\n}\n\n\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './main/index';\nimport registerServiceWorker from './registerServiceWorker';\nimport Switch from \"react-router-dom/es/Switch\";\nimport Route from \"react-router-dom/es/Route\";\nimport HashRouter from \"react-router-dom/es/HashRouter\";\nimport { SnackbarProvider } from 'notistack';\n\nlet customHistory = require('history').createBrowserHistory;\n\nReactDOM.render(<HashRouter history={customHistory()}>\n  <SnackbarProvider >\n    <Switch>\n      <Route exact path='/' component={App} />\n      <Route exact path='/:value' component={App} />\n      <Route exact path='/:value/:id' component={App} />\n      <Route exact path='/:value/:id/:id2' component={App} />\n      <Route path='/:value/:type/:id/:id2' component={App} />\n    </Switch>\n  </SnackbarProvider>\n</HashRouter>, document.getElementById('root'));"],"sourceRoot":""}